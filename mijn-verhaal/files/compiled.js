if(typeof Marblecore!=="object"){var Marblecore={Version:1.2,Loaded:false,Ready:false,Queue:[],Log:"",_Init:function(){if(!this.Loaded&&!this.Ready){if(this.IsObject(navigator)&&this.IsFilledString(navigator.userAgent)){var a=this.String.Lowercase(navigator.userAgent);this.Browser.Version=this.Cast((a.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],"float");this.Browser.MSIE=/msie/.test(a)&&!/opera/.test(a);this.Browser.Chrome=/chrome/.test(a);this.Browser.Safari=!this.Browser.Chrome&&/webkit/.test(a);this.Browser.Opera=/opera/.test(a);this.Browser.Firefox=/firefox/.test(a);this.Browser.Mozilla=!this.Browser.MSIE&&!this.Browser.Chrome&&!this.Browser.Safari&&!this.Browser.Opera&&!this.Browser.Firefox&&/mozilla/.test(a)&&!/(compatible|webkit)/.test(a);this.Browser.Mobile=function(b){if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){return true}return false}(navigator.userAgent||navigator.vendor||window.opera);this.Browser.Tablet=this.String.Lowercase(navigator.platform).indexOf("ipad")!=-1;this.Browser.GEOLocation=navigator.geolocation?true:false}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);Marblecore._Prestart()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);Marblecore._Prestart()}});if(document.documentElement&&document.documentElement.doScroll&&window==window.top){(function(){if(!Marblecore.Loaded){try{document.documentElement.doScroll("left");Marblecore._Prestart()}catch(b){setTimeout(arguments.callee,10)}}})()}}}this.Handler.Add(window,"load",Marblecore._Start,false)}},_Prestart:function(){if(!Marblecore.Loaded){Marblecore.Loaded=true;window.setTimeout("Marblecore._Pipeline();",10)}},_Start:function(){if(!Marblecore.Ready){Marblecore.Loaded=true;Marblecore.Ready=true;Marblecore.Handler.Remove(window,"load",arguments.callee);Marblecore._Pipeline()}},_Pipeline:function(){if(this.Loaded||this.Ready){this.Iterate(this.Queue,function(){if(this.Run&&(!this.WaitForReady||Marblecore.Ready)){this.Run=false;this.Job.call()}})}},_CastToInt:function(a){return this.IsFilledString(a)?parseInt(a,10):0},_CastToFloat:function(a){return this.IsFilledString(a)?parseFloat(a):0},Run:function(b,a){if(this.IsFunction(b)){if(!this.Loaded||a&&!this.Ready){this.Queue.push({Job:b,WaitForReady:a,Run:true})}else{b()}}},Cast:function(a,c,b){if(this.IsString(a)||this.IsNumber(a)||this.IsBoolean(a)){switch(c){case"string":return this.IsString(a)?a:String(a);case"number":return this.IsNumber(a)?parseInt(a):this._CastToInt(String(a).replace(/[^\d-.]/g,""));case"float":return this.IsNumber(a)?parseFloat(a):this._CastToFloat(String(a).replace(/[^\d-.]/g,""));case"boolean":return this.IsBoolean(a)?a:this.IsNumber(a)?a!=0:String(a)=="1"||this.String.Lowercase(String(a))=="true"}}return typeof b===c?b:c=="number"?0:c=="boolean"?false:c=="string"?"":null},IsUndefined:function(a){return typeof a==="undefined"},IsDefined:function(a){return!this.IsUndefined(a)},IsNull:function(a){return typeof a==="undefined"||typeof a==="object"&&a==null},IsObject:function(a){return typeof a==="object"&&a},IsFunction:function(a){return typeof a==="function"},IsString:function(a){return typeof a==="string"},IsFilledString:function(a){return typeof a==="string"&&a.length>0},IsNumber:function(a,b,c){return typeof a==="number"&&(typeof b!=="number"||a>=b)&&(typeof c!=="number"||a<=c)},IsBoolean:function(a){return typeof a==="boolean"},IsArray:function(a){return(typeof a==="object"||typeof a==="function")&&a&&typeof a.length==="number"},ArraySize:function(a){return this.IsArray(a)?a.length:0},RUID:function(c,b,g){var a="";var e="";for(var d=0;d<32;d++){var f=Math.floor(Math.random()*16).toString(16);if(this.Cast(b,"boolean")&&(d==8||d==12||d==16||d==20)){a+="-"}e+=f;a+=f}if(this.Log.indexOf("{"+e+"}")==-1){this.Log+=(this.Log==""?"":",")+"{"+e+"}";return(this.Cast(g,"boolean")?"{":"")+(this.Cast(c,"boolean")?this.String.Uppercase(a):a)+(this.Cast(g,"boolean")?"}":"")}return this.RUID(c,b,g)},Noop:function(){},Iterate:function(b,i){if(this.IsObject(b)&&this.IsFunction(i)){var d=[],e,g,a,j,h,f,c=function(k){return d.length?i.apply(k,d):i.call(k)};if(arguments.length>2){for(e=2;e<arguments.length;e+=1){d.push(arguments[e])}}if(Marblecore.IsArray(b)){for(f=0;f<b.length;f+=1){j=c(b[f]);a=typeof b[f];h=typeof j;if(h===a){b[f]=j}}}else{for(g in b){if(Object.prototype.hasOwnProperty.call(b,g)){j=c(b[g]);a=typeof b[g];h=typeof j;if(h===a){b[g]=j}}}}}return b},Call:function(a){try{if(Marblecore.IsFunction(a)){var d=[];for(var c=1;c<arguments.length;c++){d.push(arguments[c])}return d.length?a.apply(this,d):a.call()}}catch(b){}return false},Set:function(d,c,a){if(Marblecore.IsObject(d)){try{d[c]=a;return true}catch(b){}}return false},$:function(a){return this.IsObject(a)?a:this.IsFilledString(a)?document.getElementById(a):null},Element:function(a){return $(a)},RemoveAttribute:function(b,a,c){if(this.IsObject(b)){if(b.removeAttribute){b.removeAttribute(a)}if(this.Cast(c,"boolean")&&this.IsArray(b.childNodes)){for(var d=0;d<b.childNodes.length;d++){this.RemoveAttribute(b.childNodes[d],a,c)}}}},RemoveAttributes:function(b){b=this.$(b);if(this.IsObject(b)&&this.IsArray(b.attributes)){for(var c=0;c<this.ArraySize(b.attributes);c++){var a=b.attributes[c].name;try{if(this.IsFunction(b[a])){b[a]=null}}catch(d){}}}},RemoveChildNode:function(a){a=this.$(a);if(this.IsObject(a)){var b=a.parentNode;if(this.IsObject(b)){this.RemoveAttributes(a);a=b.removeChild(a);a=null}}},RemoveChildNodes:function(a){a=this.$(a);if(this.IsObject(a)&&a.hasChildNodes()){while(a.firstChild){this.RemoveChildNodes(a.firstChild);this.RemoveChildNode(a.firstChild)}}},RemoveElement:function(a){a=this.$(a);if(this.IsObject(a)){var b=a.parentNode;if(this.IsObject(b)){this.RemoveChildNodes(a);this.RemoveChildNode(a)}}},AnonymizeElement:function(a){a=this.$(a);if(this.IsObject(a)){if(Marblecore.IsFilledString(a.id)){a.id=""}if(a.hasChildNodes()){a=a.firstChild;while(a){this.AnonymizeElement(a);a=a.nextSibling}}}},String:{Lowercase:function(a){return Marblecore.IsFilledString(a)?a.toLowerCase():""},Uppercase:function(a){return Marblecore.IsFilledString(a)?a.toUpperCase():""},Capitalize:function(e,c,d,b){if(Marblecore.Cast(b,"boolean")){e=this.Lowercase(e)}if(Marblecore.IsFilledString(e)){var a=Marblecore.Cast(d,"boolean")&&!Marblecore.Cast(c,"boolean")?e.split("."):[e];Marblecore.Iterate(a,Marblecore.Cast(c,"boolean")?function(){return this.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}:function(){var h=Marblecore.String.TrimLeft(this.toString()),f="";for(var g=0;g<this.toString().length-h.length;g++){f+=" "}return f+h.substr(0,1).toUpperCase()+h.substr(1)});return this.Iterate(a,".")}return""},Trim:function(a){return Marblecore.IsFilledString(a)?a.replace(/(^\s*)|(\s*$)/g,""):""},TrimLeft:function(a){return Marblecore.IsFilledString(a)?a.replace(/(^\s*)/g,""):""},TrimRight:function(a){return Marblecore.IsFilledString(a)?a.replace(/(\s*$)/g,""):""},TrimMultiple:function(a){return Marblecore.IsFilledString(a)?a.replace(/[ ]{2,}/gi," "):""},Clean:function(a){return this.TrimMultiple(this.Trim(a))},RemoveWhitespaces:function(a){return this.Replace(a," ","")},PadLeft:function(d,c,f,e){if(Marblecore.IsString(c)&&Marblecore.IsNumber(f)&&c.length>=1){var g=Marblecore.Cast(d,"string");var b=g.charCodeAt(0)==45;if(b){g=g.substr(1)}if(g.length<f||Marblecore.Cast(e,"boolean")){var a="";do{a+=c}while(a.length<f);return(b?"-":"")+String(a+g).substr(String(a+g).length-f)}else{return g}}return""},PadRight:function(c,b,e,d){if(Marblecore.IsString(b)&&Marblecore.IsNumber(e)&&b.length>=1){var f=Marblecore.Cast(c,"string");if(f.length<e||Marblecore.Cast(d,"boolean")){var a="";do{a+=b}while(a.length<e);return String(f+a).substr(0,e)}else{return f}}return""},Limit:function(a,c,b){var d=Marblecore.Cast(a,"string");if(Marblecore.IsNumber(c)&&c>0&&c<d.length){return d.substr(0,c)+(Marblecore.IsFilledString(b)?b:"")}return d},Replace:function(d,a,b,c){return Marblecore.Cast(d,"string").replace(new RegExp("["+a+"]","g"+(Marblecore.Cast(c,"boolean")?"i":"")),b)},MakeHTMLSafe:function(a){return Marblecore.Cast(a,"string").replace(/[<>]/g,function(b){return b=="<"?"&lt;":"&gt;"}).replace(/(\r\n|[\r\n])/g,"")},CRLFToHTML:function(a){return Marblecore.Cast(a,"string").replace(/(\r\n|[\r\n])/g,"<br />")},Iterate:function(b,a){var d="";if(Marblecore.IsObject(b)){a=Marblecore.Cast(a,"string");for(var c in b){d+=(d==""?"":a)+Marblecore.Cast(b[c],"string")}}return d},Extract:function(d,c,f,b){var g=Marblecore.Cast(d,"string");if(Marblecore.IsFilledString(c)&&Marblecore.IsFilledString(f)){var e=g.indexOf(c);if(e!=-1){g=g.substr(e+c.length);if(g!=""){var a=Marblecore.Cast(b,"boolean")?g.lastIndexOf(f):g.indexOf(f);if(a!=-1){return g.substr(0,a)}}}}return""},Fill:function(a,b){var c="";a=Marblecore.Cast(a,"string");b=Marblecore.Number.Positive(Marblecore.Cast(b,"number"));while(b--){c+=a}return c}},Number:{Positive:function(a){return Marblecore.IsNumber(a)&&a>0?a:0},Negative:function(a){return Marblecore.IsNumber(a)&&a<0?a:0},Max:function(a,b){return Marblecore.IsNumber(a)&&Marblecore.IsNumber(b)?a>b?a:b:Marblecore.IsNumber(a)&&!Marblecore.IsNumber(b)?a:!Marblecore.IsNumber(a)&&Marblecore.IsNumber(b)?b:0},Min:function(a,b){return Marblecore.IsNumber(a)&&Marblecore.IsNumber(b)?a<b?a:b:Marblecore.IsNumber(a)&&!Marblecore.IsNumber(b)?a:!Marblecore.IsNumber(a)&&Marblecore.IsNumber(b)?b:0},Range:function(b,a,c){if(!Marblecore.IsNumber(b)){b=0}if(Marblecore.IsNumber(a)&&b<a){b=a}if(Marblecore.IsNumber(c)&&b>c){b=c}return b},Clean:function(d){d=Marblecore.Cast(d,"string");if(Marblecore.IsFilledString(d)){var b=d.indexOf("-")==0;var c="";for(var a=0;a<d.length;a++){if(d.charCodeAt(a)>=48&&d.charCodeAt(a)<=57){c+=d.charAt(a)}}return Marblecore.Cast(c,"number")*(b?-1:1)}return 0},Format:function(b,f){var g=Marblecore.Cast(b,"string");var e=g.length;if(Marblecore.IsFilledString(f)){var d="";var c=0;for(var a=e-1;a>=0;a--){d=g.charAt(a)+(c==3&&g.charAt(a)!="-"?f:"")+d;if(c==3){c=0}c++}return d}return g}},Date:{Now:function(){return+new Date},Future:function(a){return+new Date<a},Past:function(a){return+new Date>=a}},Base64:{Base:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_UTF8Encode:function(d){var b="";d=Marblecore.Cast(d,"string").replace(/\r\n/g,"\n");for(var a=0;a<d.length;a++){var c=d.charCodeAt(a);if(c<128){b+=String.fromCharCode(c)}else{if(c>127&&c<2048){b+=String.fromCharCode(c>>6|192);b+=String.fromCharCode(c&63|128)}else{b+=String.fromCharCode(c>>12|224);b+=String.fromCharCode(c>>6&63|128);b+=String.fromCharCode(c&63|128)}}}return b},_UTF8Decode:function(f){var c="";var b=0;var a=0;var e=0;var d=0;f=Marblecore.Cast(f,"string");while(b<f.length){a=f.charCodeAt(b);if(a<128){c+=String.fromCharCode(a);b++}else{if(a>191&&a<224){e=f.charCodeAt(b+1);c+=String.fromCharCode((a&31)<<6|e&63);b+=2}else{e=f.charCodeAt(b+1);d=f.charCodeAt(b+2);c+=String.fromCharCode((a&15)<<12|(e&63)<<6|d&63);b+=3}}}return c},Encode:function(h){var a="";var d=0;h=this._UTF8Encode(h);while(d<h.length){var j=h.charCodeAt(d++);var i=h.charCodeAt(d++);var g=h.charCodeAt(d++);var f=j>>2;var e=(j&3)<<4|i>>4;var c=(i&15)<<2|g>>6;var b=g&63;if(isNaN(i)){c=b=64}else{if(isNaN(g)){b=64}}a+=this.Base.charAt(f)+this.Base.charAt(e)+this.Base.charAt(c)+this.Base.charAt(b)}return a},Decode:function(i){var a="";var d=0;i=Marblecore.Cast(i,"string").replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<i.length){var f=this.Base.indexOf(i.charAt(d++));var e=this.Base.indexOf(i.charAt(d++));var c=this.Base.indexOf(i.charAt(d++));var b=this.Base.indexOf(i.charAt(d++));var j=f<<2|e>>4;var h=(e&15)<<4|c>>2;var g=(c&3)<<6|b;a+=String.fromCharCode(j);if(c!=64){a+=String.fromCharCode(h)}if(b!=64){a+=String.fromCharCode(g)}}return this._UTF8Decode(a)}},Handler:{References:{},Add:function(c,e,d,a,b){c=Marblecore.$(c);if(Marblecore.IsObject(c)&&Marblecore.IsFilledString(e)&&Marblecore.IsFunction(d)){Marblecore.Iterate(e.split(/\s+/),function(n,h,p,g){var k=g||this.valueOf()==Marblecore.String.Lowercase(this.valueOf())?[""]:["webkit","moz","MS","o",""];if(p&&Marblecore.IsString(n.id)){var m=n.id;var j="";if(m!=""){for(var o in Marblecore.Handler.References){if(Marblecore.Handler.References[o].ID==m){j=o;break}}}if(j==""){j=Marblecore.RUID();if(m==""){n.id=m=j}Marblecore.Handler.References[j]={ID:m,Events:{}}}if(Marblecore.IsObject(Marblecore.Handler.References[j])&&Marblecore.IsObject(Marblecore.Handler.References[j].Events)){Marblecore.Handler.References[j].Events[this]=h}}for(var i=0;i<Marblecore.ArraySize(k);i++){var f=Marblecore.IsFilledString(k[i])?k[i]+this:g?this.valueOf():Marblecore.String.Lowercase(this.valueOf());try{if(n.addEventListener){n.addEventListener(f,h,false)}else{if(n.attachEvent){n.attachEvent("on"+f,h)}else{n["on"+f]=h}}}catch(l){}}},c,d,Marblecore.Cast(a,"boolean",true),Marblecore.Cast(b,"boolean"));return true}return false},Remove:function(b,d,c,a){b=Marblecore.$(b);if(Marblecore.IsObject(b)&&Marblecore.IsFilledString(d)){Marblecore.Iterate(d.split(/\s+/),function(f,i){var h=a||this.valueOf()==Marblecore.String.Lowercase(this.valueOf())?[""]:["webkit","moz","MS","o",""];if(!Marblecore.IsFunction(i)&&Marblecore.IsFilledString(f.id)){var l="";for(var g in Marblecore.Handler.References){if(Marblecore.Handler.References[g].ID==f.id){l=g;break}}if(l!=""&&Marblecore.IsObject(Marblecore.Handler.References[l])&&Marblecore.IsObject(Marblecore.Handler.References[l].Events)&&Marblecore.IsFunction(Marblecore.Handler.References[l].Events[this])){i=Marblecore.Handler.References[l].Events[this]}}for(var k=0;k<Marblecore.ArraySize(h);k++){var m=Marblecore.IsFilledString(h[k])?h[k]+this:a?this.valueOf():Marblecore.String.Lowercase(this.valueOf());try{if(f.removeEventListener){f.removeEventListener(m,i,false)}else{if(f.detachEvent){f.detachEvent("on"+m,i)}else{f["on"+m]=null}}}catch(j){}}},b,c);return true}return false},StopPropagation:function(a){a=a||window.event;if(a){if(Marblecore.IsFunction(a.preventDefault)){a.preventDefault()}if(Marblecore.IsFunction(a.stopPropagation)){a.stopPropagation()}if(Marblecore.IsBoolean(a.cancelBubble)){a.cancelBubble=true;a.returnValue=false}}},SrcElement:function(a){a=a||window.event;if(a){return a.target||a.srcElement}return null}},GUI:{Containers:{},Scrollbar:null,Box:null,Offset:null,Opacity:null,Float:null,_Resize:function(b){var a=Marblecore.GUI.GetDimensions(document);if(Marblecore.IsNumber(b)||Marblecore.GUI.Containers.Width!=a.Width||Marblecore.GUI.Containers.Height!=a.Height){Marblecore.GUI.Containers.Width=a.Width;Marblecore.GUI.Containers.Height=a.Height;if(Marblecore.GUI.Containers.Delay){clearTimeout(Marblecore.GUI.Containers.Delay);Marblecore.GUI.Containers.Delay=null}Marblecore.GUI._PositionUpdate(false,b);if(!Marblecore.IsNumber(b)){Marblecore.GUI.Containers.Delay=setTimeout("Marblecore.GUI.Containers.Delay=null;Marblecore.GUI._PositionUpdate(true);",100)}}},_PositionUpdate:function(g,j){if(Marblecore.IsObject(Marblecore.GUI.Containers)&&Marblecore.IsBoolean(Marblecore.GUI.Containers.Initialized)&&Marblecore.GUI.Containers.Initialized&&Marblecore.IsArray(Marblecore.GUI.Containers.Objects)){var d=Marblecore.GUI.Containers.Objects;g=Marblecore.Cast(g,"boolean");for(var c=Marblecore.IsNumber(j)?j:0;c<(Marblecore.IsNumber(j)?j+1:Marblecore.ArraySize(d));c++){if(d[c].Control&&(Marblecore.IsNumber(j)||!g&&!Marblecore.Cast(d[c].Position.Delayed,"boolean")||g&&Marblecore.Cast(d[c].Position.Delayed,"boolean"))){var a=Marblecore.IsFunction(d[c].Position.Left)?parseInt(d[c].Position.Left(Marblecore.GUI.Containers.Width)):d[c].Position.Left<0?Marblecore.GUI.Containers.Width+d[c].Position.Left:d[c].Position.Left;var b=Marblecore.IsFunction(d[c].Position.Top)?parseInt(d[c].Position.Top(Marblecore.GUI.Containers.Height)):d[c].Position.Top<0?Marblecore.GUI.Containers.Height+d[c].Position.Top:d[c].Position.Top;var f=Marblecore.IsFunction(d[c].Position.Right)?parseInt(d[c].Position.Right(Marblecore.GUI.Containers.Width)):d[c].Position.Right<=0?Marblecore.GUI.Containers.Width+d[c].Position.Right:d[c].Position.Right;var l=Marblecore.IsFunction(d[c].Position.Bottom)?parseInt(d[c].Position.Bottom(Marblecore.GUI.Containers.Height)):d[c].Position.Bottom<=0?Marblecore.GUI.Containers.Height+d[c].Position.Bottom:d[c].Position.Bottom;var i=f>=a?f-a:a-f;var k=l>=b?l-b:b-l;a=Marblecore.Number.Range(Marblecore.Number.Min(a,f),0,Marblecore.GUI.Containers.Width);b=Marblecore.Number.Range(Marblecore.Number.Min(b,l),0,Marblecore.GUI.Containers.Height);if(a+i>Marblecore.GUI.Containers.Width){i=Marblecore.GUI.Containers.Width-a}if(b+k>Marblecore.GUI.Containers.Height){k=Marblecore.GUI.Containers.Height-b}i=Marblecore.Number.Positive(i-d[c].Padding.Horizontal);k=Marblecore.Number.Positive(k-d[c].Padding.Vertical);if(d[c].History.Left!=a||d[c].History.Top!=b||d[c].History.Width!=i||d[c].History.Height!=k){d[c].History.Left=a;d[c].History.Top=b;d[c].History.Width=i;d[c].History.Height=k;try{d[c].Control._Resize(a,b,i,k)}catch(h){}}}}}},_GetBoxModel:function(){if(!Marblecore.IsBoolean(this.Box)){var a=false;if(Marblecore.IsObject(document)&&Marblecore.IsObject(document.body)){var b=document.createElement("div");if(b){b.style.width=b.style.paddingLeft="1px";document.body.appendChild(b);a=b.offsetWidth===2;document.body.removeChild(b).style.display="none"}}this.Box=a}return this.Box},_Offset:function(){if(!Marblecore.IsObject(this.Offset)){var d=Marblecore.IsObject(document)&&Marblecore.IsObject(document.body)?document.body:null;this.Offset={NoAddBorder:false,AddBorderForTables:false,BorderOverflowNotVisible:false,NotIncludeMargin:false};if(d){var a=document.createElement("div");if(a){var c=d.style.marginTop;a.style.position="absolute";a.style.left=0;a.style.top=0;a.style.margin=0;a.style.border=0;a.style.width="1px";a.style.height="1px";a.style.visibility="hidden";a.innerHTML='<div style="position: absolute; top: 0; left: 0; width: 1px; height: 1px; margin: 0; padding: 0; border: 5px solid #000;"><div></div></div><table style="position: absolute; top: 0; left: 0; width: 1px; height: 1px; margin: 0; padding: 0; border: 5px solid #000;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';d.insertBefore(a,d.firstChild);if(Marblecore.IsObject(a.firstChild)){var b=a.firstChild;if(Marblecore.IsObject(b.firstChild)){this.Offset.NoAddBorder=b.firstChild.offsetTop!==5;this.Offset.AddBorderForTables=Marblecore.IsObject(b.nextSibling)&&Marblecore.IsObject(b.nextSibling.firstChild)&&Marblecore.IsObject(b.nextSibling.firstChild.firstChild)?b.nextSibling.firstChild.firstChild.offsetTop===5:false;b.style.overflow="hidden";b.style.position="relative";this.Offset.BorderOverflowNotVisible=b.firstChild.offsetTop===-5}}d.style.marginTop="1px";this.Offset.NotIncludeMargin=d.offsetTop===0;d.style.marginTop=c;d.removeChild(a)}}}},_SupportsOpacity:function(){if(!Marblecore.IsBoolean(this.Opacity)){this.Opacity=false;if(Marblecore.IsObject(document)){var a=document.createElement("div");if(a){a.style.display="none";a.innerHTML='<div style="opacity: .5;"></div>';if(Marblecore.IsObject(a.firstChild)){this.Opacity=a.firstChild.style.opacity==="0.5"}}}}return this.Opacity},_GetFloatAttribute:function(){if(!Marblecore.IsFilledString(this.Float)){this.Float="";if(Marblecore.IsObject(document)){var a=document.createElement("div");if(a){a.style.display="none";a.innerHTML='<div style="float: left;"></div>';if(Marblecore.IsObject(a.firstChild)){this.Float=!!a.firstChild.style.cssFloat?"cssFloat":"styleFloat"}}}}return this.Float},GetStyle:function(g,a,f,e){g=Marblecore.$(g);e=Marblecore.Cast(e,"boolean");if(Marblecore.IsObject(g)&&Marblecore.IsFilledString(a)){var b=g.style;var i=null;if(a!="opacity"||this._SupportsOpacity()){var j=document.defaultView?document.defaultView:window;if(a.match(/float/i)){a=this._GetFloatAttribute()}if(e||!Marblecore.IsObject(b)){if(Marblecore.IsObject(j)&&j.getComputedStyle){var c=j.getComputedStyle(g,null);if(a.match(/float/i)){a="float"}a=a.replace(/([A-Z])/g,"-$1").toLowerCase();if(Marblecore.IsObject(c)){i=c.getPropertyValue(a);if(a=="opacity"&&i==""){i="1"}}}else{if(g.currentStyle){i=g.currentStyle[a]||g.currentStyle[a.replace(/\-(\w)/g,function(l,k){return k.toUpperCase()})];if(!/^\d+(px)?$/i.test(i)&&/^\d/.test(i)){var h=b.left;var d=g.runtimeStyle.left;g.runtimeStyle.left=g.currentStyle.left;b.left=i||0;i=b.pixelLeft+"px";b.left=h;g.runtimeStyle.left=d}}}}else{i=b[a]}}else{i=Marblecore.IsObject(b)&&Marblecore.IsString(b.filter)&&b.filter.indexOf("opacity=")>=0?Marblecore.Cast(Marblecore.Number.Range(parseFloat(b.filter.match(/opacity=([^)]*)/)[1]),0,100)/100,"string"):""}if(!Marblecore.IsNull(i)){return Marblecore.IsFilledString(f)?Marblecore.Cast(i,f):i}}return null},GetComputedStyle:function(a,c,b){return this.GetStyle(a,c,b,true)},GetScrollbarDimensions:function(){if(!Marblecore.IsObject(this.Scrollbar)||!Marblecore.IsNumber(this.Scrollbar.Width)||!Marblecore.IsNumber(this.Scrollbar.Height)){var b=document.createElement("div");var c=20;var a=20;if(b){b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.width="100px";b.style.height="100px";b.style.visibility="hidden";b.style.overflow="scroll";if(document.body.appendChild(b)){if(Marblecore.IsNumber(b.clientWidth)){c=100-Marblecore.Number.Range(b.clientWidth,0,100)}if(Marblecore.IsNumber(b.clientHeight)){a=100-Marblecore.Number.Range(b.clientHeight,0,100)}document.body.removeChild(b)}}this.Scrollbar={Width:c,Height:a}}return this.Scrollbar},GetScrollbarWidth:function(){return this.GetScrollbarDimensions().Width},GetScrollbarHeight:function(){return this.GetScrollbarDimensions().Width},GetViewport:function(){return{Width:Marblecore.Cast(window&&window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.clientWidth:document.body?document.body.clientWidth:0,"number"),Height:Marblecore.Cast(window&&window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.clientHeight:document.body?document.body.clientHeight:0,"number")}},GetViewportWidth:function(){return this.GetViewport().Width},GetViewportHeight:function(){return this.GetViewport().Height},GetDimensions:function(i){var f=0;var h=0;i=Marblecore.$(i);if(Marblecore.IsObject(i)){if(i==document){f=function(l,o,n){var m=l;if(o&&o>m){m=o}return n&&n>m?n:m}(window.innerWidth?window.innerWidth:0,document.documentElement?document.documentElement.clientWidth:0,document.body?document.body.clientWidth:0);h=function(l,o,n){var m=l;if(o&&o>m){m=o}return n&&n>m?n:m}(window.innerHeight?window.innerHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.body?document.body.clientHeight:0)}else{var e=this.GetComputedStyle(i,"display");if(e!="none"&&e!=null){f=Marblecore.Cast(i.offsetWidth,"number");h=Marblecore.Cast(i.offsetHeight,"number")}else{var b=i.style;var k=i.style.visibility;var j=i.style.position;var e=i.style.display;i.style.visibility="hidden";if(j!="fixed"){i.style.position="absolute"}i.style.display="block";f=Marblecore.Cast(i.clientWidth,"number");h=Marblecore.Cast(i.clientHeight,"number");i.style.display=e;i.style.position=j;i.style.visibility=k}if(i==document.body){var c=Marblecore.Cast(this.GetComputedStyle(i,"marginLeft"),"number");var d=Marblecore.Cast(this.GetComputedStyle(i,"marginTop"),"number");var a=Marblecore.Cast(this.GetComputedStyle(i,"marginRight"),"number");var g=Marblecore.Cast(this.GetComputedStyle(i,"marginBottom"),"number");f+=c+a;h+=d+g}}}return{Width:f,Height:h}},GetWidth:function(a){return this.GetDimensions(a).Width},GetHeight:function(a){return this.GetDimensions(a).Height},GetPosition:function(j){var a=0;var b=0;j=Marblecore.$(j);if(Marblecore.IsObject(j)){if(!Marblecore.IsObject(j.ownerDocument)||j!=j.ownerDocument.body){var k=j.ownerDocument;if(k){var c=k.documentElement;if(c){var e=k.body;if(e){if(j.getBoundingClientRect){var i=j.getBoundingClientRect();if(i){a=i.left+(window.pageXOffset||this._GetBoxModel()&&c.scrollLeft||e.scrollLeft)-(c.clientLeft||e.clientLeft||0);b=i.top+(window.pageYOffset||this._GetBoxModel()&&c.scrollTop||e.scrollTop)-(c.clientTop||e.clientTop||0)}}else{var h=document.defaultView?document.defaultView:window;if(h){var g=j;var d=j.offsetParent;this._Offset();a=j.offsetLeft;b=j.offsetTop;while((j=j.parentNode)&&j!==e&&j!==c){var f=h.getComputedStyle(j,null);a-=j.scrollLeft;b-=j.scrollTop;if(j===d){a-=j.offsetLeft;b-=j.offsetTop;if(this.Offset.NoAddBorder&&!(this.Offset.AddBorderForTables&&/^t(able|d|h)$/i.test(j.tagName))){a+=this.GetComputedStyle(j,"borderLeftWidth","number")||0;b+=this.GetComputedStyle(j,"borderTopWidth","number")||0}d=j.offsetParent}if(this.Offset.BorderOverflowNotVisible&&this.GetComputedStyle(j,"overflow","string")!=="visible"){a+=this.GetComputedStyle(j,"borderLeftWidth","number")||0;b+=this.GetComputedStyle(j,"borderTopWidth","number")||0}g=j}if(g){if(this.GetComputedStyle(g,"position","string")==="relative"||this.GetComputedStyle(g,"position","string")==="static"){a+=e.offsetLeft;b+=e.offsetTop}if(this.GetComputedStyle(g,"position","string")==="fixed"){a+=Marblecore.Number.Max(c.scrollLeft,e.scrollLeft);b+=Marblecore.Number.Max(c.scrollTop,e.scrollTop)}}}}}}}}else{this._Offset();a=j.offsetLeft;b=j.offsetTop;if(this.Offset.NotIncludeMargin){a+=this.GetComputedStyle(j,"marginLeft","number")||0;b+=this.GetComputedStyle(j,"marginTop","number")||0}}}return{Left:a,Top:b}},GetLeft:function(a){return this.GetPosition(a).Left},GetTop:function(a){return this.GetPosition(a).Top},GetInnerWidth:function(b){var a=this.GetDimensions(b).Width-this.GetSpacingHorizontal(b);return a<0?0:a},GetInnerHeight:function(b){var a=this.GetDimensions(b).Height-this.GetSpacingVertical(b);return a<0?0:a},GetSpacingLeft:function(a){var d=this.GetComputedStyle(a,"paddingLeft","number");var c=this.GetComputedStyle(a,"borderLeftWidth","number");var b=this.GetComputedStyle(a,"marginLeft","number");return(d?d:0)+(c?c:0)+(b?b:0)},GetSpacingTop:function(a){var b=this.GetComputedStyle(a,"paddingTop","number");var d=this.GetComputedStyle(a,"borderTopWidth","number");var c=this.GetComputedStyle(a,"marginTop","number");return(b?b:0)+(d?d:0)+(c?c:0)},GetSpacingRight:function(c){var b=this.GetComputedStyle(c,"paddingRight","number");var d=this.GetComputedStyle(c,"borderRightWidth","number");var a=this.GetComputedStyle(c,"marginRight","number");return(b?b:0)+(d?d:0)+(a?a:0)},GetSpacingBottom:function(b){var c=this.GetComputedStyle(b,"paddingBottom","number");var d=this.GetComputedStyle(b,"borderBottomWidth","number");var a=this.GetComputedStyle(b,"marginBottom","number");return(c?c:0)+(d?d:0)+(a?a:0)},GetSpacingHorizontal:function(a){return this.GetSpacingLeft(a)+this.GetSpacingRight(a)},GetSpacingVertical:function(a){return this.GetSpacingTop(a)+this.GetSpacingBottom(a)},GetMarginLeft:function(a){var b=this.GetComputedStyle(a,"marginLeft","number");return b?b:0},GetMarginTop:function(a){var b=this.GetComputedStyle(a,"marginTop","number");return b?b:0},GetMarginRight:function(b){var a=this.GetComputedStyle(b,"marginRight","number");return a?a:0},GetMarginBottom:function(b){var a=this.GetComputedStyle(b,"marginBottom","number");return a?a:0},GetMarginHorizontal:function(a){return this.GetMarginLeft(a)+this.GetMarginRight(a)},GetMarginVertical:function(a){return this.GetMarginTop(a)+this.GetMarginBottom(a)},Position:function(a,b){b=Marblecore.Cast(b,"boolean");if(Marblecore.IsObject(a)&&Marblecore.IsObject(a.Container)&&Marblecore.String.Lowercase(a.Container.tagName)=="div"&&Marblecore.IsObject(a.Position)&&(Marblecore.IsNumber(a.Position.Left)||Marblecore.IsFunction(a.Position.Left))&&(Marblecore.IsNumber(a.Position.Top)||Marblecore.IsFunction(a.Position.Top))&&(b||Marblecore.IsNumber(a.Position.Right)||Marblecore.IsFunction(a.Position.Right))&&(b||Marblecore.IsNumber(a.Position.Bottom)||Marblecore.IsFunction(a.Position.Bottom))){if(!Marblecore.IsBoolean(this.Containers.Initialized)){this.Containers.Width=0;this.Containers.Height=0;this.Containers.Objects=[];this.Containers.Delay=null;this.Containers.Initialized=true;if(document&&document.body&&document.body.style){document.body.style.overflow="hidden"}Marblecore.Handler.Add(window,"resize",this._Resize,false)}if(Marblecore.IsArray(this.Containers.Objects)){a.Container.style.position="absolute";a.Container.style.overflow="hidden";if(!Marblecore.IsFilledString(a.Container.style.zIndex)){a.Container.style.zIndex=Marblecore.ArraySize(this.Containers.Objects)+1}this.Containers.Objects.push({Control:a,Position:a.Position,History:{Left:0,Top:0,Width:0,Height:0},Padding:{Horizontal:this.GetSpacingHorizontal(a.Container),Vertical:this.GetSpacingVertical(a.Container)}});this._Resize(Marblecore.ArraySize(this.Containers.Objects)-1);return true}}return false},Reposition:function(b){if(Marblecore.IsObject(b)&&Marblecore.IsObject(b.Container)&&Marblecore.String.Lowercase(b.Container.tagName)=="div"&&Marblecore.IsObject(b.Position)&&(Marblecore.IsNumber(b.Position.Left)||Marblecore.IsFunction(b.Position.Left))&&(Marblecore.IsNumber(b.Position.Top)||Marblecore.IsFunction(b.Position.Top))&&(Marblecore.IsNumber(b.Position.Right)||Marblecore.IsFunction(b.Position.Right))&&(Marblecore.IsNumber(b.Position.Bottom)||Marblecore.IsFunction(b.Position.Bottom))&&Marblecore.IsArray(this.Containers.Objects)){for(var a=0;a<Marblecore.ArraySize(this.Containers.Objects);a++){if(Marblecore.IsObject(this.Containers.Objects[a].Control)&&this.Containers.Objects[a].Control.RUID==b.RUID){this.Containers.Objects[a].Position=b.Position;this._Resize(a);return true}}}return false},Destroy:function(b){if(Marblecore.IsObject(b)&&Marblecore.IsObject(b.Container)&&Marblecore.String.Lowercase(b.Container.tagName)=="div"&&Marblecore.IsObject(b.Position)&&(Marblecore.IsNumber(b.Position.Left)||Marblecore.IsFunction(b.Position.Left))&&(Marblecore.IsNumber(b.Position.Top)||Marblecore.IsFunction(b.Position.Top))&&(Marblecore.IsNumber(b.Position.Right)||Marblecore.IsFunction(b.Position.Right))&&(Marblecore.IsNumber(b.Position.Bottom)||Marblecore.IsFunction(b.Position.Bottom))&&Marblecore.IsArray(this.Containers.Objects)){for(var a=0;a<Marblecore.ArraySize(this.Containers.Objects);a++){if(Marblecore.IsObject(this.Containers.Objects[a].Control)&&this.Containers.Objects[a].Control.RUID==b.RUID){this.Containers.Objects.splice(a,1);return true}}}return false},HTML:function(b,c,a){b=Marblecore.$(b);if(Marblecore.IsObject(b)&&Marblecore.IsObject(b.Marblecore)&&Marblecore.IsObject(b.Container)){b=b.Container}if(Marblecore.IsObject(b)){Marblecore.RemoveChildNodes(b);if(Marblecore.IsFilledString(c)){if(Marblecore.Cast(a,"boolean")){b.outerHTML=c}else{b.innerHTML=c}}return true}return false},SetLeft:function(a,b){a=Marblecore.$(a);if(Marblecore.IsObject(a)){a.style.left=Marblecore.Cast(b,"number")+"px"}},SetTop:function(a,b){a=Marblecore.$(a);if(Marblecore.IsObject(a)){a.style.top=Marblecore.Cast(b,"number")+"px"}},SetWidth:function(b,a){b=Marblecore.$(b);if(Marblecore.IsObject(b)){b.style.width=Marblecore.Number.Max(Marblecore.Cast(a,"number"),1)+"px"}},SetHeight:function(b,a){b=Marblecore.$(b);if(Marblecore.IsObject(b)&&Marblecore.IsObject(b.style)){b.style.height=Marblecore.Number.Max(Marblecore.Cast(a,"number"),1)+"px"}},SetStyle:function(b,f,a,d){b=Marblecore.$(b);if(Marblecore.IsObject(b)&&Marblecore.IsObject(b.style)&&Marblecore.IsFilledString(f)){if(Marblecore.String.Lowercase(f)=="opacity"){var c=Marblecore.Number.Range(Marblecore.Cast(a,"number",100),0,100);if(!this._SupportsOpacity()){b.style.zoom=1;b.style.filter=(b.filter||"").replace(/alpha\([^)]*\)/,"")+"alpha(opacity="+c+")"}else{b.style.opacity=c/100}}else{b.style[f]=a}if(Marblecore.Cast(d,"boolean")&&Marblecore.IsArray(b.childNodes)){for(var e=0;e<b.childNodes.length;e++){this.SetStyle(b.childNodes[e],f,a,d)}}}},SetVisibility:function(c,b,a){c=Marblecore.$(c);a=Marblecore.Cast(a,"boolean",true);b=Marblecore.Cast(b,"boolean",true);if(Marblecore.IsObject(c)){if(a){c.style.visibility=b?"visible":"hidden"}else{c.style.display=b?"block":"none"}}},ScrollLeft:function(c,b){c=Marblecore.$(c);if(Marblecore.IsObject(c)){var a=Marblecore.IsNumber(c.scrollLeft);if(Marblecore.IsNumber(b)){if(a){c.scrollLeft=b}else{c.pageXOffset=b}}return Marblecore.Cast(a?c.scrollLeft:c.pageXOffset,"number")}return 0},ScrollTop:function(c,b){c=Marblecore.$(c);if(Marblecore.IsObject(c)){var a=Marblecore.IsNumber(c.scrollTop);if(Marblecore.IsNumber(b)){if(a){c.scrollTop=b}else{c.pageYOffset=b}}return Marblecore.Cast(a?c.scrollTop:c.pageYOffset,"number")}return 0},Refresh:function(){if(Marblecore.Browser.CompatibilityMode&&document&&document.getElementsByTagName){var a=document.getElementsByTagName("table");if(Marblecore.IsArray(a)){for(var b in a){if(Marblecore.IsObject(a[b].refresh)){a[b].refresh()}}}}},GetOpacityStyle:function(a){a=Marblecore.Number.Range(Marblecore.Cast(a,"number",100),0,100);return a<100?this._SupportsOpacity()?"opacity: "+a/100+";":"filter: alpha(opacity="+a+");":""}},Mouse:{GetPosition:function(a,c){var b=Marblecore.GUI.GetPosition(c);var g=-(b?b.Left:0);var f=-(b?b.Top:0);a=a||window.event;if(a.pageX){g+=a.pageX;f+=a.pageY}else{if(a.clientX){var d=1;if(document&&document.body&&document.body.getBoundingClientRect&&document.body.clientWidth>0){var e=document.body.getBoundingClientRect();if(e){d=(e.right-e.left)/document.body.clientWidth}}g+=a.clientX/d+document.body.scrollLeft+document.documentElement.scrollLeft;f+=a.clientY/d+document.body.scrollTop+document.documentElement.scrollTop}}return{X:Marblecore.Number.Positive(g),Y:Marblecore.Number.Positive(f)}},IsIn:function(b,e,g,f,d,a){var c=this.GetPosition(b,e);return c&&c.X>=Marblecore.Number.Positive(g)&&c.Y>=Marblecore.Number.Positive(f)&&(d==-1||c.X<Marblecore.Number.Positive(g+d))&&(a==-1||c.Y<Marblecore.Number.Positive(f+a))},ButtonRight:function(a){a=a||window.event;return a.which?a.which==3:a.button?a.button==2:false},ButtonLeft:function(a){return!this.ButtonRight(a)},ControlKeyDown:function(a){a=a||window.event;return Marblecore.Cast(a.ctrlKey,"boolean")}},Style:{_GetStylesheets:function(){return Marblecore.IsArray(document.styleSheets)?document.styleSheets:null},_GetStylesheet:function(f){var b=this._GetStylesheets();if(b){var e=null;if(Marblecore.ArraySize(b)>0){for(var a=Marblecore.ArraySize(b)-1;!e&&a>=0;a--){if(!b[a].disabled){e=b[a]}}}if(!f&&!e){var d=document.createElement("style");if(d){var c=document.getElementsByTagName("head");d.type="text/css";d.rel="stylesheet";d.media="screen";d.title=Marblecore.RUID();if(c){c[0].appendChild(d);return this._GetStylesheet(true)}}}return e}return null},_GetRuleCount:function(a){return a&&a.cssRules?a.cssRules.length:a&&a.rules?a.rules.length:0},GetRule:function(c){var b=this._GetStylesheets();if(b){c=Marblecore.String.Lowercase(c);for(var a=0;a<Marblecore.ArraySize(b);a++){var f=b[a];if(f){var d=0;var e=null;do{if(f.cssRules){e=f.cssRules[d]}else{if(f.rules){e=f.rules[d]}}if(e&&Marblecore.String.Lowercase(e.selectorText)==c){return e}d++}while(e)}}}return null},AddRule:function(a,c){var b=this.GetRule(a);if(!b){var d=this._GetStylesheet();if(d){if(d.addRule){d.addRule(a,Marblecore.IsFilledString(c)?c:null,this._GetRuleCount(d))}else{if(d.insertRule){d.insertRule(a+" { "+(Marblecore.IsFilledString(c)?c:"")+" }",this._GetRuleCount(d))}}return this.GetRule(a)}}return b},RemoveRule:function(c){var b=this._GetStylesheets();if(b){for(var a=0;a<Marblecore.ArraySize(b);a++){var f=b[a];if(f){var d=0;var e=null;c=Marblecore.String.Lowercase(c);do{if(f.cssRules){e=f.cssRules[d]}else{if(f.rules){e=f.rules[d]}}if(e&&Marblecore.String.Lowercase(e.selectorText)==c){if(f.deleteRule){f.deleteRule(d)}else{if(f.removeRule){f.removeRule(d)}}return true}d++}while(e)}}}return false},AddClass:function(a,c){a=Marblecore.$(a);if(Marblecore.IsObject(a)&&Marblecore.IsString(a.className)){var b=" "+a.className+" ";if(b.indexOf(" "+c+" ")==-1){a.className+=(a.className==""?"":" ")+c;return true}}return false},RemoveClass:function(a,c){a=Marblecore.$(a);if(Marblecore.IsObject(a)&&Marblecore.IsString(a.className)){var b=" "+a.className+" ";if(b.indexOf(" "+c+" ")!=-1){a.className=Marblecore.String.Clean(b.replace(" "+c+" "," "));return true}}return false}},Reference:{References:{},Add:function(a,b){this.References["$"+a]=b},Get:function(a){return Marblecore.IsObject(this.References["$"+a])?this.References["$"+a]:null}},Move:{Handlers:{Drag:null,Move:null,End:null},Callers:{Start:null,Move:null,End:null},Capture:false,Absolute:false,Mouse:{X:0,Y:0},X:0,Y:0,_OnMove:function(a){if(this.Capture){var c=Marblecore.Mouse.GetPosition(a);this.X=c.X-this.Mouse.X;this.Y=c.Y-this.Mouse.Y;if(!this.Absolute){this.Mouse=c}if(!Marblecore.IsFunction(this.Callers.Start)){try{if(Marblecore.IsFunction(this.Callers.Move)){this.Callers.Move.call()}}catch(b){}}}},_OnEnd:function(a){if(this.Capture){Marblecore.Handler.Remove(document,"selectstart dragstart",this.Handlers.Drag);Marblecore.Handler.Remove(document,"mousemove",this.Handlers.Move);Marblecore.Handler.Remove(document,"mouseup",this.Handlers.End);this._OnMove(a);this.Capture=false;if(!Marblecore.IsFunction(this.Callers.Start)){try{if(Marblecore.IsFunction(this.Callers.End)){this.Callers.End.call()}}catch(b){}}this.Callers.Start=this.Callers.Move=this.Callers.End=this.Handlers.Drag=this.Handlers.Move=this.Handlers.End=null}},Start:function(c,e,f,d,a,b){this._OnEnd(c);if(!this.Capture){if(Marblecore.IsFunction(e)&&Marblecore.IsFunction(f)&&Marblecore.IsFunction(d)){if(c&&Marblecore.IsFunction(c.preventDefault)){c.preventDefault()}this.Capture=true;this.X=0;this.Y=0;this.Mouse=Marblecore.Mouse.GetPosition(c);this.Absolute=Marblecore.Cast(a,"boolean");this.Callers.Start=e;this.Callers.Move=f;this.Callers.End=d;this.Handlers.Drag=function(){return false};this.Handlers.Move=function(g){Marblecore.Move._OnMove(g)};this.Handlers.End=function(g){Marblecore.Move._OnEnd(g)};Marblecore.Handler.Add(document,"selectstart dragstart",this.Handlers.Drag,false);Marblecore.Handler.Add(document,"mousemove",this.Handlers.Move,false);Marblecore.Handler.Add(document,"mouseup",this.Handlers.End,false);setTimeout("if(Marblecore.IsFunction(Marblecore.Move.Callers.Start)){try{Marblecore.Move.Callers.Start.call();}catch(e){}Marblecore.Move.Callers.Start=null;}",Marblecore.Cast(b,"boolean")?300:1)}}},IsMoving:function(){return this.Capture}},Browser:{Version:0,MSIE:false,Safari:false,Chrome:false,Firefox:false,Opera:false,Mozilla:false,CompatibilityMode:false,Mobile:false,Tablet:false,GEOLocation:false,LTIE8:function(){this.CompatibilityMode=this.MSIE=true;this.Safari=this.Opera=this.Mozilla=false}},Animation:{Animators:{},_Cancel:function(a,b){if(Marblecore.IsFilledString(a)&&Marblecore.IsObject(this.Animators[a])){clearInterval(this.Animators[a].Timer);if(Marblecore.Cast(b,"boolean")&&Marblecore.IsFunction(this.Animators[a].Animate)){this.Animators[a].Animate(true)}this.Animators[a]=null;return true}return false},Fold:function(f,i,b,j,e,l,c,d,a,h,g){f="_"+(Marblecore.IsFilledString(f)?f:Marblecore.RUID());i=Marblecore.$(i);b=Marblecore.Number.Max(Marblecore.Cast(b,"number"),1);e=Marblecore.Cast(e,"number");l=Marblecore.Cast(l,"boolean");c=Marblecore.Cast(c,"boolean");d=Marblecore.Cast(d,"boolean");this._Cancel(f,true);if(Marblecore.IsObject(i)&&(c||d)&&Marblecore.IsNumber(i.scrollHeight)){if(!Marblecore.Browser.MSIE||Marblecore.Browser.Version>7){var m=Marblecore.GUI.GetStyle(i,"overflowX","string",true);var k=Marblecore.GUI.GetStyle(i,"overflowY","string",true);Marblecore.GUI.SetStyle(i,"overflowX","hidden");Marblecore.GUI.SetStyle(i,"overflowY","hidden");if(c){Marblecore.GUI.SetWidth(i,l?0:i.scrollWidth)}if(d){Marblecore.GUI.SetHeight(i,l?0:i.scrollHeight)}Marblecore.GUI.SetVisibility(i,true,false);if(c&&i.scrollWidth>0||d&&i.scrollHeight>0){this.Animators[f]={ID:f,Timer:setInterval("if(Marblecore.IsObject(Marblecore.Animation.Animators."+f+"))Marblecore.Animation.Animators."+f+".Animate();",20),Element:i,Steps:b,Step:0,Linear:Marblecore.Cast(j,"boolean"),Width:l?0:Marblecore.Cast(i.scrollWidth,"number"),Height:l?0:Marblecore.Cast(i.scrollHeight,"number"),Grow:l,Horizontal:c,Vertical:d,FromRight:Marblecore.Cast(a,"boolean"),FromBottom:Marblecore.Cast(h,"boolean"),OverflowX:m,OverflowY:k,Timeout:e?Marblecore.Date.Now()+Marblecore.Number.Positive(e):0,Callback:g,Animate:function(p){if(Marblecore.IsObject(this.Element)){if(!Marblecore.Cast(p,"boolean")&&(!this.Timeout||Marblecore.Date.Future(this.Timeout))&&(this.Linear&&this.Step<this.Steps||!this.Linear&&!this.Step)){var o=Marblecore.Cast(this.Element.scrollWidth,"number");var n=Marblecore.Cast(this.Element.scrollHeight,"number");if(this.Horizontal){this.Width=Marblecore.Number.Min(Marblecore.Number.Max(this.Width+Marblecore.Number.Max(this.Linear?o/this.Steps:(this.Grow?o-this.Width:this.Width)/this.Steps,1)*(this.Grow?1:-1),0),o);Marblecore.GUI.SetWidth(this.Element,this.Width);if(this.FromRight){Marblecore.GUI.ScrollLeft(this.Element,o)}}if(this.Vertical){this.Height=Marblecore.Number.Min(Marblecore.Number.Max(this.Height+Marblecore.Number.Max(this.Linear?n/this.Steps:(this.Grow?n-this.Height:this.Height)/this.Steps,1)*(this.Grow?1:-1),0),n);Marblecore.GUI.SetHeight(this.Element,this.Height);if(this.FromBottom){Marblecore.GUI.ScrollTop(this.Element,n)}}this.Step+=this.Linear?1:(!this.Horizontal||this.Grow&&this.Width==o||!this.Grow&&!this.Width)&&(!this.Vertical||this.Grow&&this.Height==n||!this.Grow&&!this.Height)?1:0}else{if(!this.Grow){Marblecore.GUI.SetVisibility(this.Element,false,false)}if(this.Horizontal){Marblecore.GUI.SetStyle(this.Element,"width","auto")}if(this.Vertical){Marblecore.GUI.SetStyle(this.Element,"height","auto")}Marblecore.GUI.SetStyle(this.Element,"overflowX",this.OverflowX);Marblecore.GUI.SetStyle(this.Element,"overflowY",this.OverflowY);Marblecore.Animation._Cancel(this.ID);Marblecore.Call(this.Callback)}}}}}else{Marblecore.GUI.SetVisibility(this.Element,false,false)}}else{Marblecore.GUI.SetVisibility(i,l,false);Marblecore.Call(g)}return true}return false},Grow:function(f,i,a,j,e,c,d,b,h,g){return this.Fold(f,i,a,j,e,true,c,d,b,h,g)},Shrink:function(f,i,a,j,e,c,d,b,h,g){return this.Fold(f,i,a,j,e,false,c,d,b,h,g)},Fade:function(e,d,a,g,b,f,c){e="_"+(Marblecore.IsFilledString(e)?e:Marblecore.RUID());d=Marblecore.$(d);g=Marblecore.Number.Max(Marblecore.Cast(g,"number"),1);f=Marblecore.Cast(f,"number");a=Marblecore.Cast(a,"boolean");this._Cancel(e,true);if(Marblecore.IsObject(d)){if(!Marblecore.Browser.MSIE||Marblecore.Browser.Version>7){this.Animators[e]={ID:e,Timer:setInterval("if(Marblecore.IsObject(Marblecore.Animation.Animators."+e+"))Marblecore.Animation.Animators."+e+".Animate();",20),Element:d,Steps:g,Step:0,Linear:Marblecore.Cast(b,"boolean"),FadeIn:a,Timeout:f?Marblecore.Date.Now()+Marblecore.Number.Positive(f):0,Callback:c,Animate:function(h){if(Marblecore.IsObject(this.Element)){if(!Marblecore.Cast(h,"boolean")&&(!this.Timeout||Marblecore.Date.Future(this.Timeout))&&this.Step<this.Steps){Marblecore.GUI.SetStyle(this.Element,"opacity",Marblecore.Number.Range(this.FadeIn?this.Step*100/this.Steps:100-this.Step*100/this.Steps,0,100));if(!this.Step){Marblecore.GUI.SetVisibility(d,true,true)}this.Step+=this.Linear?1:Marblecore.Number.Max((this.Steps-this.Step)/10,1)}else{Marblecore.GUI.SetStyle(this.Element,"opacity",this.FadeIn?100:0);Marblecore.GUI.SetVisibility(d,this.FadeIn,true);Marblecore.RemoveAttribute(d.style,"filter");Marblecore.Animation._Cancel(this.ID);Marblecore.Call(this.Callback)}}}}}else{Marblecore.GUI.SetVisibility(d,a,true);Marblecore.Call(c)}return true}return false},FadeIn:function(d,c,f,a,e,b){return this.Fade(d,c,true,f,a,e,b)},FadeOut:function(d,c,f,a,e,b){return this.Fade(d,c,false,f,a,e,b)}},Keywords:{Parse:function(f){var g=[];f=Marblecore.Cast(f,"string");if(Marblecore.IsFilledString(f)){var b=false;var e=true;var d="&";var a="";for(var c=0;c<f.length;c++){if(!b&&(f.charAt(c)==" "||f.charAt(c)=="+"||f.charAt(c)=="-"||f.charAt(c)=="|")){if(Marblecore.IsFilledString(a)){g.push({Operator:d,Keyword:a})}a="";d=f.charAt(c)=="-"?"!":f.charAt(c)=="|"?"|":"&";e=true}else{if(b&&(f.charAt(c)=='"'||f.charAt(c)=="'")){if(Marblecore.IsFilledString(a)){g.push({Operator:d,Keyword:a})}a="";d="&";e=true;b=false}else{if(e&&(f.charAt(c)=='"'||f.charAt(c)=="'")){b=true;e=false}else{a+=f.charAt(c);e=false}}}}if(Marblecore.IsFilledString(a)){g.push({Operator:d,Keyword:a})}}return g},Match:function(a,f,d){d=Marblecore.Cast(d,"boolean",false);a=Marblecore.Cast(a,"string");if(!d){a=Marblecore.String.Lowercase(a)}if(!Marblecore.IsArray(f)){f=this.Parse(f)}if(Marblecore.IsFilledString(a)&&Marblecore.ArraySize(f)>=1){var h=[false];var i=true;for(var e in f){var b=f[e];if(b){var c=a.indexOf(d?b.Keyword:Marblecore.String.Lowercase(b.Keyword))!=-1;if(b.Operator=="|"){h.push(false);i=true}else{if(b.Operator=="!"){c=!c}}h[Marblecore.ArraySize(h)-1]=i?c:h[Marblecore.ArraySize(h)-1]&&c;i=false}}for(var g in h){if(h[g]){return true}}return false}return Marblecore.IsFilledString(a)}},AJAX:{Requests:0,Queue:{},Turbo:{},ClearCache:function(){this.Turbo={}},Get:function(h,g,i,c,e,f,b,d,a){return this.Post(h,null,g,i,c,e,f,b,d,a)},GetNow:function(b,a){return this.Post(b,null,true,true,null,null,0,"","")},GetWithCallback:function(c,a,d,b){return this.Post(c,null,false,true,a,d,0,"","",b)},Post:function(p,d,k,l,t,r,o,x,n,i,g,h){var f=null;var q=false;var v="";var b=0;var s="";var a="";k=Marblecore.Cast(k,"boolean",true);l=Marblecore.Cast(l,"boolean",true);i=Marblecore.Cast(i,"boolean",false);o=Marblecore.Cast(o,"number",0);a="_"+ ++this.Requests;if(Marblecore.IsFilledString(p)){if(i&&Marblecore.IsNull(d)){for(var u in this.Turbo){var c=this.Turbo[u];if(c&&c.URL==p){v=c.Response;b=c.Status;s=c.StatusText;q=true;break}}}if(!q||!k){this.Queue[a]={ID:a,HTTPRequest:null,URL:p,WaitForResponse:k,Turbo:i,Complete:false,Succeeded:false,Response:"",Status:0,StatusText:"",Callback:function(e){if(!Marblecore.IsObject(this.HTTPRequest)||this.HTTPRequest.readyState===0||e==="abort"){if(Marblecore.IsObject(this.HTTPRequest)){this.HTTPRequest.onreadystatechange=Marblecore.Noop;this.HTTPRequest.abort()}if(!this.Complete){if(e!=="abort"){Marblecore.Call(this.CallbackFailed,"",0,"")}this.Complete=true}}else{if(!this.Complete&&Marblecore.IsObject(this.HTTPRequest)&&(this.HTTPRequest.readyState===4||e==="timeout")){this.HTTPRequest.onreadystatechange=Marblecore.Noop;this.Complete=true;if(e!=="timeout"){this.Status=this.HTTPRequest.status;this.StatusText=this.HTTPRequest.statusText;this.Response=this.HTTPRequest.responseText;this.Succeeded=!this.HTTPRequest.status&&location.protocol==="file:"||this.HTTPRequest.status>=200&&this.HTTPRequest.status<300||this.HTTPRequest.status===304||this.HTTPRequest.status===1223;if(this.Turbo){Marblecore.AJAX.Turbo[this.ID]={URL:this.URL,Response:this.Response,Status:this.Status,StatusText:this.StatusText}}}else{this.HTTPRequest.abort()}Marblecore.Call(this.Succeeded?this.CallbackSucceeded:this.CallbackFailed,this.Response,this.Status,this.StatusText)}}if(!this.WaitForResponse&&this.Complete){this.HTTPRequest=null;Marblecore.AJAX.Queue[this.sID]=null}},CallbackSucceeded:k?null:t,CallbackFailed:k?null:r};if(Marblecore.IsObject(this.Queue[a])){if(!q){try{this.Queue[a].HTTPRequest=new window.XMLHttpRequest}catch(w){}if(Marblecore.IsObject(this.Queue[a].HTTPRequest)){var m=Marblecore.IsNull(d)&&Marblecore.IsNull(h)?"GET":"POST";var j=false;p=p.replace(/#.*$/,"");if(l){p+=(p.indexOf("?")==-1?"?":"&")+"__no_cache="+Marblecore.Date.Now()}try{if(Marblecore.IsFilledString(x)&&Marblecore.IsFilledString(n)){this.Queue[a].HTTPRequest.open(m,p,!k,x,n)}else{this.Queue[a].HTTPRequest.open(m,p,!k)}if(m=="POST"){this.Queue[a].HTTPRequest.setRequestHeader("Content-Type",Marblecore.IsObject(h)?"application/octet-stream":"application/x-www-form-urlencoded")}this.Queue[a].HTTPRequest.setRequestHeader("X-Requested-With","Marblecore");if(Marblecore.IsObject(h)&&Marblecore.Number.Positive(h.fileSize)){this.Queue[a].HTTPRequest.setRequestHeader("Content-Length",h.fileSize)}}catch(w){}this.Queue[a].HTTPRequest.onreadystatechange=new Function("sCall","if(Marblecore.IsObject(Marblecore.AJAX.Queue."+a+"))Marblecore.AJAX.Queue."+a+".Callback(sCall);");if(Marblecore.IsFunction(g)){this.Queue[a].HTTPRequest.onprogress=g}try{this.Queue[a].HTTPAbort=this.Queue[a].HTTPRequest.abort;this.Queue[a].HTTPRequest.abort=new Function("","if(Marblecore.IsObject(Marblecore.AJAX.Queue."+a+")){if(Marblecore.IsObject(Marblecore.AJAX.Queue."+a+".HTTPRequest))Marblecore.Call(Marblecore.AJAX.Queue."+a+".HTTPAbort, Marblecore.AJAX.Queue."+a+".HTTPRequest);Marblecore.AJAX.Queue."+a+'.HTTPRequest.onreadystatechange("abort");}')}catch(w){}if(o>0){setTimeout("try{if(Marblecore.IsObject(Marblecore.AJAX.Queue."+a+")&&Marblecore.IsObject(Marblecore.AJAX.Queue."+a+".HTTPRequest)&&!Marblecore.AJAX.Queue."+a+".Complete)Marblecore.AJAX.Queue."+a+'.HTTPRequest.onreadystatechange("timeout");}catch(e){}',o*1e3)}try{if(Marblecore.IsObject(h)){if("getAsBinary"in h){this.Queue[a].HTTPRequest.sendAsBinary(h.getAsBinary())}else{this.Queue[a].HTTPRequest.send(h)}}else{this.Queue[a].HTTPRequest.send(m=="POST"?d:null)}q=true}catch(w){if(!k){try{this.Queue[a].Complete=true;Marblecore.Call(this.Queue[a].CallbackFailed,"",0,"")}catch(w){}}}if(k){this.Queue[a].HTTPRequest.onreadystatechange();v=this.Queue[a].Response;b=this.Queue[a].Status;s=this.Queue[a].StatusText;q=this.Queue[a].Succeeded;this.Queue[a].HTTPRequest=null;this.Queue[a]=null}}}else{this.Queue[a].Response=v;this.Queue[a].Status=b;this.Queue[a].StatusText=s;setTimeout("try{if(Marblecore.IsObject(Marblecore.AJAX.Queue."+a+"))Marblecore.Call(Marblecore.AJAX.Queue."+a+".CallbackSucceeded, Marblecore.AJAX.Queue."+a+".Response, Marblecore.AJAX.Queue."+a+".Status, Marblecore.AJAX.Queue."+a+".StatusText);}catch(e){}",1)}}}}return{ID:a,Succeeded:q,Response:v,Status:b,StatusText:s,Abort:new Function("",'Marblecore.AJAX.Abort("'+a+'");'),Running:new Function("",'Marblecore.AJAX.Running("'+a+'");')}},PostNow:function(b,a){return this.Post(b,a,true,true,null,null,0,"","")},PostWithCallback:function(c,a,b,d){return this.Post(c,a,false,true,b,d,0,"","")},Abort:function(a){try{if(Marblecore.IsObject(this.Queue[a])&&Marblecore.IsObject(this.Queue[a].HTTPRequest)){this.Queue[a].HTTPRequest.abort();return true}}catch(b){}return false},Running:function(a){try{return Marblecore.IsObject(this.Queue[a])&&Marblecore.IsObject(this.Queue[a].HTTPRequest)}catch(b){}return false}},JSON:{IsLoaded:function(){return typeof JSON==="object"},ToObject:function(a){try{return Marblecore.IsFilledString(a)&&this.IsLoaded()?JSON.parse(a):null}catch(b){}return null},ToString:function(b){try{return Marblecore.IsDefined(b)&&this.IsLoaded()?JSON.stringify(b):""}catch(a){}return""}}};Marblecore._Init()}
window.Modernizr=function(A,c,g){var I="2.8.3",w={},y=true,L=c.documentElement,a="modernizr",H=c.createElement(a),E=H.style,K=c.createElement("input"),C=":)",b={}.toString,j=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms",F=h.split(" "),J=h.toLowerCase().split(" "),G={svg:"http://www.w3.org/2000/svg"},l={},p={},f={},e=[],k=e.slice,s,n=function(U,W,O,V){var N,T,Q,R,M=c.createElement("div"),S=c.body,P=S||c.createElement("body");if(parseInt(O,10)){while(O--){Q=c.createElement("div");Q.id=V?V[O]:a+(O+1);M.appendChild(Q)}}N=["&#173;",'<style id="s',a,'">',U,"</style>"].join("");M.id=a;(S?M:P).innerHTML+=N;P.appendChild(M);if(!S){P.style.background="";P.style.overflow="hidden";R=L.style.overflow;L.style.overflow="hidden";L.appendChild(P)}T=W(M,U);if(!S){P.parentNode.removeChild(P);L.style.overflow=R}else{M.parentNode.removeChild(M)}return!!T},o=function(){var N={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function M(O,Q){Q=Q||c.createElement(N[O]||"div");O="on"+O;var P=O in Q;if(!P){if(!Q.setAttribute){Q=c.createElement("div")}if(Q.setAttribute&&Q.removeAttribute){Q.setAttribute(O,"");P=r(Q[O],"function");if(!r(Q[O],"undefined")){Q[O]=g}Q.removeAttribute(O)}}Q=null;return P}return M}(),i={}.hasOwnProperty,x;if(!r(i,"undefined")&&!r(i.call,"undefined")){x=function(M,N){return i.call(M,N)}}else{x=function(M,N){return N in M&&r(M.constructor.prototype[N],"undefined")}}if(!Function.prototype.bind){Function.prototype.bind=function d(O){var P=this;if(typeof P!="function"){throw new TypeError}var M=k.call(arguments,1),N=function(){if(this instanceof N){var S=function(){};S.prototype=P.prototype;var R=new S;var Q=P.apply(R,M.concat(k.call(arguments)));if(Object(Q)===Q){return Q}return R}else{return P.apply(O,M.concat(k.call(arguments)))}};return N}}function D(M){E.cssText=M}function u(N,M){return D(j.join(N+";")+(M||""))}function r(N,M){return typeof N===M}function t(N,M){return!!~(""+N).indexOf(M)}function z(O,M){for(var N in O){var P=O[N];if(!t(P,"-")&&E[P]!==g){return M=="pfx"?P:true}}return false}function q(N,Q,P){for(var M in N){var O=Q[N[M]];if(O!==g){if(P===false){return N[M]}if(r(O,"function")){return O.bind(P||Q)}return O}}return false}function m(Q,M,P){var N=Q.charAt(0).toUpperCase()+Q.slice(1),O=(Q+" "+F.join(N+" ")+N).split(" ");if(r(M,"string")||r(M,"undefined")){return z(O,M)}else{O=(Q+" "+J.join(N+" ")+N).split(" ");return q(O,M,P)}}l.flexbox=function(){return m("flexWrap")};l.canvas=function(){var M=c.createElement("canvas");return!!(M.getContext&&M.getContext("2d"))};l.canvastext=function(){return!!(w.canvas&&r(c.createElement("canvas").getContext("2d").fillText,"function"))};l.webgl=function(){return!!A.WebGLRenderingContext};l.touch=function(){var M;if("ontouchstart"in A||A.DocumentTouch&&c instanceof DocumentTouch){M=true}else{n(["@media (",j.join("touch-enabled),("),a,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(N){M=N.offsetTop===9})}return M};l.geolocation=function(){return"geolocation"in navigator};l.postmessage=function(){return!!A.postMessage};l.websqldatabase=function(){return!!A.openDatabase};l.indexedDB=function(){return!!m("indexedDB",A)};l.hashchange=function(){return o("hashchange",A)&&(c.documentMode===g||c.documentMode>7)};l.history=function(){return!!(A.history&&history.pushState)};l.draganddrop=function(){var M=c.createElement("div");return"draggable"in M||"ondragstart"in M&&"ondrop"in M};l.websockets=function(){return"WebSocket"in A||"MozWebSocket"in A};l.rgba=function(){D("background-color:rgba(150,255,150,.5)");return t(E.backgroundColor,"rgba")};l.hsla=function(){D("background-color:hsla(120,40%,100%,.5)");return t(E.backgroundColor,"rgba")||t(E.backgroundColor,"hsla")};l.multiplebgs=function(){D("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(E.background)};l.backgroundsize=function(){return m("backgroundSize")};l.borderimage=function(){return m("borderImage")};l.borderradius=function(){return m("borderRadius")};l.boxshadow=function(){return m("boxShadow")};l.textshadow=function(){return c.createElement("div").style.textShadow===""};l.opacity=function(){u("opacity:.55");return/^0.55$/.test(E.opacity)};l.cssanimations=function(){return m("animationName")};l.csscolumns=function(){return m("columnCount")};l.cssgradients=function(){var O="background-image:",N="gradient(linear,left top,right bottom,from(#9f9),to(white));",M="linear-gradient(left top,#9f9, white);";D((O+"-webkit- ".split(" ").join(N+O)+j.join(M+O)).slice(0,-O.length));return t(E.backgroundImage,"gradient")};l.cssreflections=function(){return m("boxReflect")};l.csstransforms=function(){return!!m("transform")};l.csstransforms3d=function(){var M=!!m("perspective");if(M&&"webkitPerspective"in L.style){n("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(N,O){M=N.offsetLeft===9&&N.offsetHeight===3})}return M};l.csstransitions=function(){return m("transition")};l.fontface=function(){var M;n('@font-face {font-family:"font";src:url("https://")}',function(Q,R){var P=c.getElementById("smodernizr"),N=P.sheet||P.styleSheet,O=N?N.cssRules&&N.cssRules[0]?N.cssRules[0].cssText:N.cssText||"":"";M=/src/i.test(O)&&O.indexOf(R.split(" ")[0])===0});return M};l.generatedcontent=function(){var M;n(["#",a,"{font:0/0 a}#",a,':after{content:"',C,'";visibility:hidden;font:3px/1 a}'].join(""),function(N){M=N.offsetHeight>=3});return M};l.video=function(){var N=c.createElement("video"),M=false;try{if(M=!!N.canPlayType){M=new Boolean(M);M.ogg=N.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");M.h264=N.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");M.webm=N.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(O){}return M};l.audio=function(){var N=c.createElement("audio"),M=false;try{if(M=!!N.canPlayType){M=new Boolean(M);M.ogg=N.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");M.mp3=N.canPlayType("audio/mpeg;").replace(/^no$/,"");M.wav=N.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");M.m4a=(N.canPlayType("audio/x-m4a;")||N.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(O){}return M};l.localstorage=function(){try{localStorage.setItem(a,a);localStorage.removeItem(a);return true}catch(M){return false}};l.sessionstorage=function(){try{sessionStorage.setItem(a,a);sessionStorage.removeItem(a);return true}catch(M){return false}};l.webworkers=function(){return!!A.Worker};l.applicationcache=function(){return!!A.applicationCache};l.svg=function(){return!!c.createElementNS&&!!c.createElementNS(G.svg,"svg").createSVGRect};l.inlinesvg=function(){var M=c.createElement("div");M.innerHTML="<svg/>";return(M.firstChild&&M.firstChild.namespaceURI)==G.svg};l.smil=function(){return!!c.createElementNS&&/SVGAnimate/.test(b.call(c.createElementNS(G.svg,"animate")))};l.svgclippaths=function(){return!!c.createElementNS&&/SVGClipPath/.test(b.call(c.createElementNS(G.svg,"clipPath")))};function B(){w.input=function(O){for(var N=0,M=O.length;N<M;N++){f[O[N]]=!!(O[N]in K)}if(f.list){f.list=!!(c.createElement("datalist")&&A.HTMLDataListElement)}return f}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));w.inputtypes=function(P){for(var O=0,N,R,Q,M=P.length;O<M;O++){K.setAttribute("type",R=P[O]);N=K.type!=="text";if(N){K.value=C;K.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(R)&&K.style.WebkitAppearance!==g){L.appendChild(K);Q=c.defaultView;N=Q.getComputedStyle&&Q.getComputedStyle(K,null).WebkitAppearance!=="textfield"&&K.offsetHeight!==0;L.removeChild(K)}else{if(/^(search|tel)$/.test(R)){}else{if(/^(url|email)$/.test(R)){N=K.checkValidity&&K.checkValidity()===false}else{N=K.value!=C}}}}p[P[O]]=!!N}return p}("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var v in l){if(x(l,v)){s=v.toLowerCase();w[s]=l[v]();e.push((w[s]?"":"no-")+s)}}w.input||B();w.addTest=function(N,O){if(typeof N=="object"){for(var M in N){if(x(N,M)){w.addTest(M,N[M])}}}else{N=N.toLowerCase();if(w[N]!==g){return w}O=typeof O=="function"?O():O;if(typeof y!=="undefined"&&y){L.className+=" "+(O?"":"no-")+N}w[N]=O}return w};D("");H=K=null;(function(W,Y){var S="3.7.0";var P=W.html5||{};var T=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var O=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var ac;var U="_html5shiv";var M=0;var aa={};var Q;(function(){try{var af=Y.createElement("a");af.innerHTML="<xyz></xyz>";ac="hidden"in af;Q=af.childNodes.length==1||function(){Y.createElement("a");var ah=Y.createDocumentFragment();return typeof ah.cloneNode=="undefined"||typeof ah.createDocumentFragment=="undefined"||typeof ah.createElement=="undefined"}()}catch(ag){ac=true;Q=true}})();function R(af,ah){var ai=af.createElement("p"),ag=af.getElementsByTagName("head")[0]||af.documentElement;ai.innerHTML="x<style>"+ah+"</style>";return ag.insertBefore(ai.lastChild,ag.firstChild)}function X(){var af=V.elements;return typeof af=="string"?af.split(" "):af}function ab(af){var ag=aa[af[U]];if(!ag){ag={};M++;af[U]=M;aa[M]=ag}return ag}function Z(ai,af,ah){if(!af){af=Y}if(Q){return af.createElement(ai)}if(!ah){ah=ab(af)}var ag;if(ah.cache[ai]){ag=ah.cache[ai].cloneNode()}else{if(O.test(ai)){ag=(ah.cache[ai]=ah.createElem(ai)).cloneNode()}else{ag=ah.createElem(ai)}}return ag.canHaveChildren&&!T.test(ai)&&!ag.tagUrn?ah.frag.appendChild(ag):ag}function ad(ah,aj){if(!ah){ah=Y}if(Q){return ah.createDocumentFragment()}aj=aj||ab(ah);var ak=aj.frag.cloneNode(),ai=0,ag=X(),af=ag.length;for(;ai<af;ai++){ak.createElement(ag[ai])}return ak}function ae(af,ag){if(!ag.cache){ag.cache={};ag.createElem=af.createElement;ag.createFrag=af.createDocumentFragment;ag.frag=ag.createFrag()}af.createElement=function(ah){if(!V.shivMethods){return ag.createElem(ah)}return Z(ah,af,ag)};af.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+X().join().replace(/[\w\-]+/g,function(ah){ag.createElem(ah);ag.frag.createElement(ah);return'c("'+ah+'")'})+");return n}")(V,ag.frag)}function N(af){if(!af){af=Y}var ag=ab(af);if(V.shivCSS&&!ac&&!ag.hasCSS){ag.hasCSS=!!R(af,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")}if(!Q){ae(af,ag)}return af}var V={elements:P.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:S,shivCSS:P.shivCSS!==false,supportsUnknownElements:Q,shivMethods:P.shivMethods!==false,type:"default",shivDocument:N,createElement:Z,createDocumentFragment:ad};W.html5=V;N(Y)})(this,c);w._version=I;w._prefixes=j;w._domPrefixes=J;w._cssomPrefixes=F;w.hasEvent=o;w.testProp=function(M){return z([M])};w.testAllProps=m;w.testStyles=n;w.prefixed=function(O,N,M){if(!N){return m(O,"pfx")}else{return m(O,N,M)}};L.className=L.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(y?" js "+e.join(" "):"");return w}(this,this.document);(function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return!b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(w,v,t,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(x.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=w&&R(function(){I.removeChild(h)},50);for(var c in D[v]){D[v].hasOwnProperty(c)&&D[v][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(w),g=0,b=0,x={t:t,s:v,e:q,a:p,x:n};1===D[v]&&(b=1,D[v]=[]),"object"==w?h.data=v:(h.src=v,h.type=w),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(s,0,x),"img"!=w&&(b||2===D[v]?(I.insertBefore(h,J?null:Q),R(m,n)):D[v].push(h))}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance"in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;for(l=0;l<p;l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))}for(l=0;l<h;l++){q=E[l](q)}return q}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2})))}function m(w,v){function u(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}),n(b,r,v,0,t)}else{if(Object(b)===b){for(g in o=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}:r[g]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),p()}}(q[g])),n(b[g],r,v,g,t))}}}}else{!h&&p()}}var t=!!w.test,s=w.load||w.both,r=w.callback||Y,q=r,p=w.complete||Y,o,g;u(t?w.yep:w.nope,!!s),s&&u(s)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=1e4,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=r;for(b in p){g.setAttribute(b,p[b])}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,q(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;l.href=b,l.rel="stylesheet",l.type="text/css";for(f in m){l.setAttribute(f,m[f])}k||(Q.parentNode.insertBefore(l,Q),R(n,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};!function(c){if(typeof ko!=="undefined"&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect){ko.bindingHandlers.multiselect={init:function(h,i,j,g,e){var k=j().selectedOptions;var f=ko.utils.unwrapObservable(i());c(h).multiselect(f);if(a(k)){c(h).multiselect("select",ko.utils.unwrapObservable(k));k.subscribe(function(n){var l=[],m=[];d(n,function(o){switch(o.status){case"added":l.push(o.value);break;case"deleted":m.push(o.value);break}});if(l.length>0){c(h).multiselect("select",l)}if(m.length>0){c(h).multiselect("deselect",m)}},null,"arrayChange")}},update:function(j,k,l,i,e){var h=l().options,g=c(j).data("multiselect"),f=ko.utils.unwrapObservable(k());if(a(h)){h.subscribe(function(m){c(j).multiselect("rebuild")})}if(!g){c(j).multiselect(f)}else{g.updateOriginalOptions()}}}}function a(e){return ko.isObservable(e)&&!(e.destroyAll===undefined)}function d(g,f){for(var e=0;e<g.length;++e){f(g[e])}}function b(e,f){this.options=this.mergeOptions(f);this.$select=c(e);this.originalOptions=this.$select.clone()[0].options;this.query="";this.searchTimeout=null;this.options.multiple=this.$select.attr("multiple")==="multiple";this.options.onChange=c.proxy(this.options.onChange,this);this.options.onDropdownShow=c.proxy(this.options.onDropdownShow,this);this.options.onDropdownHide=c.proxy(this.options.onDropdownHide,this);this.options.onDropdownShown=c.proxy(this.options.onDropdownShown,this);this.options.onDropdownHidden=c.proxy(this.options.onDropdownHidden,this);this.buildContainer();this.buildButton();this.buildDropdown();this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.updateButtonText();this.updateSelectAll();if(this.options.disableIfEmpty){this.disableIfEmpty()}this.$select.hide().after(this.$container)}b.prototype={defaults:{buttonText:function(f,e){if(f.length===0){return this.nonSelectedText+' <b class="caret"></b>'}else{if(f.length>this.numberDisplayed){return f.length+" "+this.nSelectedText+' <b class="caret"></b>'}else{var g="";f.each(function(){var h=c(this).attr("label")!==undefined?c(this).attr("label"):c(this).html();g+=h+", "});return g.substr(0,g.length-2)+' <b class="caret"></b>'}}},buttonTitle:function(f,e){if(f.length===0){return this.nonSelectedText}else{var g="";f.each(function(){g+=c(this).text()+", "});return g.substr(0,g.length-2)}},label:function(e){return c(e).attr("label")||c(e).html()},onChange:function(e,f){},onDropdownShow:function(e){},onDropdownHide:function(e){},onDropdownShown:function(e){},onDropdownHidden:function(e){},buttonClass:"btn btn-default",dropRight:false,selectedClass:"active",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',maxHeight:false,checkboxName:false,includeSelectAllOption:false,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",enableFiltering:false,enableCaseInsensitiveFiltering:false,filterPlaceholder:"Search",filterBehavior:"text",preventInputChangeEvent:false,nonSelectedText:"None selected",nSelectedText:"selected",numberDisplayed:3,disableIfEmpty:false,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',li:'<li><a href="javascript:void(0);"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item group"><label class="multiselect-group"></label></li>'}},constructor:b,buildContainer:function(){this.$container=c(this.options.buttonContainer);this.$container.on("show.bs.dropdown",this.options.onDropdownShow);this.$container.on("hide.bs.dropdown",this.options.onDropdownHide);this.$container.on("shown.bs.dropdown",this.options.onDropdownShown);this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=c(this.options.templates.button).addClass(this.options.buttonClass);if(this.$select.prop("disabled")){this.disable()}else{this.enable()}if(this.options.buttonWidth&&this.options.buttonWidth!=="auto"){this.$button.css({width:this.options.buttonWidth});this.$container.css({width:this.options.buttonWidth})}var e=this.$select.attr("tabindex");if(e){this.$button.attr("tabindex",e)}this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=c(this.options.templates.ul);if(this.options.dropRight){this.$ul.addClass("pull-right")}if(this.options.maxHeight){this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(c.proxy(function(f,g){var e=c(g).prop("tagName").toLowerCase();if(c(g).prop("value")===this.options.selectAllValue){return}if(e==="optgroup"){this.createOptgroup(g)}else{if(e==="option"){if(c(g).data("role")==="divider"){this.createDivider()}else{this.createOptionValue(g)}}}},this));c("li input",this.$ul).on("change",c.proxy(function(i){var e=c(i.target);var h=e.prop("checked")||false;var f=e.val()===this.options.selectAllValue;if(this.options.selectedClass){if(h){e.parents("li").addClass(this.options.selectedClass)}else{e.parents("li").removeClass(this.options.selectedClass)}}var j=e.val();var k=this.getOptionByValue(j);var l=c("option",this.$select).not(k);var g=c("input",this.$container).not(e);if(f){if(h){this.selectAll()}else{this.deselectAll()}}if(!f){if(h){k.prop("selected",true);if(this.options.multiple){k.prop("selected",true)}else{if(this.options.selectedClass){c(g).parents("li").removeClass(this.options.selectedClass)}c(g).prop("checked",false);l.prop("selected",false);this.$button.click()}if(this.options.selectedClass==="active"){l.parents("a").css("outline","")}}else{k.prop("selected",false)}}this.$select.change();this.updateButtonText();this.updateSelectAll();this.options.onChange(k,h);if(this.options.preventInputChangeEvent){return false}},this));c("li a",this.$ul).on("touchstart click",function(j){j.stopPropagation();var e=c(j.target);if(j.shiftKey){var i=e.prop("checked")||false;if(i){var h=e.parents("li:last").siblings('li[class="active"]:first');var g=e.parents("li").index();var f=h.index();if(g>f){e.parents("li:last").prevUntil(h).each(function(){c(this).find("input:first").prop("checked",true).trigger("change")})}else{e.parents("li:last").nextUntil(h).each(function(){c(this).find("input:first").prop("checked",true).trigger("change")})}}}e.blur()});this.$container.off("keydown.multiselect").on("keydown.multiselect",c.proxy(function(h){if(c('input[type="text"]',this.$container).is(":focus")){return}if((h.keyCode===9||h.keyCode===27)&&this.$container.hasClass("open")){this.$button.click()}else{var i=c(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!i.length){return}var e=i.index(i.filter(":focus"));if(h.keyCode===38&&e>0){e--}else{if(h.keyCode===40&&e<i.length-1){e++}else{if(!~e){e=0}}}var g=i.eq(e);g.focus();if(h.keyCode===32||h.keyCode===13){var f=g.find("input");f.prop("checked",!f.prop("checked"));f.change()}h.stopPropagation();h.preventDefault()}},this))},createOptionValue:function(f){if(c(f).is(":selected")){c(f).prop("selected",true)}var e=this.options.label(f);var j=c(f).val();var i=this.options.multiple?"checkbox":"radio";var k=c(this.options.templates.li);c("label",k).addClass(i);if(this.options.checkboxName){c("label",k).append('<input type="'+i+'" name="'+this.options.checkboxName+'" />')}else{c("label",k).append('<input type="'+i+'" />')}var h=c(f).prop("selected")||false;var g=c("input",k);g.val(j);if(j===this.options.selectAllValue){k.addClass("multiselect-item multiselect-all");g.parent().parent().addClass("multiselect-all")}c("label",k).append(" "+e);this.$ul.append(k);if(c(f).is(":disabled")){g.attr("disabled","disabled").prop("disabled",true).parents("a").attr("tabindex","-1").parents("li").addClass("disabled")}g.prop("checked",h);if(h&&this.options.selectedClass){g.parents("li").addClass(this.options.selectedClass)}},createDivider:function(f){var e=c(this.options.templates.divider);this.$ul.append(e)},createOptgroup:function(e){var g=c(e).prop("label");var f=c(this.options.templates.liGroup);c("label",f).text(g);this.$ul.append(f);if(c(e).is(":disabled")){f.addClass("disabled")}c("option",e).each(c.proxy(function(h,i){this.createOptionValue(i)},this))},buildSelectAll:function(){var e=this.hasSelectAll();if(!e&&this.options.includeSelectAllOption&&this.options.multiple&&c("option",this.$select).length>this.options.includeSelectAllIfMoreThan){if(this.options.includeSelectAllDivider){this.$ul.prepend(c(this.options.templates.divider))}var g=c(this.options.templates.li);c("label",g).addClass("checkbox");if(this.options.checkboxName){c("label",g).append('<input type="checkbox" name="'+this.options.checkboxName+'" />')}else{c("label",g).append('<input type="checkbox" />')}var f=c("input",g);f.val(this.options.selectAllValue);g.addClass("multiselect-item multiselect-all");f.parent().parent().addClass("multiselect-all");c("label",g).append(" "+this.options.selectAllText);this.$ul.prepend(g);f.prop("checked",false)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){this.$filter=c(this.options.templates.filter);c("input",this.$filter).attr("placeholder",this.options.filterPlaceholder);this.$ul.prepend(this.$filter);this.$filter.val(this.query).on("click",function(f){f.stopPropagation()}).on("input keydown",c.proxy(function(f){clearTimeout(this.searchTimeout);this.searchTimeout=this.asyncFunction(c.proxy(function(){if(this.query!==f.target.value){this.query=f.target.value;c.each(c("li",this.$ul),c.proxy(function(h,i){var k=c("input",i).val();var l=c("label",i).text();var g="";if(this.options.filterBehavior==="text"){g=l}else{if(this.options.filterBehavior==="value"){g=k}else{if(this.options.filterBehavior==="both"){g=l+"\n"+k}}}if(k!==this.options.selectAllValue&&l){var j=false;if(this.options.enableCaseInsensitiveFiltering&&g.toLowerCase().indexOf(this.query.toLowerCase())>-1){j=true}else{if(g.indexOf(this.query)>-1){j=true}}if(j){c(i).show().removeClass("filter-hidden")}else{c(i).hide().addClass("filter-hidden")}}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove();this.$select.show();this.$select.data("multiselect",null)},refresh:function(){c("option",this.$select).each(c.proxy(function(e,f){var g=c("li input",this.$ul).filter(function(){return c(this).val()===c(f).val()});if(c(f).is(":selected")){g.prop("checked",true);if(this.options.selectedClass){g.parents("li").addClass(this.options.selectedClass)}}else{g.prop("checked",false);if(this.options.selectedClass){g.parents("li").removeClass(this.options.selectedClass)}}if(c(f).is(":disabled")){g.attr("disabled","disabled").prop("disabled",true).parents("li").addClass("disabled")}else{g.prop("disabled",false).parents("li").removeClass("disabled")}},this));this.updateButtonText();this.updateSelectAll()},select:function(j,k){if(!c.isArray(j)){j=[j]}for(var e=0;e<j.length;e++){var g=j[e];var h=this.getOptionByValue(g);var f=this.getInputByValue(g);if(h===undefined||f===undefined){continue}if(!this.options.multiple){this.deselectAll(false)}if(this.options.selectedClass){f.parents("li").addClass(this.options.selectedClass)}f.prop("checked",true);h.prop("selected",true)}this.updateButtonText();if(k&&j.length===1){this.options.onChange(h,true)}},clearSelection:function(){this.deselectAll(false);this.updateButtonText();this.updateSelectAll()},deselect:function(e,k){if(!c.isArray(e)){e=[e]}for(var f=0;f<e.length;f++){var h=e[f];var j=this.getOptionByValue(h);var g=this.getInputByValue(h);if(j===undefined||g===undefined){continue}if(this.options.selectedClass){g.parents("li").removeClass(this.options.selectedClass)}g.prop("checked",false);j.prop("selected",false)}this.updateButtonText();if(k&&e.length===1){this.options.onChange(j,false)}},selectAll:function(){var i=c("li input[type='checkbox']:enabled",this.$ul);var g=i.filter(":visible");var h=i.length;var e=g.length;g.prop("checked",true);c("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass);if(h===e){c("option:enabled",this.$select).prop("selected",true)}else{var f=g.map(function(){return c(this).val()}).get();c("option:enabled",this.$select).filter(function(j){return c.inArray(c(this).val(),f)!==-1}).prop("selected",true)}},deselectAll:function(e){var e=typeof e==="undefined"?true:e;if(e){var g=c("li input[type='checkbox']:enabled",this.$ul).filter(":visible");g.prop("checked",false);var f=g.map(function(){return c(this).val()}).get();c("option:enabled",this.$select).filter(function(h){return c.inArray(c(this).val(),f)!==-1}).prop("selected",false);if(this.options.selectedClass){c("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}}else{c("li input[type='checkbox']:enabled",this.$ul).prop("checked",false);c("option:enabled",this.$select).prop("selected",false);if(this.options.selectedClass){c("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)}}},rebuild:function(){this.$ul.html("");this.options.multiple=this.$select.attr("multiple")==="multiple";this.buildSelectAll();this.buildDropdownOptions();this.buildFilter();this.updateButtonText();this.updateSelectAll();if(this.options.disableIfEmpty){this.disableIfEmpty()}if(this.options.dropRight){this.$ul.addClass("pull-right")}},dataprovider:function(f){var g="";var e=0;c.each(f,function(h,i){if(c.isArray(i.children)){e++;g+='<optgroup label="'+(i.title||"Group "+e)+'">';d(i.children,function(j){g+='<option value="'+j.value+'">'+(j.label||j.value)+"</option>"});g+="</optgroup>"}else{g+='<option value="'+i.value+'">'+(i.label||i.value)+"</option>"}});this.$select.html(g);this.rebuild()},enable:function(){this.$select.prop("disabled",false);this.$button.prop("disabled",false).removeClass("disabled")},disable:function(){this.$select.prop("disabled",true);this.$button.prop("disabled",true).addClass("disabled")},disableIfEmpty:function(){if(c("option",this.$select).length<=0){this.disable()}else{this.enable()}},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(e){return c.extend(true,{},this.defaults,e)},hasSelectAll:function(){return c("li."+this.options.selectAllValue,this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var i=c("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul);var h=i.length;var f=i.filter(":checked").length;var e=c("li."+this.options.selectAllValue,this.$ul);var g=e.find("input");if(f>0&&f===h){g.prop("checked",true);e.addClass(this.options.selectedClass)}else{g.prop("checked",false);e.removeClass(this.options.selectedClass)}}},updateButtonText:function(){var e=this.getSelected();c("button.multiselect",this.$container).html(this.options.buttonText(e,this.$select));c("button.multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return c("option",this.$select).filter(":selected")},getOptionByValue:function(h){var e=c("option",this.$select);var j=h.toString();for(var f=0;f<e.length;f=f+1){var g=e[f];if(g.value===j){return c(g)}}},getInputByValue:function(h){var g=c("li input",this.$ul);var j=h.toString();for(var e=0;e<g.length;e=e+1){var f=g[e];if(f.value===j){return c(f)}}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(h,g,e){var f=Array.prototype.slice.call(arguments,3);return setTimeout(function(){h.apply(e||window,f)},g)}};c.fn.multiselect=function(f,g,e){return this.each(function(){var i=c(this).data("multiselect");var h=typeof f==="object"&&f;if(!i){i=new b(this,h);c(this).data("multiselect",i)}if(typeof f==="string"){i[f](g,e);if(f==="destroy"){c(this).data("multiselect",false)}}})};c.fn.multiselect.Constructor=b;c(function(){c("select[data-role=multiselect]").multiselect()})}(window.jQuery);if(typeof App!=="object"){var App={Version:1,CollapseMenu:function(){if($(window).width()<768){$(".collapsable-list-title").removeClass("clicked").addClass("collapse-trigger").next().slideUp(0);$(".collapsable-list-title").find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down");$(".expanded").removeClass("expanded")}else{$(".collapsable-list-title").removeClass("collapse-trigger").next().slideDown(0)}},ToggleCheckbox:function(b,a){$checkbox=$("#"+b);$target=$("#"+a);if($checkbox.length&&$target.length){if($checkbox.prop("checked")){$target.removeClass("hidden")}else{$target.addClass("hidden")}}},OnResize:function(){App.CollapseMenu()},OnScroll:function(){$warning=$(".warning");$breakPoint=$(window).width()<768?60:$(".breadcrumb").length?220:175;$extraMargin=$warning.height()+($(window).width()<768?0:30);if($warning.length){if($(window).scrollTop()>=$breakPoint&&$warning.css("position")!="fixed"){$warning.css({position:"fixed",top:"0px"});$warning.addClass("warning-fixed");$warning.next("section").css("margin-top",$extraMargin+"px")}if($(window).scrollTop()<$breakPoint&&$warning.css("position")=="fixed"){$warning.css({position:"static",top:"0px"});$warning.removeClass("warning-fixed");$warning.next("section").css("margin-top","0px")}}},Start:function(){var a=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;if(!a){var d=document.getElementsByTagName("img");var c=/.*\.svg$/;for(var b=0;b!=d.length;++b){if(d[b].src.match(c)){d[b].src=d[b].src.slice(0,-3)+"png"}}}$("body").on("click",".collapse-trigger",function(){if($(this).next().hasClass("expanded")){$(this).removeClass("clicked").next().slideUp(200).removeClass("expanded")}else{$(this).closest(".collapsable-elements-holder").find(".collapsable-list-title").removeClass("clicked").next().slideUp(200).removeClass("expanded");$(this).addClass("clicked").next().addClass("expanded").slideDown(200)}$(".collapsable-list-title").find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down");$(".clicked").find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up")});$(".form-tooltip").tooltip();if(Marblecore.IsObject($(".multiselect"))&&Marblecore.IsFunction($(".multiselect").multiselect)){$(".multiselect").multiselect({checkboxName:"Disease",nonSelectedText:"Kies uw chronische aandoeningen",nSelectedText:"geselecteerd",buttonWidth:"100%",selectedClass:null,onChange:function(f,g){var e="";var i=false;var h=Marblecore.Cast(Marblecore.IsObject(Marblecore.$("__DiseasesOther"))?Marblecore.$("__DiseasesOther").value:0,"number");Marblecore.Iterate($(".multiselect option"),function(){if(this.selected){e+=(e==""?"":"&")+Marblecore.Cast(this.value,"number");if(h>0&&h===Marblecore.Cast(this.value,"number")){i=true}}});if(Marblecore.IsObject(Marblecore.$("__DiseasesValue"))){Marblecore.$("__DiseasesValue").value=e}if(i){$("#__DiseasesOtherHolder").removeClass("hidden")}else{$("#__DiseasesOtherHolder").addClass("hidden")}}})}App.CollapseMenu();App.OnScroll();Marblecore.Handler.Add(window,"resize",App.OnResize);Marblecore.Handler.Add(window,"scroll",App.OnScroll)}};Marblecore.Run(App.Start,true)}
$(".container-carousel .carousel.slide").carousel({interval:false});$(".container-carousel .carousel.slide .item").each(function(){var next=$(this).next();if(!next.length){next=$(this).siblings(":first")}next.children(":first-child").clone().appendTo($(this));var items=parseInt($(this).closest(".carousel.slide").attr("data-total-items"))-parseInt($(this).closest(".carousel.slide").attr("data-items"))+2;if(items<=1){items=1}for(var i=1;i<items;i++){next=next.next();if(!next.length){next=$(this).siblings(":first")}var nextChild=next.children(":first-child").clone();if(i>1){nextChild.addClass("visible-xs")}nextChild.appendTo($(this))}});$(window).on("load resize",function(){$(".container-carousel .carousel.slide").each(function(){var elementWidth=293;if($(window).width()<768){var children=$(this).find(".block-hub.active").children(),totalWidth=children.length*(elementWidth+30);$(this).width(totalWidth);children.each(function(){$(this).width(elementWidth)})}else{$(".container-carousel .carousel.slide .block-hub.active").children().each(function(){$(this).width("")});$(this).width("")}})});$(function(){var slider={selector:$("#partners_slider"),animationTime:1e3,animationInterval:5e3,maxSlides:4,currentPos:0,visibleSlides:function(){var visibleSlides;var windowWidth=$(window).width();if(windowWidth>=991){visibleSlides=4}else if(windowWidth<991&&windowWidth>767){visibleSlides=3}else{visibleSlides=2}return visibleSlides},slides:function(){return $("li",this.selector).length},containerWidth:function(){return this.selector.width()},slideWidth:function(){return this.containerWidth()/this.visibleSlides()}};var list=slider.selector.find("ul");var listItem=slider.selector.find("li");var currentMargin=0;var firstLoad=true;function updateSlider(){list.css("width",slider.slideWidth()*(slider.slides()+slider.maxSlides));listItem.css("width",slider.slideWidth());if(slider.currentPos>slider.maxSlides){currentMargin=(slider.currentPos-slider.maxSlides)*slider.slideWidth()*-1}else{currentMargin=slider.currentPos*slider.slideWidth()*-1}list.css("margin-left",currentMargin);if(firstLoad){for(i=0;i<slider.maxSlides;i++){listItem.eq(i).clone().appendTo(list)}list=slider.selector.find("ul");listItem=slider.selector.find("li");firstLoad=false}}$(window).on("load resize",updateSlider);setInterval(nextSlide,slider.animationInterval);function nextSlide(){if(slider.currentPos===slider.slides()-slider.maxSlides){currentMargin=0;list.css("margin-left",currentMargin);slider.currentPos=1}else{slider.currentPos++}currentMargin-=slider.slideWidth();list.stop(true,false).animate({"margin-left":currentMargin},slider.animationTime)}});(function($){$.fn.cookieBar=function(options){var settings=$.extend({closeButton:"none",secure:false,path:"/",domain:""},options);return this.each(function(){var cookiebar=$(this);cookiebar.hide();if(settings.closeButton=="none"){cookiebar.append('<a class="cookiebar-close">sluiten</a>');settings=$.extend({closeButton:".cookiebar-close"},options)}if($.cookie("cookiebar")!="hide"){cookiebar.show()}cookiebar.find(settings.closeButton).click(function(){cookiebar.hide();$.cookie("cookiebar","hide",{path:settings.path,secure:settings.secure,domain:settings.domain,expires:300});return false})})};$.cookieBar=function(options){if(options.link==undefined){$("body").prepend('<div id="cookieBar"><p>Deze website maakt gebruik van cookies.</p></div>')}else{$("body").prepend('<div id="cookieBar"><p>Deze website maakt gebruik van cookies. <a href="'+options.link+'" class="readmore">Klik hier voor meer informatie.</a></p></div>')}$("#cookieBar").cookieBar(options)}})(jQuery);(function($){$.cookie=function(key,value,options){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(value))||value===null||value===undefined)){options=$.extend({},options);if(value===null||value===undefined){options.expires=-1}if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}value=String(value);return document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}options=value||{};var decode=options.raw?function(s){return s}:decodeURIComponent;var pairs=document.cookie.split("; ");for(var i=0,pair;pair=pairs[i]&&pairs[i].split("=");i++){if(decode(pair[0])===key)return decode(pair[1]||"")}return null}})(jQuery);!function(a){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}},c="0.10.2",d=function(){function a(a){return a.split(/\s+/)}function b(a){return a.split(/\W+/)}function c(a){return function(b){return function(c){return a(c[b])}}}return{nonword:b,whitespace:a,obj:{nonword:c(b),whitespace:c(a)}}}(),e=function(){function a(a){this.maxSize=a||100,this.size=0,this.hash={},this.list=new c}function c(){this.head=this.tail=null}function d(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(a.prototype,{set:function(a,b){var c,e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new d(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0}}),b.mixin(c.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),a}(),f=function(){function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(h){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),g=function(){function c(b){b=b||{},this._send=b.transport?d(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get}function d(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new e(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i=new e(10)},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(null,b),i.set(a,b)}function e(){c&&c(!0)}function j(){f--,delete g[a],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var k,l=this;(k=g[a])?k.done(d).fail(e):h>f?(f++,g[a]=this._send(a,b).done(d).fail(e).always(j)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),(e=i.get(a))?b.defer(function(){d&&d(null,e)}):this._get(a,c,d),!!e}}),c}(),h=function(){function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];for(a=a.sort(c),b=b.sort(c);d<a.length&&e<b.length;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},reset:function(){this.datums=[],this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){function d(a){return a.local||null}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}();!function(c){function e(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=j(b.sorter),this.dupDetector=b.dupDetector||k,this.local=i.local(b),this.prefetch=i.prefetch(b),this.remote=i.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new h({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new f(this.cacheKey):null}function j(a){function c(b){return b.sort(a)}function d(a){return a}return b.isFunction(a)?c:d}function k(){return!1}var l,m;return l=c.Bloodhound,m={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.Bloodhound=e,e.noConflict=function(){return c.Bloodhound=l,e},e.tokenizers=d,b.mixin(e.prototype,{_loadPrefetch:function(b){function c(a){f.clear(),f.add(b.filter?b.filter(a):a),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a,c){b(a?[]:f.remote.filter?f.remote.filter(c):c)}var d,e,f=this;return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(m.data,a,c),this.storage.set(m.protocol,location.protocol,c),this.storage.set(m.thumbprint,b,c))},_readFromStorage:function(a){var b,c={};return this.storage&&(c.data=this.storage.get(m.data),c.protocol=this.storage.get(m.protocol),c.thumbprint=this.storage.get(m.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null},_initialize:function(){function c(){e.add(b.isFunction(f)?f():f)}var d,e=this,f=this.local;return d=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),f&&d.done(c),this.transport=this.remote?new g(this.remote):null,this.initPromise=d.promise()},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=f.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return e.dupDetector(a,b)}),!c&&d.push(a),d.length<e.limit}),c&&c(e.sorter(d))}var e=this,f=[],g=!1;f=this.index.get(a),f=this.sorter(f).slice(0,this.limit),f.length<this.limit&&this.transport&&(g=this._getFromRemote(a,d)),g||(f.length>0||!this.transport)&&c&&c(f)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&g.resetCache()},ttAdapter:function(){return b.bind(this.get,this)}}),e}(this);var j={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},k={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(k.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(k.input,{marginTop:"-1px"});var l=function(){function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),c}(),m=function(){function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0;!d&&e<a.length;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),n=function(a){function c(a,c,d){for(var e,f=[],g=0;g<a.length;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d;return(c=h.exec(b.data))&&(wrapperNode=a.createElement(e.tagName),e.className&&(wrapperNode.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),wrapperNode.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(wrapperNode,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),o=function(){function c(c){var e,f,h,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),h=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",h),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){g[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var g;return g={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,m,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=g[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHint(),e=this.getInputValue(),c=d&&d!==e&&!f(b);break;case"up":case"down":c=!f(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!f(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=a)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),b?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),p=function(){function c(c){c=c||{},c.templates=c.templates||{},c.source||a.error("missing source"),c.name&&!f(c.name)&&a.error("invalid dataset name: "+c.name),this.query=null,this.highlight=!!c.highlight,this.name=c.name||b.getUniqueId(),this.source=c.source,this.displayFn=d(c.display||c.displayKey),this.templates=e(c.templates,this.displayFn),this.$el=a(j.dataset.replace("%CLASS%",this.name))}function d(a){function c(b){return b[a]}return a=a||"value",b.isFunction(a)?a:c}function e(a,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}function f(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var g="ttDataset",h="ttValue",i="ttDatum";return c.extractDatasetName=function(b){return a(b).data(g)},c.extractValue=function(b){return a(b).data(h)},c.extractDatum=function(b){return a(b).data(i)},b.mixin(c.prototype,m,{_render:function(c,d){function e(){return p.templates.empty({query:c,isEmpty:!0})}function f(){function e(b){var c;return c=a(j.suggestion).append(p.templates.suggestion(b)).data(g,p.name).data(h,p.displayFn(b)).data(i,b),c.children().each(function(){a(this).css(k.suggestionChild)}),c}var f,l;return f=a(j.suggestions).css(k.suggestions),l=b.map(d,e),f.append.apply(f,l),p.highlight&&n({node:f[0],pattern:c}),f}function l(){return p.templates.header({query:c,isEmpty:!o})}function m(){return p.templates.footer({query:c,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=d&&d.length,!o&&this.templates.empty?this.$el.html(e()).prepend(p.templates.header?l():null).append(p.templates.footer?m():null):o&&this.$el.html(f()).prepend(p.templates.header?l():null).append(p.templates.footer?m():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){c.canceled||a!==c.query||c._render(a,b)}var c=this;this.query=a,this.canceled=!1,this.source(a,b)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),c}(),q=function(){function c(c){var e,f,g,h=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=b.map(c.datasets,d),e=b.bind(this._onSuggestionClick,this),f=b.bind(this._onSuggestionMouseEnter,this),g=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),b.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function d(a){return new p(a)}return b.mixin(c.prototype,m,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?k.ltr:k.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:p.extractDatum(a),value:p.extractValue(a),datasetName:p.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),r=function(){function c(c){var e,f,g;c=c||{},c.input||a.error("missing input"),this.isActivated=!1,this.autoselect=!!c.autoselect,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.$node=d(c.input,c.withHint),e=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),g=this.$node.find(".tt-hint"),f.on("blur.tt",function(a){var c,d,g;c=document.activeElement,d=e.is(c),g=e.has(c).length>0,b.isMsie()&&(d||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){f.focus()}))}),e.on("mousedown.tt",function(a){a.preventDefault()}),this.eventBus=c.eventBus||new l({el:f}),this.dropdown=new q({menu:e,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new o({input:f,hint:g}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function d(b,c){var d,f,h,i;d=a(b),f=a(j.wrapper).css(k.wrapper),h=a(j.dropdown).css(k.dropdown),i=d.clone().css(k.hint).css(e(d)),i.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),d.data(g,{dir:d.attr("dir"),autocomplete:d.attr("autocomplete"),spellcheck:d.attr("spellcheck"),style:d.attr("style")}),d.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?k.input:k.inputWithNoHint);try{!d.attr("dir")&&d.attr("dir","auto")}catch(l){}return d.wrap(f).parent().prepend(c?i:null).append(h)}function e(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function f(a){var c=a.find(".tt-input");b.each(c.data(g),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(g).removeClass("tt-input").insertAfter(a),a.remove()}var g="ttAttrs";return b.mixin(c.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHintIfInvalid(),b.length>=this.minLength?this.dropdown.update(b):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(c=this.input.getInputValue(),d=o.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.+$)","i"),g=f.exec(a.value),g?this.input.setHint(c+g[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(a){var b,c,d,e;b=this.input.getHint(),c=this.input.getQuery(),d=a||this.input.isCursorAtEnd(),b&&c!==b&&d&&(e=this.dropdown.getDatumForTopSuggestion(),e&&this.input.setInputValue(e.value),this.eventBus.trigger("autocompleted",e.raw,e.datasetName))},_select:function(a){this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),b.defer(b.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(a){this.isActivated?this.input.setInputValue(a):(this.input.setQuery(a),this.input.setInputValue(a,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),f(this.$node),this.$node=null}}),c}();!function(){var c,d,e;c=a.fn.typeahead,d="ttTypeahead",e={initialize:function(c,e){function f(){var f,g,h=a(this);b.each(e,function(a){a.highlight=!!c.highlight}),g=new r({input:h,eventBus:f=new l({el:h}),withHint:b.isUndefined(c.hint)?!0:!!c.hint,minLength:c.minLength,autoselect:c.autoselect,datasets:e}),h.data(d,g)}return e=b.isArray(e)?e:[].slice.call(arguments,1),c=c||{},this.each(f)},open:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c,e=a(this);(c=e.data(d))&&c.setVal(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getVal()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(a){return e[a]?e[a].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this}}()}(window.jQuery);var Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){"use strict";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type="program",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type="mustache",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped="{"!==h&&"&"!==h}else this.escaped=!!d;this.sexpr=a instanceof e.SexprNode?a:new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type="sexpr",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type="partial",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type="content",this.string=a},HashNode:function(a,c){b.call(this,c),this.type="hash",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type="ID";for(var e="",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||"")+j,".."===j||"."===j||"this"===j){if(f.length>0)throw new d("Invalid path: "+e,this);".."===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join("."),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type="PARTIAL_NAME",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type="DATA",this.id=a},StringNode:function(a,c){b.call(this,c),this.type="STRING",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c),this.type="comment",this.comment=a}};return c=e}(c),h=function(){"use strict";var a,b=function(){function a(a,b){return{left:"~"===a.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g){var h=g.length-1;switch(f){case 1:return new e.ProgramNode(g[h-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[h-1],g[h],this._$);break;case 4:this.$=new e.ProgramNode(g[h-2],g[h-1],g[h],this._$);break;case 5:this.$=new e.ProgramNode(g[h-1],g[h],[],this._$);break;case 6:this.$=new e.ProgramNode(g[h],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[h]];break;case 10:g[h-1].push(g[h]),this.$=g[h-1];break;case 11:this.$=new e.BlockNode(g[h-2],g[h-1].inverse,g[h-1],g[h],this._$);break;case 12:this.$=new e.BlockNode(g[h-2],g[h-1],g[h-1].inverse,g[h],this._$);break;case 13:this.$=g[h];break;case 14:this.$=g[h];break;case 15:this.$=new e.ContentNode(g[h],this._$);break;case 16:this.$=new e.CommentNode(g[h],this._$);break;case 17:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 18:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 19:this.$={path:g[h-1],strip:a(g[h-2],g[h])};break;case 20:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 21:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 22:this.$=new e.PartialNode(g[h-2],g[h-1],a(g[h-3],g[h]),this._$);break;case 23:this.$=a(g[h-1],g[h]);break;case 24:this.$=new e.SexprNode([g[h-2]].concat(g[h-1]),g[h],this._$);break;case 25:this.$=new e.SexprNode([g[h]],null,this._$);break;case 26:this.$=g[h];break;case 27:this.$=new e.StringNode(g[h],this._$);break;case 28:this.$=new e.IntegerNode(g[h],this._$);break;case 29:this.$=new e.BooleanNode(g[h],this._$);break;case 30:this.$=g[h];break;case 31:g[h-1].isHelper=!0,this.$=g[h-1];break;case 32:this.$=new e.HashNode(g[h],this._$);break;case 33:this.$=[g[h-2],g[h]];break;case 34:this.$=new e.PartialNameNode(g[h],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[h],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[h],this._$));break;case 37:this.$=new e.DataNode(g[h],this._$);break;case 38:this.$=new e.IdNode(g[h],this._$);break;case 39:g[h-2].push({part:g[h],separator:g[h-1]}),this.$=g[h-2];break;case 40:this.$=[{part:g[h]}];break;case 43:this.$=[];break;case 44:g[h-1].push(g[h]);break;case 47:this.$=[g[h]];break;case 48:g[h-1].push(g[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(){}function c(a,b,c){if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);"helper"===f?this.helperSexpr(e,c,d):"simple"===f?(this.simpleSexpr(e),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(e,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new f("You specified knownHelpersOnly, but used the unknown helper "+e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f("Scoped data references are not supported: "+a.original,a);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){"use strict";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf("depth")&&(c=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']",c?"("+a+" && "+e+")":e},compilerInfo:function(){var a=f,b=g[a];return"this.compilerInfo = ["+a+",'"+b+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i("Compile completed with content left on stack");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push("depth"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i="function "+(this.name||"")+"("+d.join(",")+") {\n  "+g+"}";return h("debug",i+"\n\n"),i},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"sexpr"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context"),f="helper = "+d.name+" || "+e;d.paramsInit&&(f+=","+d.paramsInit),this.push("("+f+",helper ? helper.call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+"))"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }"),this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f="",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f="("+this.push(i)+" = "+h+"),",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push("("+f+j+")")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+" = ("+f+j+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i("Invalid stack pop");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push("hash:"+this.popStack()),this.options.stringParams&&(f.push("hashTypes:"+this.popStack()),f.push("hashContexts:"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self="this",e="self.noop"),d||(this.context.aliases.self="this",d="self.noop"),f.push("inverse:"+d),f.push("fn:"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+h.join(",")+"]")),this.options.data&&f.push("data:data"),f},setupParams:function(a,b,c){var d="{"+this.setupOptions(a,b).join(",")+"}";return c?(this.useRegister("options"),b.push("options"),"options="+d):(b.push(d),"")}};for(var j="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=function(b,c){return m(b,c,a)},a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,j,k);return l}();$(function(){initTypeaheadSearch("#search");initTypeaheadSearch("#search-mobile");initTypeaheadSearch("#search_municipality");initTypeaheadSearch("#search_province");initTypeaheadSearch("#search_province_municipalities");$("#search_order_form_order").change(function(){$("#search_order_form").submit()});$("#formMunicipalityOrder").change(function(){$("#formMunicipality").submit()});$("#button-municipality-search").click(function(){$("#search_municipality_form").submit()});$("#button-province-search").click(function(){$("#search_province_form").submit()});initCaptcha();$('[data-action="popup"]').click(function(){var popup=window.open($(this).attr("href"),"","height=500, width=580");if(window.focus){popup.focus()}return false});$(".equal-height").matchHeight();var desktopWidth=767;$("[data-desktop-href]").click(function(){if(window.innerWidth>desktopWidth){window.location=$(this).data("desktop-href")}})});function initTypeaheadSearch(element){var type="";if(element==="#search_municipality"){type="&type=municipality"}else if(element==="#search_province"){type="&type=province"}else if(element==="#search_province_municipalities"){type="&type=municipality&provinceId="+$("#province_id").val()}var headerSearch=new Bloodhound({datumTokenizer:function(d){return Bloodhound.tokenizers.whitespace(d.title)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:6,remote:Routing.generate("mkvl_search_default_search")+"?zoekterm=%QUERY"+type});headerSearch.initialize();$(element).typeahead(null,{name:"search",displayKey:"title",source:headerSearch.ttAdapter(),templates:{suggestion:Handlebars.compile('<div class="ta-title"><a href="{{url}}"><strong>{{title}}</strong></a></div>')}}).on("typeahead:selected",function(event,data,dataset){window.location.href=data.url})}function initCaptcha(){$("input[type=hidden]").each(function(){if($(this).data("form-id")!=undefined){$("#"+$(this).attr("id")).val("zkn")}})}
$(function(){$('[data-toggle="popover"]').popover()});(function($){var _previousResizeWidth=-1,_updateTimeout=-1;var _rows=function(elements){var tolerance=1,$elements=$(elements),lastTop=null,rows=[];$elements.each(function(){var $that=$(this),top=$that.offset().top-_parse($that.css("margin-top")),lastRow=rows.length>0?rows[rows.length-1]:null;if(lastRow===null){rows.push($that)}else{if(Math.floor(Math.abs(lastTop-top))<=tolerance){rows[rows.length-1]=lastRow.add($that)}else{rows.push($that)}}lastTop=top});return rows};var _parse=function(value){return parseFloat(value)||0};var matchHeight=$.fn.matchHeight=function(byRow){if(byRow==="remove"){var that=this;this.css("height","");$.each(matchHeight._groups,function(key,group){group.elements=group.elements.not(that)});return this}if(this.length<=1)return this;byRow=typeof byRow!=="undefined"?byRow:true;matchHeight._groups.push({elements:this,byRow:byRow});matchHeight._apply(this,byRow);return this};matchHeight._groups=[];matchHeight._throttle=80;matchHeight._maintainScroll=false;matchHeight._beforeUpdate=null;matchHeight._afterUpdate=null;matchHeight._apply=function(elements,byRow){var $elements=$(elements),rows=[$elements];var scrollTop=$(window).scrollTop(),htmlHeight=$("html").outerHeight(true);var $hiddenParents=$elements.parents().filter(":hidden");$hiddenParents.css("display","block");if(byRow){$elements.each(function(){var $that=$(this),display=$that.css("display")==="inline-block"?"inline-block":"block";$that.data("style-cache",$that.attr("style"));$that.css({display:display,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})});rows=_rows($elements);$elements.each(function(){var $that=$(this);$that.attr("style",$that.data("style-cache")||"").css("height","")})}$.each(rows,function(key,row){var $row=$(row),maxHeight=0;if(byRow&&$row.length<=1)return;$row.each(function(){var $that=$(this),display=$that.css("display")==="inline-block"?"inline-block":"block";$that.css({display:display,height:""});if($that.outerHeight(false)>maxHeight)maxHeight=$that.outerHeight(false);$that.css("display","")});$row.each(function(){var $that=$(this),verticalPadding=0;if($that.css("box-sizing")!=="border-box"){verticalPadding+=_parse($that.css("border-top-width"))+_parse($that.css("border-bottom-width"));verticalPadding+=_parse($that.css("padding-top"))+_parse($that.css("padding-bottom"))}$that.css("height",maxHeight-verticalPadding)})});$hiddenParents.css("display","");if(matchHeight._maintainScroll)$(window).scrollTop(scrollTop/htmlHeight*$("html").outerHeight(true));return this};matchHeight._applyDataApi=function(){var groups={};$("[data-match-height], [data-mh]").each(function(){var $this=$(this),groupId=$this.attr("data-match-height")||$this.attr("data-mh");if(groupId in groups){groups[groupId]=groups[groupId].add($this)}else{groups[groupId]=$this}});$.each(groups,function(){this.matchHeight(true)})};var _update=function(event){if(matchHeight._beforeUpdate)matchHeight._beforeUpdate(event,matchHeight._groups);$.each(matchHeight._groups,function(){matchHeight._apply(this.elements,this.byRow)});if(matchHeight._afterUpdate)matchHeight._afterUpdate(event,matchHeight._groups)};matchHeight._update=function(throttle,event){if(event&&event.type==="resize"){var windowWidth=$(window).width();if(windowWidth===_previousResizeWidth)return;_previousResizeWidth=windowWidth}if(!throttle){_update(event)}else if(_updateTimeout===-1){_updateTimeout=setTimeout(function(){_update(event);_updateTimeout=-1},matchHeight._throttle)}};$(matchHeight._applyDataApi);$(window).bind("load",function(event){matchHeight._update(false,event)});$(window).bind("resize orientationchange",function(event){matchHeight._update(true,event)})})(jQuery);