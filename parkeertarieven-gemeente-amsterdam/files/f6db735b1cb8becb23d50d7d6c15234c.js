(function(){"use strict";var bind=function(fn,me){return function(){return fn.apply(me,arguments);};};this.AdamLightbox=(function(){var defaults;defaults={"height":$(window).height()-200,"width":500,"zIndex":2000,"classPrefix":"lightbox","modal":true,"required":false,"callBack":function(dialog,iframe){},"beforeClose":function(event){},"afterClose":function(event){}};function AdamLightbox(title,url,options){this.title=title;this.url=url;this.close=bind(this.close,this);this.iframeReady=bind(this.iframeReady,this);this.options=$.extend({},defaults,options);this.init();}AdamLightbox.prototype.init=function(){$("body").css({"position":"relative","overflow":"hidden"});if(this.options.modal){this.dimscreen=this.createDimscreen();}this.dialog=this.createDialog();};AdamLightbox.prototype.createDimscreen=function(){var ds;$("."+this.options.classPrefix+"-dimscreen").remove();ds=$("<div class=\""+this.options.classPrefix+"-dimscreen\"></div>").appendTo($("body"));ds.css({"background-color":"#000","position":"absolute","display":"block","top":0,"left":0,"bottom":0,"width":"100%","opacity":0.5,"z-index":""+(this.options.zIndex/2)});if(!this.options.required){ds.off("click");ds.on("click",this.close);}return ds;};AdamLightbox.prototype.createDialog=function(){var d,self;$("."+this.options.classPrefix+"lightbox").remove();d=$("<div class=\"adam-"+this.options.classPrefix+"\">\n  <div class=\""+this.options.classPrefix+"-wrapper\">\n    <div class=\""+this.options.classPrefix+"-container\">\n      <div class=\""+this.options.classPrefix+"-content\">\n        <div class=\""+this.options.classPrefix+"-header\">\n          <div class=\""+this.options.classPrefix+"-header-inner\">\n            <div class=\""+this.options.classPrefix+"-header-text\">\n              <span></span>\n            </div>\n            <a class=\""+this.options.classPrefix+"-close\" href=\"#\">&#215;</a>\n          </div>\n        </div>\n        <div class=\""+this.options.classPrefix+"-iframe-container\">\n          <iframe frameborder=\"0\" src=\"\"></iframe>\n        </div>\n      </div>\n      <div class=\""+this.options.classPrefix+"-slideout-under\"></div>\n    </div>\n  </div>\n</div>");d.find("span").text(this.title).parent().attr("title",this.title);d.appendTo($("body"));$(".adam-"+this.options.classPrefix).hide();$("."+this.options.classPrefix+"-header,\n."+this.options.classPrefix+"-iframe-container,\n."+this.options.classPrefix+"-iframe-container iframe",d).css({"width":"100%","clear":"both","float":"left"});if(!this.options.required){$("."+this.options.classPrefix+"-close",d).on("click",this.close);}else{$("."+this.options.classPrefix+"-close",d).remove();}d.css({"background-color":"#fff","position":"fixed","width":this.options.width+"px","z-index":""+this.options.zIndex,"top":15,"left":"50%","margin-top":0,"margin-left":-this.options.width/2+"px"});$("."+this.options.classPrefix+"-iframe-container iframe").attr("src",this.url);self=this;$("."+this.options.classPrefix+"-iframe-container iframe").height(self.options.height).load(function(){self.iframeReady(d,this);return d.show();});return d;};AdamLightbox.prototype.iframeReady=function(dialog,iframe){var base;return typeof(base=this.options).callBack==="function"?base.callBack(dialog,iframe):void 0;};AdamLightbox.prototype.close=function(event){var base,base1;$("body").css({"overflow":"auto"});if(typeof(base=this.options).beforeClose==="function"){base.beforeClose(event);}$("."+this.options.classPrefix+"-dimscreen").remove();$(".adam-"+this.options.classPrefix).remove();return typeof(base1=this.options).afterClose==="function"?base1.afterClose(event):void 0;};return AdamLightbox;})();}).call(this);$(document).ready(function(){$('.widget_print a').attr("target","_blank");if($("body").hasClass("screenprint")){window.print();}});