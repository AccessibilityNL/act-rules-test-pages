(function($,sr){var debounce=function(func,threshold,execAsap){var timeout;return function debounced(){var obj=this,args=arguments;function delayed(){if(!execAsap){func.apply(obj,args);}timeout=null;};if(timeout)clearTimeout(timeout);else if(execAsap)func.apply(obj,args);timeout=setTimeout(delayed,threshold||100);};};jQuery.fn[sr]=function(fn){return fn?this.bind('resize',debounce(fn)):this.trigger(sr);};})(jQuery,'smartresize');jQuery(function(){jQuery("div.rij.captcha").each(function(){var current=$(this);var img=current.find("img.captchaimage");var lnk=current.find("a.captcha_renew_link");var imgSrc=img.attr("src");var counter=0;lnk.click(function(){img.attr("src",imgSrc+"&count="+(counter++));return false;});});jQuery("table[class*=\" spacing\"]").each(function(){var classes=$(this).attr("class").split(' ');if(classes[classes.length-1].indexOf('spacing')===0){jQuery(this).attr("cellspacing",classes[classes.length-1].substring(7));}});});(function($){$.fn.scrollTo=function(){if(this.length){this.get(0).scrollIntoView();return false;}};$.fn.unlessProcessed=function(propName,addClass){propName=propName||"processed";var result=$(this).filter(function(){return!$(this).prop(propName);}).prop(propName,true);return addClass?result.addClass(propName):result;};$.fn.replaceBy=function(selector){$(this).after($(selector)).remove();return $(this);};$.fn.delayedAnimate=function(){var args=arguments;if(args!=null&&args.length>0){var delayTime=500;var time=1000;var css;var func;switch(args.length){case 1:css=args[0];break;case 2:css=args[0];delayTime=args[1];break;case 4:css=args[0];time=args[1];delayTime=args[2];func=args[3];break;default:css=args[0];time=args[1];delayTime=args[2];break;}var current=$(this);setTimeout(function(){current.stop().animate(css,time,func);},delayTime,current,css,time,func);}return $(this);};$.fn.chop=function(setTextAsAlt,innerEltName){if(!innerEltName){innerEltName="span";}$(this).each(function(i){var jBlock=$(this);var text=jBlock.text();var org_txt=text;if(setTextAsAlt){jBlock.attr("title",$.trim(text));}if(!text){return;}var jInner=$(innerEltName,jBlock);if(!jInner.length){jBlock.wrapInner(document.createElement(innerEltName));jInner=$(innerEltName,jBlock);}var realArea=jInner.height()*jInner.width();var blockArea=jBlock.height()*jBlock.width();var startLength=Math.round((blockArea/realArea)*text.length)+20;if(text.length>startLength){text=(text.substring(0,startLength));}jBlock.scrollLeft(1);jBlock.scrollTop(1);var chopCount=0;while(text&&(jBlock.scrollLeft()>0||jBlock.scrollTop()>0)){chopCount++;text=text.substring(0,text.length-1);var wText=text+"...";jInner.text(wText);jBlock.scrollLeft(1);jBlock.scrollTop(1);}if($.trim(org_txt)==$.trim(jInner.text().substr(0,jInner.text().indexOf("...")))){jInner.text(org_txt);}});return $(this);};var makeIdCounter=1;$.fn.makeId=function(){var prefix='infoprojects';if(arguments.length>0){prefix=arguments[0];}$(this).not("[id]").each(function(){var id=prefix+makeIdCounter++;$(this).attr("id",id);});return $(this);};$.fn.tag=function(){var tags=new Array();$(this).each(function(){tags[tags.length]=$(this)[0].tagName;});if(tags.length==1&&tags[0]=="undefined"){return null;}else if(tags.length==1){return tags[0];}else{return tags;}return $(this);};$.fn.rectangle=function(useWhenNotVisible){var lv_useWhenNotVisible=useWhenNotVisible!=null?useWhenNotVisible:$(document);try{var rectangleThis=$(this);if(rectangleThis.size()>1){return rectangleThis.filter(":first").rectangle();}else if(rectangleThis.size()==1){var full=false;var current=$(this);if(!current.tag()){current=$(lv_useWhenNotVisible);};if(!current.tag()||current.tag()=="body"){full=true;};return{width:full?$(document).width():current.width(),height:full?$(document).height():current.height(),left:current[0].tagName==null?0:current.offset().left,top:current[0].tagName==null?0:current.offset().top};}}catch(e){alert("Something went wrong: "+e.message);return null;}};$.fn.maxLength=function(maxlength){var current=$(this);if(maxlength==null){current.each(function(){var found=$(this).attr("class").match(/maxlength_([0-9].*)/);if(found.length>0){var curmaxlength=parseInt(found[1],10);if(!isNaN(curmaxlength)&&curmaxlength>0){$(this).maxLength(curmaxlength);}}});}else{var checkMaxLength=function(textbox,maxlength){var length=textbox[0].value.replace("\n","##").length;var jLength=textbox[0].value.length;var difference=length-jLength;if(difference>0){difference-=1;}if(textbox[0].value.replace("\n","##").length>maxlength){textbox[0].value=textbox[0].value.substring(0,maxlength-difference);}return true;};current.change(function(){checkMaxLength($(this),maxlength);}).keypress(function(){checkMaxLength($(this),maxlength);}).blur(function(){checkMaxLength($(this),maxlength);}).submit(function(){checkMaxLength($(this),maxlength);});current.each(function(){checkMaxLength($(this),maxlength);});}};$.fn.popup=function(options){var config=$.extend({mode:'click',showMode:'normal',alwaysRefresh:false,offset:{x:0,y:0},containment:'#abracadabra',container:{top:0,left:0,width:$(window).width(),height:$(window).height()},replaceTag:"a",replaceBy:"div",popupIdFunc:function(id){return"#popup_"+id;},speedShow:1000,speedHide:500},options||{});if($(config.containment).size()==1){config.container={top:$(config.containment).offset().top,left:$(config.containment).offset().left,width:$(config.containment).width(),height:$(config.containment).height()};}var linkedPopups=$(this);var selected=$("#abracadabra");linkedPopups.each(function(){var current=$(this);var id=current.attr("id");if(config.replaceTag.indexOf(current.tag().toLowerCase())>-1){var replacement=$('<'+config.replaceBy+'>'+current.html()+'<'+config.replaceBy+'>');var attrs=new Array('title','alt','class');for(var i=0;i<attrs.length;i++){if(current.attr(attrs[i])!=''){replacement.attr(attrs[i],current.attr(attrs[i]));}}current.replaceBy(replacement);current=replacement;current.attr('id',id);}var popupId=config.popupIdFunc(id);var popup=$(popupId);if(config.alwaysRefresh){popup=popup.clone(false);}if(current.find(popupId).size()==0){current.append(popup);}popup.css({opacity:0,position:"absolute"});var popupFunc=function(event){try{if(selected===popup&&!config.alwaysRefresh){popup.stop();popup.show();popup.stop().animate({"opacity":1},config.speed);}else{popup.stop();var rect={left:event.clientX+config.offset.x+$(window).scrollLeft(),top:event.clientY+config.offset.y+$(window).scrollTop(),width:popup.outerWidth(),height:popup.outerHeight()};switch(config.showMode){case"outside":rect.left=(current.offset().left+current.width()+config.offset.x);rect.top=(current.offset().top+current.height()+config.offset.y);break;}var lb={x:rect.left+rect.width,y:rect.top+rect.height};var lbMax={x:config.container.left+config.container.width,y:config.container.top+config.container.height};if(lb.x>lbMax.x){rect.left-=(rect.width+config.offset.x);switch(config.showMode){case"outside":rect.left-=current.width()+config.offset.x;break;}if(rect.left<0){rect.left=config.offset.x;}}else if(config.container.left<rect.left){rect.left+=config.container.left+config.offset.x;};if(lb.y>lbMax.y){rect.top-=(rect.height+config.offset.y);switch(config.showMode){case"outside":rect.top-=current.height()+config.offset.y;break;}}else if(config.container.top<rect.top){rect.top+=config.container.top+config.offset.y;};selected.removeClass("selected").css({"opacity":0}).hide();selected=popup;popup.addClass("selected");popup.css({left:rect.left,top:rect.top});popup.show();popup.stop().animate({"opacity":1});}}catch(e){alert(e);}return false;};var popoutFunc=function(){popup.stop().animate({"opacity":0},config.speedHide,function(){popup.hide();});return false;};popup.find(".sluitkruis a").click(popoutFunc);if(config.mode=='hover'){current.hover(popupFunc,popoutFunc);}else{current.click(popupFunc);}});};$.fn.reverse=[].reverse;$.preloadImages=function(){for(var i=0;i<arguments.length;i++){$("<img>").attr("src",arguments[i]);}};$.parse2Int=function(input){try{return parseInt(input.match(/[0-9]*/),10);}catch(e){alert(e.message);return 0;}};$.cleanUrl=function(url){try{url=url.replace(/&amp;/g,"&");return url;}catch(e){alert(e.message);return 0;}};$.randomInt=function(){var args=arguments;var minValue=0;var maxValue=10;switch(args.length){case 1:maxValue=args[0];break;default:minValue=args[0];maxValue=args[1];break;}var seed=maxValue-minValue;var random=Math.random();return Math.round((random*seed)+minValue);};$.toString=function(obj){var retVal="{";for(var field in obj){if(typeof(fieldContents)!="function"){retVal+=retVal!=("{"?",":"")+field+": "+obj[field];}}retVal+=" }";return retVal;};$.toQueryString=function(obj){var retVal="";for(var field in obj){if(typeof(fieldContents)!="function"){retVal+=(retVal!=""?"&":"")+field+"="+obj[field];}}return retVal;};$.pause=function(ms){var date=new Date();curDate=null;do{var curDate=new Date();}while(curDate-date<ms);};$.getCenterPoint=function(obj,context,mode){if(!mode){mode="both";}var retObj={viewport:{width:$(context).width(),height:$(context).height()},obj:{width:$(obj).width(),height:$(obj).height()}};var centerPoint=new Object();if(mode=="both"||mode=="horizontal"){centerPoint.left=(retObj.viewport.width-retObj.obj.width)/2;}if(mode=="both"||mode=="vertical"){centerPoint.top=(retObj.viewport.height-retObj.obj.height)/2;}return centerPoint;};$.getScriptParams=function(filename){};var __debugwindow;$.log=function(message){if(!__debugwindow){$("body").append('<div id="debugwindow"></div>');__debugwindow=$("body > #debugwindow");__debugwindow.css({position:"absolute",right:20,top:20,width:250,height:250,overflow:"hidden",border:"solid 3px black","background-color":"#FFFFFF","color":"#000000","text-align":"left","padding":3,opacity:0.7}).click(function(){$(this).remove();__debugwindow=null;});}__debugwindow.prepend($('<div class="debugline"></div>').text(message));};if(jQuery.migrateMute){$.browser.name=function(){if($.browser.msie){return"ie";}else if($.browser.mozilla){return"mozilla";}else if($.browser.opera){return"opera";}else if($.browser.safari){return"safari";}else{return"unknown";}};}})(jQuery);String.prototype.contains=function(find){return this.indexOf(find)>-1;};var runOnLoad=function(callback){if(typeof pageLoadFunctions==="undefined"){$(callback);}else{pageLoadFunctions.push(callback);}};function htmlEncode(text){return text!==undefined&&text!==null&&text!==""?jQuery("<div></div>").text(text).html():"";}
(function(){var $,getDevicePixelRatio;$=jQuery;this.responsiveBehaviours=this.responsiveBehaviours||[];this.pageLoadFunctions=this.pageLoadFunctions||[];this.pageUnloadFunctions=this.pageUnloadFunctions||[];this.responsiveConfig={containerSelector:".grid-container[data-layout]",zoneSelector:".grid-zone[data-layout]:visible, .grid-nesting",imageSelector:".grid-blok[data-layout] img:not(.imagemapplaceholder *)[data-sources]",imagemapSelector:".grid-blok[data-layout] .imagemapplaceholder:has(img)"};this.responsiveImaging={getNormalImage:function(img){var $img,i,len,normalSource,ref,source,sources;if(!img){return;}$img=$(img);sources=$.isArray(img)?img:$img.data("sources");ref=sources||[];for(i=0,len=ref.length;i<len;i++){source=ref[i];if(!("sizeClass"in source)){normalSource=source;}}return normalSource||{src:$img.attr("src"),width:$img.attr("width"),height:$img.attr("height")};},getSources:function(img,attrName){var $img;if(attrName==null){attrName="sources";}if(!img){return[];}$img=$(img);if($.isArray(img)){return img;}else{return $img.data(attrName)||[{src:$img.attr("src"),width:$img.attr("width"),height:$img.attr("height")}];}}};$(function(){$("body").setupBreakPoints();$(document).initPageLoadFunctions();if($.browser.msie&&parseInt($.browser.version,10)<9){return $(responsiveConfig.containerSelector).runResponsiveBehaviour();}else{return $(window).smartresize(function(){return $(responsiveConfig.containerSelector).runResponsiveBehaviour();});}});$(window).unload(function(){return $(document).initPageUnloadFunctions();});$.fn.setupBreakPoints=function(){var i,len,mq,ref,rules,vp;rules=".mq-elt { display:none; }\n";ref=$(this).data("breakpoints");for(i=0,len=ref.length;i<len;i++){vp=ref[i];$("<u class=\"visuallyhidden mq-elt mq-"+vp.className+"\" />").data("className",vp.className).appendTo($(this));mq="screen";if(vp.minSize>0){mq+=" and (min-width:"+(vp.minSize+1)+"px)";}if(vp.maxSize<99999){mq+=" and (max-width:"+vp.maxSize+"px)";}rules+="@media "+mq+" { .mq-elt.mq-"+vp.className+" { display:block; } }\n";}$("<style></style>").attr("type","text/css").text(rules).appendTo("head");return this;};$.fn.initPageLoadFunctions=function(force){return this.each(function(){var $this,fCall,i,len,results;$this=$(this);$(responsiveConfig.containerSelector,$this).runResponsiveBehaviour(force);results=[];for(i=0,len=pageLoadFunctions.length;i<len;i++){fCall=pageLoadFunctions[i];results.push(fCall($this));}return results;});};$.fn.initPageUnloadFunctions=function(){return this.each(function(){var $this,fCall,i,len,results;$this=$(this);results=[];for(i=0,len=pageUnloadFunctions.length;i<len;i++){fCall=pageUnloadFunctions[i];results.push(fCall($this));}return results;});};$.fn.runResponsiveBehaviour=function(force){var viewportClassname;viewportClassname=$(".mq-elt:visible").data("className");if($("body").data("viewport")!==viewportClassname||force){$("body").removeClass($("body").data("viewport")).addClass(viewportClassname).data("viewport",viewportClassname);return this.each(function(){var $responsiveContainer,fCall,i,len,results;$responsiveContainer=$(this);$responsiveContainer.responsiveBlocks();$responsiveContainer.responsiveImaging();$responsiveContainer.responsiveImagemaps();mediaWidgetPromise.done(function(){return $responsiveContainer.responsiveWidgets();});results=[];for(i=0,len=responsiveBehaviours.length;i<len;i++){fCall=responsiveBehaviours[i];results.push(fCall($responsiveContainer));}return results;});}};$.fn.responsiveBlocks=function(){return this.find(responsiveConfig.zoneSelector).each(function(){var $previousBlock,$responsiveZone,lastBlockTop,useAlphaAndOmega;$responsiveZone=$(this);$("> .row-clear",$responsiveZone).remove();useAlphaAndOmega=$(".grid-blok.alpha, .grid-blok.omega",$responsiveZone).length>0;lastBlockTop=-999;$previousBlock=void 0;return $("> .grid-blok[data-layout]:visible",$responsiveZone).each(function(){var $responsiveBlock;$responsiveBlock=$(this);if($responsiveBlock.position().top>lastBlockTop&&lastBlockTop>=-999){$responsiveBlock.before("<div class=\"row-clear clear\"></div>");if(useAlphaAndOmega){$responsiveBlock.addClass("alpha");$previousBlock.addClass("omega");}}lastBlockTop=$responsiveBlock.position().top;return $previousBlock=$responsiveBlock;});});};getDevicePixelRatio=function(){var ref;return(ref=window.devicePixelRatio)!=null?ref:1;};$.fn.resetImgSource=function(omitSizeAttributes,$holder){var $img,css,imgSources,newClass,newClasses,normalSource,prefix;$img=this;if($img.length!==1){$img.each(function(){return $(this).resetImgSource(omitSizeAttributes);});return $img;}if(!(imgSources=$img.data("sources"))){return;}if($holder==null){$holder=$img;}normalSource=window.responsiveImaging.getNormalImage(imgSources);$img.removeData("size");$img.removeAttr("style");$img.attr("src",normalSource.src);if(omitSizeAttributes){$img.removeAttr("width");$img.removeAttr("height");}else{$img.attr("width",normalSource.width);$img.attr("height",normalSource.height);}prefix=normalSource.css?"img_":"size_";newClasses=(function(){var i,len,ref,results;ref=($holder.attr("class")||"").split(" ");results=[];for(i=0,len=ref.length;i<len;i++){css=ref[i];if(0!==css.indexOf(prefix)){results.push(css);}}return results;})();if(newClass=normalSource.sizeClass||normalSource.css||""){newClasses.push(newClass);}$holder.attr("class",newClasses.join(" "));return normalSource;};$.fn.applyImgSource=function(availImgWidth,availImgHeight,$holder){var $img,css,i,imgSource,imgSources,len,newClass,newClasses,newSource,normalSource,originalSize,prefix,ratio,ref,ref1,targetHeight,targetWidth;$img=this;if($img.length!==1){return $img.each(function(){return $(this).applyImgSource(availImgWidth,availImgHeight,$holder);});}if(!(imgSources=window.responsiveImaging.getSources($img))){return;}if("number"!==typeof availImgHeight){availImgHeight=10000*availImgWidth;}if($holder==null){$holder=$img;}normalSource=window.responsiveImaging.getNormalImage(imgSources);if(availImgWidth/availImgHeight>normalSource.width/normalSource.height){availImgWidth=normalSource.width*availImgHeight/normalSource.height;}else{availImgHeight=normalSource.height*availImgWidth/normalSource.width;}if(!(originalSize=$img.data("size"))){$img.data("size",originalSize={width:(ref=$img.attr("width"))!=null?ref:normalSource.width,height:(ref1=$img.attr("height"))!=null?ref1:normalSource.height});}originalSize.maxWidth=originalSize.width;originalSize.maxHeight=originalSize.height;ratio=getDevicePixelRatio();targetWidth=ratio*Math.min(originalSize.width,availImgWidth);targetHeight=ratio*Math.min(originalSize.height,availImgHeight);for(i=0,len=imgSources.length;i<len;i++){imgSource=imgSources[i];newSource=imgSource;if(imgSource.width>=targetWidth){break;}}if(newSource&&(newSource.src!==$img.attr("src")||newSource.width/ratio!==$img.attr("width"))){$img.attr("src",newSource.src);$img.attr("width",newSource.width/ratio);$img.attr("height",newSource.height/ratio);originalSize.maxWidth=Math.min(originalSize.width,availImgWidth);originalSize.maxHeight=originalSize.height*originalSize.maxWidth/originalSize.width;$img.css({"max-width":originalSize.maxWidth+"px","max-height":originalSize.maxHeight+"px"});prefix=newSource.css?"img_":"size_";newClasses=(function(){var j,len1,ref2,results;ref2=($holder.attr("class")||"").split(" ");results=[];for(j=0,len1=ref2.length;j<len1;j++){css=ref2[j];if(0!==css.indexOf(prefix)){results.push(css);}}return results;})();if(newClass=newSource.sizeClass||newSource.css||""){newClasses.push(newClass);}$holder.attr("class",newClasses.join(" "));return newSource;}};$.fn.responsiveImaging=function(){return this.find(responsiveConfig.imageSelector).each(function(){var $img;$img=$(this);return $img.applyImgSource($img.getAvailContainerWidth());});};$.fn.responsiveImagemaps=function(){return this.find(responsiveConfig.imagemapSelector).each(function(){var $holder,$img,$visual;$holder=$(this);if(!($img=$holder.find("img[usemap]"))){return;}if(!($visual=$holder.find("img.imagemap"))){return;}$holder.css({width:"auto",height:"auto"});$visual.applyImgSource($holder.getAvailContainerWidth());$holder.css({width:$visual.data("size").maxWidth,height:$visual.data("size").maxHeight}).find(".hasImagemapPosition").each(function(){var position;position=$(this).data("position");$(this).css({left:position.left*$visual.width(),top:position.top*$visual.height(),width:position.width*$visual.width(),height:position.height*$visual.height()}).find("img").applyImgSource(position.width*$visual.width());});$holder.find("area").scaleArea($visual.width()/window.responsiveImaging.getNormalImage($visual).width);});};$.fn.responsiveWidgets=function(){return this.find("div.mediawidget[id^=\"Mwt_\"]").each(function(){var availMwtWidth,curMwtId,curMwtWidth;availMwtWidth=$(this).getAvailContainerWidth();curMwtWidth=$(this).data("width");curMwtId=$(this).attr("id").split("_")[1];if(curMwtWidth>availMwtWidth&&$("#MwtEmb_"+curMwtId).length){$("#MwtEmb_"+curMwtId).show();return $("#Mwt_"+curMwtId).hide();}else{$("#MwtEmb_"+curMwtId).hide();return $("#Mwt_"+curMwtId).show();}});};$.fn.getAvailContainerWidth=function(){var $closest,selector;selector=window.imageContainerSelector||"div.iprox-content,div.slide";$closest=$(this).closest(selector);if(!$closest.length){$closest=$(this).parent();}return $closest.width();};$.fn.getStretchBehaviour=function(){var selector;selector=window.stretchContainerSelector||"div.stretch";return $(this).closest(selector).length>0;};}).call(this);(function(){var $;$=jQuery;$.fn.eltSizeCategories=function(eltBreakpoints){var className,classNameIndex,classNames,context,i,j,len,len1,max,min,ref,relevantElements,selector,sizes;if(eltBreakpoints==null){eltBreakpoints=$("body").data("elt-breakpoints");}context=this;if(!eltBreakpoints){return;}for(i=0,len=eltBreakpoints.length;i<len;i++){ref=eltBreakpoints[i],selector=ref.selector,sizes=ref.sizes,classNames=ref.classNames;if(classNames.length!==sizes.length+1){if(console&&typeof console.log==="function"){console.log("Number of defined classes doesn't match expected number of defined sizes");}return;}relevantElements=$(selector,context);for(j=0,len1=classNames.length;j<len1;j++){className=classNames[j];classNameIndex=classNames.indexOf(className);min=classNameIndex===0?0:parseInt(sizes[classNameIndex-1],10);max=classNameIndex===sizes.length?999999:parseInt(sizes[classNameIndex],10);relevantElements.removeClass(className).filter(function(){var curWidth;curWidth=$(this).width();return curWidth>min&&curWidth<=max;}).addClass(className);}}};runOnLoad(function($context){if($context==null){$context=$(document);}return $context.eltSizeCategories();});$(window).smartresize(function(){return $(responsiveConfig.containerSelector).eltSizeCategories();});}).call(this);(function(){"use strict";var $;$=jQuery;this.imagemapUseMouseAsPopupLocation=false;this.imagemapOptions={};window.smoothAnchorExcludes=window.smoothAnchorExcludes||[];window.smoothAnchorExcludes.push("a.imagemap_icoon");this.pageLoadFunctions.push(function($context){if($context==null){$context=$(document);}return $context.find("span.imagemapplaceholder").unlessProcessed("ip-imagemap").initializeImagemap(window.imagemapOptions);});$.fn.initializeImagemap=function(options,current){var attr,config,getBox,hasOverlays,hideOverlay,hideSpot,hotspotEvents,img,map,normal,openHotspot,openOverlay,overlayEvents,setPosition,showOverlay,showSpot,type;if(current==null){current=this;}attr=function(obj,name){return obj.attr(name)||(obj.length?obj.get(0).getAttribute(name):null)||"";};config=$.extend({offset:{x:0,y:0}},options||{});if(current.length!==1){return current.each(function(){return $(this).initializeImagemap(config);});}img=current.find("img.imagemap");if(!img.length){return;}normal=window.responsiveImaging.getNormalImage(img);map=current.find("map"+(img.attr("usemap")));if(!map.length){return;}type=attr(map,"class")||"mouseover";map.find("area[coords]").each(function(){var area,coord;area=$(this);return area.data("coords",(function(){var i,len,ref,results;ref=area.attr("coords").split(",");results=[];for(i=0,len=ref.length;i<len;i++){coord=ref[i];results.push(parseInt(coord,10));}return results;})()).scaleArea(img.width()/normal.width);});getBox=function(area){var coords,corInd,curX,curY,maxX,maxY,minX,minY,shape,x,y;x=0;y=0;coords=area.data("coords");minX=10000;minY=10000;maxX=0;maxY=0;corInd=void 0;shape=attr(area,"shape").toLowerCase();if(shape.indexOf("poly")===0||shape.indexOf("rect")===0){corInd=0;while(corInd<coords.length){curX=coords[corInd];if(curX<minX){minX=curX;}if(curX>maxX){maxX=curX;}corInd+=2;}corInd=1;while(corInd<coords.length){curY=coords[corInd];if(curY<minY){minY=curY;}if(curY>maxY){maxY=curY;}corInd+=2;}x+=(minX+maxX)/2;y+=(minY+maxY)/2;}else if(shape==="circle"){x+=coords[0];y+=coords[1];minX=x-coords[2];minY=y-coords[2];maxX=x+coords[2];maxY=y+coords[2];}return{left:minX,right:maxX,width:maxX-minX+1,x:Math.round(x),top:minY,bottom:maxY,height:maxY-minY+1,y:Math.round(y)};};setPosition=function(obj,area,width,height){var box,left,position,top;if(area==null){area=obj;}box=getBox(area);if(width==null){width=box.width;}if(width==null){height=box.height;}left=Math.max(0,Math.min(box.x-width/2,normal.width-width));top=Math.max(0,Math.min(box.y-height/2,normal.height-height));position={left:left/normal.width,top:top/normal.height,width:width/normal.width,height:height/normal.height};return obj.data("position",position).addClass("hasImagemapPosition").css({left:position.left*img.width(),top:position.top*img.height(),width:position.width*img.width(),height:position.height*img.height()});};openHotspot=$("nothing");hideSpot=function(){if(((openHotspot!=null?openHotspot.attr("id"):void 0)!=null)){$("*[href='#"+(openHotspot.attr("id"))+"']:first").focusWithoutScroll();}openHotspot.remove();return false;};showSpot=function(area,id,event){var box,center,p,ratio,size,sluitkruis;hideSpot();if(area==null){return true;}center=(function(){if(window.imagemapUseMouseAsPopupLocation){return{x:event.clientX+config.offset.x+$(window).scrollLeft(),y:event.clientY+config.offset.y+$(window).scrollTop()};}else{box=getBox(area);ratio=img.width()/normal.width;for(p in box){size=box[p];box[p]=Math.round(ratio*size);}return box;}})();if($(current).find(id).length===0){openHotspot=$(id).clone(true).addClass("hotspot_popup").prependTo(current);sluitkruis=$("<div class='sluitkruis'><a href='#'><span class='kruis'>&#215;</span><span class='text'></span></a>");sluitkruis.find("a").attr("title",window.iprox.referenceLists.getText("sluiten")).click(hideSpot).find("span.text").text(window.iprox.referenceLists.getText("sluiten"));openHotspot.find(".popupheader:first").prepend(sluitkruis);if(center["x"]+openHotspot.width()>$(document).width()){center["x"]=($(document).width()-openHotspot.width())/2;}openHotspot.positionSpot(center);$(".sluitkruis a:first",openHotspot).focusWithoutScroll();}return false;};hasOverlays=$("area[data-overlay]",current).length;openOverlay=$("nothing");hideOverlay=function(){openOverlay.remove();openOverlay=$("nothing");return false;};showOverlay=function(area,id,event){var overlay;hideOverlay();if(!(area!=null?area.data("overlay"):void 0)){return true;}overlay=window.responsiveImaging.getNormalImage(area.data("overlay"));openOverlay=$("<img>").attr("data-sources",area.attr("data-overlay")).attr("width",overlay.width).attr("height",overlay.height).attr("alt",attr(area,"alt")).addClass("imagemap_overlay");openOverlay.applyImgSource(img.width());openOverlay.appendTo(current);setPosition(openOverlay,area,overlay.width||openOverlay.width(),overlay.height||openOverlay.height());return false;};if(hasOverlays){img.clone().removeAttr("usemap").removeAttr("id").prependTo(current);img.attr("src","/views/global/images/extra/transp.gif").attr("alt","").removeClass("imagemap").removeAttr("data-sources").removeData("sources").addClass("transp");overlayEvents=(type==="link"?"mouseover":"mouseover click");map.find("area").on(overlayEvents,function(event){var area;area=$(this);return showOverlay(area,attr(area,"href"),event);}).on("mouseout",hideOverlay);}hotspotEvents=(type==="click"?type:"mouseover click");if(type!=="link"){current.find("map"+(img.attr("usemap"))+" area").on(hotspotEvents,function(event){var area;area=$(this);return showSpot(area,attr(area,"href"),event);});}map.find("area[data-icoon]").each(function(){var area,ico,icoon,link;area=$(this);icoon=window.responsiveImaging.getNormalImage(area.data("icoon"));link=$("<a></a>").attr("href",attr(area,"href")).addClass("imagemap_icoon").addClass(attr(area,"class")).appendTo(current);setPosition(link,area,icoon.width||link.width(),icoon.height||link.height());if(attr(area,"title")){link.attr("title",attr(area,"title"));}ico=$("<img>").attr("data-sources",area.attr("data-icoon")).attr("width",icoon.width).attr("height",icoon.height).attr("alt",attr(area,"alt"));ico.applyImgSource(link.width());link.append(ico);if(hasOverlays){link.on("mouseover",function(event){return showOverlay(area,attr(area,"href"),event);});link.on("mouseout",hideOverlay);}if(type!=="link"){link.on(hotspotEvents,function(event){return showSpot(area,attr(area,"href"),event);});}});return current;};$.fn.positionSpot=function(center){return this.css({left:center.x+"px",top:center.y+"px"});};$.fn.focusWithoutScroll=function(){var x,y;y=$(window).scrollTop();x=$(window).scrollLeft();$(this).focus();return window.scrollTo(x,y);};$.fn.scaleArea=function(ratio){var area,coord,coords;area=$(this).filter("area[coords]");if(area.length!==1){return area.each(function(){return $(this).scaleArea(ratio);});}if(!(coords=area.data("coords"))){return area;}return area.attr("coords",((function(){var i,len,results;results=[];for(i=0,len=coords.length;i<len;i++){coord=coords[i];results.push(Math.round(ratio*coord));}return results;})()).join(","));};}).call(this);var contentDispositionFile="content-disposition.asp";var statisticsFile="statistics/statistics.asp";var mediaplayerFile="/views/pagetypes/video/flash/mediaplayer.swf";var debug=false;var arFileTypes=new Array();arFileTypes["jwmedia"]=new Array("flv","mp3","mp4");arFileTypes["quicktime"]=new Array("smil","mov","mp3");arFileTypes["winmedia"]=new Array("asx","wmv","mp3","wma");GovVid=function(id,width,height){this.id=id;this.width=width;this.height=height;this.movies=new Object();this.audioFiles=new Object();this.captions=new Object();this.image="";};GovVid.prototype.addMovie=function(filename){var temp=filename.split("/");var thefile=temp[temp.length-1];var file=thefile.split(".");var type=file[file.length-1];this.movies[type]=filename;};GovVid.prototype.addAudio=function(filename){var temp=filename.split("/");var thefile=temp[temp.length-1];var file=thefile.split(".");var type=file[file.length-1];this.audioFiles[type]=filename;};GovVid.prototype.addImage=function(filename){this.image=filename;};GovVid.prototype.addCaption=function(type,filename){this.captions[type]=filename;};GovVid.prototype.inArray=function(needleArray,haystackArray){var key;var key2;for(key in haystackArray){for(key2 in needleArray){if(key==needleArray[key2])return key;}}return false;};GovVid.prototype.write=function(elementid){var element=document.getElementById(elementid);if(element){element.parentNode.style.width=parseInt(this.width,10)+"px";$("#toggle_list_"+elementid).hide();var a=$('<a href="#" id="a_list_'+elementid+'"></a>');$("#list_"+elementid).wrapInner(a);$("#a_list_"+elementid).toggle(function(){$("#toggle_list_"+elementid).show();return false;},function(){$("#toggle_list_"+elementid).hide();return false;});}var display=false;var version=GovVid_getFlashPlayerVersion();var height;if(version.major>7){if(mediaplayerFile==undefined||mediaplayerFile==""){alert("voor het afspelen met de flash plugin, is de jwmediaplayer vereist.\n vul de variable mediaplayerFile met de juiste waarde.");return false;}height=parseInt(this.height,10)+20;if(display=this.inArray(arFileTypes["jwmedia"],this.movies)){var movieObject=new GovVidMovie(mediaplayerFile,this.id,this.width,height);movieObject.addFlashVars("autostart","false");if(this.image!="")movieObject.addFlashVars("image",this.image);if(this.captions["flv"]!=undefined)movieObject.addFlashVars("captions",this.captions["flv"]);if(this.audioFiles["mp3"]!=undefined)movieObject.addFlashVars("audio",this.audioFiles["mp3"]);movieObject.addFlashVars("usecaptions","false");movieObject.addFlashVars("overstretch","false");movieObject.addFlashVars("file",this.movies[display]);if(statisticsFile!=undefined&&statisticsFile!=""){movieObject.addFlashVars("callback",statisticsFile);movieObject.addFlashVars("logevents",statisticsFile);}movieObject.addFlashVars("showdigits","total");movieObject.addFlashVars("showbuttons","true");movieObject.addFlashVars("bufferlength","5");movieObject.addFlashVars("backcolor","0x000000");movieObject.addFlashVars("frontcolor","0xFFFFFF");movieObject.addFlashVars("lightcolor","0xFFFFFF");movieObject.showMovie(elementid,"flash");return true;}else if(display=this.inArray(arFileTypes["jwmedia"],this.audioFiles)){var audioObject=new GovVidMovie(mediaplayerFile,this.id,this.width,height);audioObject.addFlashVars("file",this.audioFiles[display]);if(statisticsFile!=undefined&&statisticsFile!=""){audioObject.addFlashVars("callback",statisticsFile);audioObject.addFlashVars("logevents",statisticsFile);}audioObject.addFlashVars("showdigits","total");audioObject.addFlashVars("showbuttons","true");audioObject.addFlashVars("bufferlength","5");audioObject.addFlashVars("backcolor","0x000000");audioObject.addFlashVars("frontcolor","0xFFFFFF");audioObject.addFlashVars("lightcolor","0xFFFFFF");audioObject.showMovie(elementid,"flash");return true;}}if(GovVid_isQTInstalled()&&!display){height=parseInt(this.height,10)+16;if(display=this.inArray(arFileTypes["quicktime"],this.movies)){if(display=="smil")height=parseInt(this.height,10)+115;var movieObject=new GovVidMovie(this.movies[display],this.id,this.width,height);movieObject.addParam("autostart","false");movieObject.addParam("autoplay","false");movieObject.addParam("controller","true");movieObject.addParam("target","myself");movieObject.showMovie(elementid,"quicktime");return true;}else if(display=this.inArray(arFileTypes["quicktime"],this.audioFiles)){var audioObject=new GovVidMovie(this.audioFiles[display],this.id,this.width,height);audioObject.addParam("autostart","false");audioObject.addParam("autoplay","false");audioObject.addParam("controller","true");audioObject.addParam("target","myself");audioObject.showMovie(elementid,"quicktime");return true;}}if(!display&&GovVid_isWMPInstalled()){height=parseInt(this.height,10)+46;if(display=this.inArray(arFileTypes["winmedia"],this.movies)){var movieObject=new GovVidMovie(this.movies[display],this.id,this.width,height);movieObject.addParam("src",this.movies[display]);movieObject.addParam("Showcontrols","true");movieObject.addParam("autoStart","false");movieObject.showMovie(elementid,"winmedia");return true;}else if(display=this.inArray(arFileTypes["winmedia"],this.audioFiles)){var audioObject=new GovVidMovie(this.audioFiles[display],this.id,this.width,height);audioObject.addParam("src",this.audioFiles[display]);audioObject.addParam("Showcontrols","true");audioObject.addParam("autoStart","false");audioObject.showMovie(elementid,"winmedia");return true;}}if(!display){var div=document.getElementById(elementid);div.innerHTML+='<p>Op uw systeem kan dit media bestand niet worden afgespeeld. Download <a href="http://get.adobe.com/flashplayer/" target="_blank">Adobe Flash Player</a> voor het beste resultaat.</p>';}return false;};GovVidMovie=function(filename,id,width,height){this.filename=filename;this.id=id;this.width=width;this.height=height;this.params=new Object();this.flashvars=new Object();};GovVidMovie.prototype.addParam=function(name,value){this.params[name]=value;};GovVidMovie.prototype.getParams=function(){return this.params;};GovVidMovie.prototype.addFlashVars=function(name,value){this.flashvars[name]=value;};GovVidMovie.prototype.getFlashVars=function(){return this.flashvars;};GovVidMovie.prototype.getParamTags=function(){var paramTags="";for(var param in this.getParams()){paramTags+='<param name="'+param+'" value="'+this.params[param]+'" />\n';}if(paramTags==""){paramTags=null;}return paramTags;};GovVidMovie.prototype.getQuicktimeHTML=function(){var qtHTML="";qtHTML+="<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\" width=\""+this.width+"\" height=\""+this.height+"\">\n";qtHTML+="<param name=\"src\" value=\""+this.filename+"\" />\n";if(this.getParamTags()!=null){qtHTML+=this.getParamTags();}qtHTML+="<!--[if !IE]>-->\n";qtHTML+="<object type=\"video/quicktime\" data=\""+this.filename+"\" width=\""+this.width+"\" height=\""+this.height+"\">\n";if(this.getParamTags()!=null){qtHTML+=this.getParamTags();}qtHTML+="</object>\n";qtHTML+="<!--<![endif]-->\n";qtHTML+="</object>\n";return qtHTML;};GovVidMovie.prototype.getWinmediaHTML=function(){var wHTML='';wHTML='<object id="'+this.id+'" width='+this.width+' height='+this.height+' classid="CLSID:22D6f312-B0F6-11D0-94AB-0080C74C7E95" standby="Loading Windows Media Player components..." type="application/x-oleobject" codebase="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=6,4,7,1112">';wHTML+='<param name="filename" value="'+this.filename+'">';if(this.getParamTags()!=null){wHTML+=this.getParamTags();}wHTML+='<embed type="application/x-mplayer2" pluginspage="http://microsoft.com/windows/mediaplayer/ en/download/" src="'+this.filename+'" id="'+this.id+'" name="'+this.id+'" width="'+this.width+'" height="'+this.height+'"';for(var param in this.getParams()){wHTML+=' '+param+'="'+this.params[param]+'"';}wHTML+='></embed></object>';return wHTML;};GovVidMovie.prototype.getFlashHTML=function(){var swfHTML="";var flashVars="";if(this.flashvars){for(var param in this.getFlashVars()){flashVars+=param+'='+this.flashvars[param]+'&';}}if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){swfHTML='<embed type="application/x-shockwave-flash" src="'+this.filename+'" width="'+this.width+'" height="'+this.height+'"';swfHTML+=' id="'+this.id+'" name="'+this.id+'" allowfullscreen=true';for(var param in this.getParams()){swfHTML+=' '+param+'="'+this.params[param]+'"';}if(flashVars!='')swfHTML+=' flashvars="'+flashVars+'"';swfHTML+="/>";}else{swfHTML="<object id=\""+this.id+"\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\""+this.width+"\" height=\""+this.height+"\">";swfHTML+="<param name=\"movie\" value=\""+this.filename+"\" />";swfHTML+="<param name=\"allowfullscreen\" value=\"true\" />";swfHTML+="<param name=\"wmode\" value=\"opaque\" />";if(this.getParamTags()!=null){swfHTML+=this.getParamTags();}if(flashVars!='')swfHTML+="<param name=\"flashvars\" value=\""+flashVars+"\" />";swfHTML+="</object>";}return swfHTML;};GovVidMovie.prototype.showMovie=function(elementID,filetype){var element=document.getElementById(elementID);if(filetype=='flash'){element.innerHTML=this.getFlashHTML();}else if(filetype=='quicktime'){element.innerHTML=this.getQuicktimeHTML();}else if(filetype=='winmedia'){element.innerHTML=this.getWinmediaHTML();}};function GovVid_getFlashPlayerVersion(){var version=new FlashPlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var x=navigator.plugins["Shockwave Flash"];if(x&&x.description){version=new FlashPlayerVersion(x.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(e){try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");version=new FlashPlayerVersion([6,0,21]);axo.AllowScriptAccess="always";}catch(e){if(version.major==6){return version;}}try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(e){}}if(axo!=null){version=new FlashPlayerVersion(axo.GetVariable("$version").split(" ")[1].split(","));}}return version;};FlashPlayerVersion=function(player){this.major=player[0]!=null?parseInt(player[0],10):0;this.minor=player[1]!=null?parseInt(player[1],10):0;this.rev=player[2]!=null?parseInt(player[2],10):0;};function GovVid_isQTInstalled(){var qtInstalled=false;var qtObj=false;if(navigator.plugins&&navigator.plugins.length){var navigatorLength=navigator.plugins.length;for(var i=0;i<navigatorLength;i++){var plugin=navigator.plugins[i];if(plugin.name.indexOf("QuickTime")>-1){qtInstalled=true;}}}else{execScript('on error resume next: qtObj = IsObject(CreateObject("QuickTimeCheckObject.QuickTimeCheck.1"))','VBScript');qtInstalled=qtObj;}return qtInstalled;}function GovVid_isWMPInstalled(){var wmpInstalled=false;if(navigator.plugins&&navigator.plugins.length){var navigatorLength=navigator.plugins.length;for(var i=0;i<navigatorLength;i++){var plugin=navigator.plugins[i];if(plugin.name.indexOf("MediaPlayer")>-1){wmpInstalled=true;}}}else{return true;}return wmpInstalled;}function GovVid_toggle(objid){var el=document.getElementById(objid);if(el.className=='close')el.className='open';else el.className='close';}function openBinary(){if(contentDispositionFile!=undefined&&contentDispositionFile!=""){var filetypes=new Array("pdf","wmv","mov","mp4","flv","3gp","mp3");var myAnchors=document.getElementsByTagName('a');var myAnchorsLength=myAnchors.length;for(i=0;i<myAnchorsLength;i++){var anchor=myAnchors[i];var url=String(anchor.getAttribute('href'));var arUrl=url.split(".");var filetype=arUrl[arUrl.length-1];if(GovVid_in_array(filetypes,filetype.toLowerCase())){var myfile=anchor.href.replace(document.location.href.substring(0,document.location.href.lastIndexOf("/")+1),'');anchor.href=contentDispositionFile+"?file="+myfile;anchor.onclick=function(){this.href=this.href;};}else if(anchor.className=="transcription"){anchor.onclick=function(){return newWin(this.href,'500','500');};}}}}function GovVid_makeListToggle(liID){var element=document.getElementById(liID);if(element){var parent=GovVid_getParentByClassname("moviecontent",element);if(!parent)parent=GovVid_getParentByClassname("audiocontent",element);if(parent)var elements=GovVid_getElementsByClassName("toggle","LI",parent);else var elements=GovVid_getElementsByClassName("toggle","LI");var elementsLength=elements.length;for(var i=0;i<elementsLength;i++){var ulID="govVid_ToggleMenu_"+i+liID;var toggleEl="";var header="";var childNodesLength=elements[i].childNodes.length;for(var j=0;j<childNodesLength;j++){var tagName=elements[i].childNodes[j].tagName;if((tagName=="H2"||tagName=="H3"||tagName=="H4"||tagName=="H5"||tagName=="H6"||tagName=="SPAN"||tagName=="A")&&header==""){header=elements[i].childNodes[j];var headerID="govVid_ToggleLink_"+i+liID;if(tagName=="A"){header.id=headerID;header.onclick="GovVid_toggle(\'"+ulID+"\'); GovVid_toggle(this.id); return false;";}else{header.innerHTML='<a href="#" id="'+headerID+'" onclick="GovVid_toggle(\''+ulID+'\'); GovVid_toggle(this.id); return false;">'+header.innerHTML+'</a>';}GovVid_toggle(headerID);}if((tagName=="UL"||tagName=="DIV"||tagName=="P")&&toggleEl==""){toggleEl=elements[i].childNodes[j];toggleEl.id=ulID;GovVid_toggle(ulID);}}}}else alert("id '"+liID+"'not found!");}function GovVid_in_array(myArray,value){var myArrayLength=myArray.length;for(var i=0;i<myArrayLength;i++){if(myArray[i]==value)return true;}return false;}function GovVid_getElementsByClassName(className,tag,elm){var testClass=new RegExp("(^|\\s)"+className+"(\\s|$)");var tag=tag||"*";var elm=elm||document;var elements=(tag=="*"&&elm.all)?elm.all:elm.getElementsByTagName(tag);var returnElements=[];var current;var length=elements.length;for(var i=0;i<length;i++){current=elements[i];if(testClass.test(current.className)){returnElements.push(current);}}return returnElements;}function GovVid_getParentByClassname(className,elm){var testClass=new RegExp("(^|\\s)"+className+"(\\s|$)");while(elm.tagName!="BODY"){if(testClass.test(elm.className)){return elm;}elm=elm.parentNode;}return false;}var currentPosition;var currentVolume;function loadFile(caps){thisMovie("mediaplayer").loadFile(fil);};function thisMovie(movieName){if(navigator.appName.indexOf("Microsoft")!=-1){return window[movieName];}else{return document[movieName];}};function sendEvent(typ,prm){thisMovie("mediaplayer").sendEvent(typ,prm);};function getUpdate(typ,pr1,pr2){if(typ=="time"){currentPosition=pr1;}else if(typ=="volume"){currentVolume=pr1;}};(function($){$(function(){if(cookiesAllowed){$("span.flashWrapper").ReplaceByFlashMovie();}});$.createFlashMovie=function(targetObj,flashUrl,w,h,id){var type=flashUrl.toLowerCase().split('.');type=type[type.length-1];if(type=='swf'){targetObj.removeChild(targetObj.firstChild);var o=document.createElement("object");o.id=id;o.width=w;o.height=h;var p1=document.createElement("param");p1.name="movie";p1.value=flashUrl;o.appendChild(p1);var p2=document.createElement("param");p2.name="quality";p2.value="high";var p3=document.createElement("param");p3.name="wmode";p3.value="transparent";o.appendChild(p3);var p4=document.createElement("param");p4.name="play";p4.value="true";o.appendChild(p3);var em=document.createElement("embed");em.src=flashUrl;em.type="application/x-shockwave-flash";em.quality="high";em.wmode="transparent";em.play="true";em.id=id;em.width=w;em.height=h;targetObjParent=targetObj.parentNode;targetObjParent.removeChild(targetObj);try{o.appendChild(em);targetObjParent.appendChild(o);}catch(e){targetObjParent.appendChild(em);}}else{var movie=new GovVid(id,w,h);movie.addMovie(flashUrl);movie.write(id);}};$.fn.ReplaceByFlashMovie=function(){$(this).makeId("movie").each(function(){var movie=$(this).find("a[href]");var dims=movie.attr('title').split('Flash: ')[1];var width=(dims&&dims!='')?dims.split(',')[0]:249;var height=(dims&&dims!='')?dims.split(',')[1]:249;var id=$(this).attr('id');$.createFlashMovie(this,movie.attr("href"),width,height,id);});};})(jQuery);var ipCheckFormConfig=ipCheckFormConfig||{addRowErrorMessage:function(rij,message){rij.find(".invoer:last").append(message);},removeRowErrorMessage:function(rij){rij.find(".error-message:first").remove();},addFormErrorMessage:function(form,message,isBaseline){if(isBaseline){form.closest(".grid-blok").before(message);}else{form.before(message);}},removeFormErrorMessage:function(form,isBaseline){var thisFormErrors=$(".incorrectmessage[data-formId = '"+form.attr("id")+"'");if(isBaseline){thisFormErrors.closest(".type-foutmelding").remove();}else{thisFormErrors.remove();}},showIncorrectMessage:function(form,scroll){var isBaseline=$("body").hasClass("rol-body");var $form=$(form);var hasNoErrors=$form.find(".rij_ongeldig").length===0;if(hasNoErrors){ipCheckFormConfig.removeFormErrorMessage($form,isBaseline);}else{var formMessage=$(".incorrectmessage[data-formId = '"+$form.attr("id")+"']");var isNewErrorMessageBlock=formMessage.length===0;if(isNewErrorMessageBlock){formMessage='<div class="incorrectmessage" data-formId="'+$form.attr("id")+'">'+'<div class="ongeldig iprox-plain iprox-error iprox-aria-alert">'+($form.data("invalidmessage")?$form.data("invalidmessage"):'')+"</div>"+'<div class="iprox-content iprox-error iprox-aria-alert">'+'<ul class="formulier_incorrect_summary"></ul>'+"</div>"+"</div>";formMessage=$(formMessage);if(isBaseline){var gridClasses=$form.closest(".grid-blok").attr("class").match(/grid(-blok|_\d+)/g).join(" ");formMessage='<div class="'+gridClasses+' rol-foutmelding type-foutmelding">'+'<div class="grid-element">'+'<div class="grid-edge">'+'<div class="grid-inside">'+formMessage.wrap("<span></span>").parent().html()+"</div>"+"</div>"+"</div>"+"</div>";formMessage=$(formMessage);}}var incorrectSummary=formMessage.find("ul.formulier_incorrect_summary");incorrectSummary.find("li").attr("removeAfterDone","true");$form.find(".rij_ongeldig").each(function(){var rij=$(this);var input=$("input[id], textarea[id], select[id]",rij).first();var emptyMsg=rij.find("[data-emptymessage]:first").data("emptymessage");var invalidMsg=rij.find("[data-invalidmessage]:first").data("invalidmessage");var message=rij.hasClass("rij_invalid")?invalidMsg:emptyMsg;var inputSelector="#"+input.attr("id");if(message){var aAlreadyPresent=incorrectSummary.find("a[href = '"+inputSelector+"']");if(aAlreadyPresent.length!==0){aAlreadyPresent.text(message);aAlreadyPresent.closest("li").removeAttr("removeAfterDone");}else{var line="<li>"+(isBaseline?"<span class='li-content'>":"")+"<a class='iprox-error' href='"+inputSelector+"'>"+message+"</a>"+(isBaseline?"</span>":"")+"</li>";incorrectSummary.append(line);if($.fn.ipSmoothAnchors){incorrectSummary.find("li:last").ipSmoothAnchors();}}}});incorrectSummary.find("li").css({cursor:"pointer"});if(isNewErrorMessageBlock){ipCheckFormConfig.addFormErrorMessage($form,formMessage,isBaseline);}else{incorrectSummary.find("li[removeAfterDone = 'true']").remove();}if(scroll){if(isBaseline){$(".type-foutmelding").scrollTo();}else{$form.find(".incorrectmessage").scrollTo();}}}}};(function($){var fieldSelector="input[type = 'text'], input[type = 'email'], input[type = 'date'], input[type = 'time'], input[type = 'password'], input[type = 'file'], textarea, select";function isFilled(){var input=$(this);if(input.attr("type")==="file"){input=input[0];if(input.files&&input.files[0]){return true;}return false;}return $.trim(input.val())!==""&&input.data("isplaceholder")!==true;}function isValid(rij){if(!rij){rij=$(this);}var input=$("input",this);var patternStr=input.attr("pattern");var pattern=typeof patternStr!==typeof undefined&&patternStr!==false?new RegExp("^(?:"+patternStr+")$"):/.*/;var valid=pattern?pattern.test(input.val()):null;var empty=$("input",rij).not(isFilled).length>0;if(!valid&&!empty){rij.removeClass("rij_valid");rij.addClass("rij_invalid");}else{rij.removeClass("rij_invalid");rij.addClass("rij_valid");}return(valid&&!empty)||(!rij.hasClass("rij_verplicht")&&empty);}function allFilled(rij){if(!rij){rij=$(this);}return(!rij.hasClass("rij_verplicht")||$(fieldSelector,rij).not(isFilled).length===0);}function doesNotExceedMax(rij){if(!rij){rij=$(this);}var form=rij.closest("form");var maxUpload=form.data("maxupload");if(maxUpload){var fileRijen=form.find(".rij.file");var fileInputs=fileRijen.find("input.input");var currentFileSize=0;for(var inputCounter=0;inputCounter<fileInputs.length;inputCounter++){var input=fileInputs[inputCounter];if(input.files&&input.files[0]){for(var fileCounter=0;fileCounter<input.files.length;fileCounter++){var file=input.files[fileCounter];if(file.size){currentFileSize+=file.size;}}if(currentFileSize>maxUpload){var message=window.iprox.referenceLists.getText("Bestand te groot");rij.addClass("rij_invalid").find("div.invoer").attr("data-invalidmessage",message);form.data("invalidmessage",message);return false;}}}rij.removeClass("rij_invalid");}return true;}function isChecked(rij){if(!rij){rij=$(this);}return!rij.hasClass("rij_verplicht")||$("input:checked",rij).length>0;}function isSelected(rij){if(!rij){rij=$(this);}return(!rij.hasClass("rij_verplicht")||$("option:selected",rij).length>0);}function isValidWebsiteAddress(rij){if(!rij){rij=$(this);}var input=$("input",this);if(input.val()!==""&&input.val().indexOf("://")<0){input.val("http://"+input.val());}var patternStr=input.attr("pattern");var pattern=new RegExp("^(?:"+patternStr+")$");var valid=pattern?pattern.test(input.val()):null;var empty=$("input",rij).not(isFilled).length>0;if(!valid&&!empty){rij.removeClass("rij_valid");rij.addClass("rij_invalid");}else{rij.removeClass("rij_invalid");rij.addClass("rij_valid");}return(valid&&!empty)||(!rij.hasClass("rij_verplicht")&&empty);}var rijValidate=[["calendar",allFilled],["captcha",allFilled],["checkbox",isChecked],["date",isValid],["daterange_pulldown",allFilled],["file",doesNotExceedMax],["file",allFilled],["filestream",allFilled],["monthyear",allFilled],["password",isValid],["radio",isChecked],["selectie_type_checkbox",isChecked],["selectie_type_dropdown",allFilled],["pulldown",allFilled],["selectie_type_multiselect",isSelected],["selectie_type_radio",isChecked],["text",isValid],["mail",isValid],["textarea",allFilled],["time",isValid],["website",isValidWebsiteAddress]];function checkRijInput(){var input=$(this);input.closest(".rij.mode_input").each(checkRij);}function checkRij(){var rij=$(this);$.each(rijValidate,function(i,check){if(rij.hasClass(check[0])){ipCheckFormConfig.removeRowErrorMessage(rij);if(!check[1].call(rij)){var emptyMsg=rij.find("[data-emptymessage]:first").data("emptymessage");var invalidMsg=rij.find("[data-invalidmessage]:first").data("invalidmessage");var message=rij.hasClass("rij_invalid")?invalidMsg:emptyMsg;if(!message){message='';}rij.removeClass("rij_geldig").addClass("rij_ongeldig");var msgDiv=$('<div class="error-message"></div>');msgDiv.html(message+getHint(rij));ipCheckFormConfig.addRowErrorMessage(rij,msgDiv);ipCheckFormConfig.showIncorrectMessage(rij.closest("form"),false);}else if(rij.hasClass("rij_ongeldig")){rij.removeClass("rij_ongeldig").addClass("rij_geldig");ipCheckFormConfig.showIncorrectMessage(rij.closest("form"),false);}}});}var getHint=function(rij){var plhElt=rij.find("[placeholder]:first");if(plhElt.attr("placeholder")!==undefined&&plhElt.attr("placeholder")!==""){var hintText=rij.closest("form[data-hinttext]").data("hinttext")?rij.closest("form[data-hinttext]").data("hinttext")+": ":"";var hintElt=$('<span class="hint"></span>');hintElt.text("("+hintText+plhElt.attr("placeholder")+")");return(" "+$("<div/>").append(hintElt).html());}return"";};function checkRijen(e){$(".rij.mode_input",this).each(checkRij);var ok=$(".rij_ongeldig",this).length===0;if(!ok){e.stopImmediatePropagation();}else{var form=$(this).closest("form").attr("data-disabled","true").on("submit",disableForm).find("*[type='submit']").prop("disabled",true);makeMeFirst(form,"submit","function disableForm");}ipCheckFormConfig.showIncorrectMessage(this,true);return ok;}function disableForm(event){event.stopImmediatePropagation();return false;}function makeMeFirst(element,eventType,eventKey){element=$(element)[0];if(element){var events=$._data(element).events;if(events&&events.submit){var me=0;$.each(events[eventType],function(key,currentEvent){if(currentEvent.handler&&currentEvent.handler.toString().indexOf(eventKey)===0){me=key;}});if(me>0){var first=events[eventType][0];events[eventType][0]=events[eventType][me];events[eventType][me]=first;}}}}$(document).ajaxSuccess(function(){$("form[data-disabled='true']").each(function(index,elem){$(elem).removeAttr("data-disabled").off("submit",disableForm).find("*[type='submit']").prop("disabled",false);makeMeTheFirstSubmitEvent(elem);});});function makeMeTheFirstSubmitEvent(form){makeMeFirst(form,"submit","function checkRijen");}$.fn.checkFormInit=function(config){config=config||{};if(config.addType){rijValidate.push(config.addType);}if(config.addTypes){rijValidate=rijValidate.concat(config.addTypes);}if(config.showIncorrectMessage){showIncorrectMessage=config.showIncorrectMessage;}$(this).not(".checkform_processed").addClass("checkform_processed").each(function(){$(this).find(".rij.mode_input").find(fieldSelector).on("blur",checkRijInput);$(this).find(".rij.mode_input").find("input[type='radio'], input[type='checkbox']").on("click",checkRijInput);$(this).on("submit",checkRijen);});makeMeTheFirstSubmitEvent(this);};function checkFormOnContext(context){$("form.checkform",context).checkFormInit();}window.pageLoadFunctions=window.pageLoadFunctions||[];window.pageLoadFunctions.push(checkFormOnContext);})(jQuery);(function(){"use strict";var $;$=jQuery;$.fn.handleCollapseAria=function(expanded,controlledElements){var $controllerElement,screenReaderExplanation;$controllerElement=$(this);screenReaderExplanation=$controllerElement.find("span.screenReaderExplanation");if(screenReaderExplanation.length===0){screenReaderExplanation=$("<span class='tekstbrowser screenReaderExplanation'></span>");$controllerElement.append(screenReaderExplanation);}if(expanded){$controllerElement.attr("aria-expanded","true");screenReaderExplanation.text(" "+(window.iprox.referenceLists.getText('Uitgeklapt')));}else{$controllerElement.attr("aria-expanded","false");screenReaderExplanation.text(" "+(window.iprox.referenceLists.getText('Ingeklapt')));}if(controlledElements){if(expanded){return controlledElements.attr("aria-hidden","false");}else{return controlledElements.attr("aria-hidden","true");}}};}).call(this);(function(){var $,deleteButtonForFileInput;$=jQuery;window.pageLoadFunctions=window.pageLoadFunctions?window.pageLoadFunctions:[];deleteButtonForFileInput=function(context){var fileRijen;fileRijen=$("form.formulier .rij.file",context);fileRijen.find(".invoer input[type = 'file']").unlessProcessed("addFileRemoverOnChange").change(function(){return $(this).addDeleteButton();});fileRijen.find("input[name *= 'filedummy']").unlessProcessed("addFileRemoverDummy").addDeleteButton();};$.fn.addDeleteButton=function(){var $this,deleteFileTxt,fileName,fileRij;$this=$(this);if(!$this.length){return;}deleteFileTxt=window.iprox.referenceLists.getText("Verwijder toegevoegd bestand");fileRij=$this.closest(".rij.file");if(fileRij.find(".deletefile").length){return false;}if($this.get(0).files){fileName=$this.get(0).files[0].name;}if(fileName.length>20){fileName=fileName.substring(0,4)+" ... "+fileName.substring(fileName.length-16);}$this.next("label").after(("<button type=\"button\" class=\"deletefile action secondary-grey\" title=\""+deleteFileTxt+"\">")+fileName+"</button>");return fileRij.addClass("has-deletebutton").find(".deletefile").click(function(){var deleteFileButton,fileInput;deleteFileButton=$(this);fileInput=fileRij.find(".invoer input[type = 'file']");fileInput.wrap("<form>").closest("form").get(0).reset();fileInput.unwrap();deleteFileButton.remove();fileRij.removeClass("has-deletebutton");return false;});};window.pageLoadFunctions.push(deleteButtonForFileInput);}).call(this);(function(){var $;$=jQuery;$.fn.ProcessPage=function(options){var config;config=$.extend({external:'.externLink',printButton:'.print'},options);$(config.external).unlessProcessed('openinnewwindow',true).prop("target","_blank");$(config.printButton).unlessProcessed('printpage').on("click",function(event){print();return event.preventDefault();});};$.ScrollToBookMark=function(){if($('#'+$('#goto_bookmark').attr('name')).length){$('#'+$('#goto_bookmark').attr('name')).get(0).scrollIntoView(true);}};this.ProcessPageOptions={};runOnLoad(function($context){if($context==null){$context=$(document);}return $context.ProcessPage(ProcessPageOptions);});$(function(){$("body").removeClass('no-js').addClass('js');$.ScrollToBookMark();if(typeof initStijlset==='function'){initStijlset();}if(typeof initPagetype==='function'){initPagetype();}});}).call(this);parseDigitString=function(s){while(s.length>1&&s.substring(0,1)==='0'){s=s.substring(1,s.length);}if(isNaN(parseInt(s,10))){return 0;}else{return parseInt(s,10);}};putDigitString=function(num,digits){num=''+num;while(num.length<digits){num='0'+num;}return num;};openWindow=function(url,attr){var popup;popup=window.open(url,'popup',attr);return false;};openPopup=function(url,name,attr){var popup;popup=window.open(url,name,attr);return false;};curMouseY=0;curMouseX=0;updateXY=function(e){getMouseWinLeft(e);getMouseWinTop(e);};getMouseWinLeft=function(e){var e;var posx;posx=0;if(!e){e=window.event;}if(e.pageX){posx=e.pageX;}else if(e.clientX){posx=e.clientX+document.body.scrollLeft;}curMouseX=posx;return posx;};getMouseWinTop=function(e){var e;var posy;posy=0;if(!e){e=window.event;}if(e.pageY){posy=e.pageY;}else if(e.clientY){posy=e.clientY+document.body.scrollTop;}curMouseY=posy;return posy;};fieldDateCheck=function(input,nextEltId,length){var e;try{removeCharsFromDateField(input);if(input.value.length===length&&nextEltId!==''){$('#'+nextEltId).focus();}}catch(_error){e=_error;}};removeCharsFromDateField=function(input){var e,pos,regex;try{pos=getCaretPosition(input);regex=new RegExp('[^0-9]','g');input.value=input.value.replace(regex,'');setCaretPosition(input,input.value.length<=pos?pos:input.value.length);}catch(_error){e=_error;}};hideSelectBoxes=function(bool){if(bool){$('select').hide();}else{$('select').show();}};showCalendar=function(curDate,fieldId){var url;hideSelectBoxes(true);url='/?xdl=/views/global/xdl/calendar&VarIdt='+varIdt+'&fieldName='+fieldId+'&calendar_date='+curDate;$('#'+fieldId+'_calendar').load(url);};selectCurrentDate=function(date,fieldId){$('#'+fieldId+'_d').attr('value',date.substring(6,8));$('#'+fieldId+'_m').attr('value',date.substring(4,6));$('#'+fieldId+'_y').attr('value',date.substring(0,4));closeCalendar(fieldId);};selectCurrentDay=function(id){$('#'+id).toggleClassName('selected');};closeCalendar=function(fieldId){hideSelectBoxes(false);$('#'+fieldId+'_calendar').html('');};getCaretPosition=function(ctrl){var CaretPos,Sel;CaretPos=0;if(document.selection){ctrl.focus();Sel=document.selection.createRange();Sel.moveStart('character',-ctrl.value.length);CaretPos=Sel.text.length;}else if(ctrl.selectionStart||ctrl.selectionStart==='0'){CaretPos=ctrl.selectionStart;return CaretPos;}};setCaretPosition=function(ctrl,pos){var range;if(ctrl.setSelectionRange){ctrl.focus();ctrl.setSelectionRange(pos,pos);}else if(ctrl.createTextRange){range=ctrl.createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select();}};extendUrl=function(url,args,nodoubles){var retval,sep;if(nodoubles&&url.indexOf(args)>-1){return url;}else{sep=url.indexOf('?')<0?'?':'&';retval=url.split('#')[0]+sep+args;retval+=url.indexOf('#')>-1?'#'+url.split('#')[1]:'';return retval;}};var cookiesAllowedConfig={elementSelector:"body",questionAction:function(data,$elt){$elt.prepend(data);$("body").addClass("has-cookiebar-before");},changeAction:function(data,$elt){$elt.append(data);$("body").addClass("has-cookiebar-after");},messageAction:function(data,$elt){$elt.prepend(data);$("body").addClass("has-cookiebar-before");},statusChangeAction:function(event){$(this).hide();$('#Cookies_status .cookie_forms').css('display','inline').scrollTo();return false;},formAction:function(){var selfUrl=document.location.protocol+'//'+document.location.host+document.location.pathname;var inOneYear=new Date();inOneYear.setDate(inOneYear.getDate()+365);setCookie('cookies_consent',cookiesConsent,inOneYear,'/');$('.cookie_forms form').each(function(){$(this).find('input[name="postback"]').val(selfUrl);$(this).on('submit',function(){var cookiePreference=$(this).attr('id').split('cookies_allowed_')[1];setCookie('cookies_allowed',cookiePreference,inOneYear,'/');location.reload();return false;});});}};(function($){$.fn.cookieAllowedStatus=function(){html5=document.documentElement.getAttribute("xmlns")==null;$elt=$(this);$.ajax({url:'/?AppIdt=cookiecheck&VarIdt='+varIdt+'&cookies_allowed='+(cookiesAllowed===null?'':cookiesAllowed)+'&cookies_consent='+(cookiesConsent===null?'':cookiesConsent)+'&html5='+html5,dataType:'html',cache:true}).done(function(data){if(cookiesAllowed===null){cookiesAllowedConfig.questionAction(data,$elt);}else if($(data).hasClass('cookies_mode_message')||$(data).hasClass('cookies_mode_count')){cookiesAllowedConfig.messageAction(data,$elt);}else{cookiesAllowedConfig.changeAction(data,$elt);}cookiesAllowedConfig.formAction();$('#Cookies_status .cookies_status_change').bind("click",cookiesAllowedConfig.statusChangeAction);});};$(function(){$(cookiesAllowedConfig.elementSelector).cookieAllowedStatus();});})(jQuery);(function(){this.Uri=function(){function t(t,r){var e;this.rawUrl=t!=null?t:"";if(r==null){r={}}e=(""+this.rawUrl).match(/^(?:([^:\/?\#]+):)?(?:\/\/([^\/?\#]*))?([^?\#]*)(?:\?([^\#]*))?(?:\#(.*))?/);this.scheme=e[1]||r.scheme||null;this.authority=e[2]||r.authority||null;this.path=e[3]||r.path||null;this.query=e[4]||r.query||null;this.fragment=e[5]||r.fragment||null}t.prototype.toString=function(){var t;t=[];if(this.scheme){t.push(this.scheme+":")}if(this.authority){t.push("//"+this.authority)}if(this.path){t.push(""+this.path)}if(this.query){t.push("?"+this.query)}if(this.fragment){t.push("#"+this.fragment)}return t.join("")};t.prototype.applyMembers=function(r){var e,n;if(r==null){r={}}n=new t(this.toString(),this);for(e in n){if(typeof r[e]==="string"){n[e]=r[e]||null}}return n};t.prototype.applyUrl=function(r){var e,n,i;e=new t(r,r);if(e.scheme){return e}if(e.authority){return e.applyMembers({scheme:this.scheme})}return this.applyMembers({path:0===((n=e.path)!=null?n.indexOf("/"):void 0)?e.path:0<=((i=this.path)!=null?i.indexOf("/"):void 0)?this.path.substring(0,this.path.lastIndexOf("/"))+e.path:e.path||"",query:e.path||e.query?e.query||"":void 0,fragment:e.path||e.query||e.fragment?e.fragment||"":void 0})};return t}();this.PromiseUtils={wrap:function(t){var r;r=jQuery.Deferred();r.resolve(t);return r.promise()},map:function(t,r){var e;e=jQuery.Deferred();t.fail(e.reject);t.done(function(t){var n;n=r(t);if(n){return e.resolve(n)}else{return e.reject()}});return e.promise()},iter:function(t,r){if(r==null){r=function(){}}return PromiseUtils.map(t,function(t){r(t);return t})},when:function(t){var r,e,n,i,u;r=jQuery.Deferred();if(t!=null?t.length:void 0){u=[];for(e=0,n=t.length;e<n;e++){i=t[e];i.fail(r.reject);i.done(function(e){u.push(e);if(u.length===t.length){return r.resolve(u)}})}}else{r.resolve([])}return r.promise()},mapArray:function(t,r){return PromiseUtils.map(t,function(t){return jQuery.map(t,r)})},mapFirst:function(t,r){return PromiseUtils.map(t,function(t){if(t.length){return r(t[0])}else{return null}})},getProperty:function(t,r){return PromiseUtils.map(t,function(t){return t[r]})}}}).call(this);(function(){this.MediaWidgetProperty=function(){function e(e,i,t){this.Alias=e;this.Value=i;this.Name=t!=null?t:this.Alias}return e}();this.MediaWidget=function(){function e(e,i,t,r,a,d,n,o,l,u){this.Id=e!=null?e:null;this.Version=i!=null?i:null;this.TypeId=t!=null?t:null;this.TypeAlias=r!=null?r:null;this.Title=a!=null?a:null;this.Url=d!=null?d:null;this.SourceCode=n!=null?n:null;this.EmbedCode=o!=null?o:null;this.RewriteCode=l!=null?l:null;this.Properties=u!=null?u:[]}e.prototype.getProperty=function(e){var i,t,r,a;a=this.Properties;for(i=0,t=a.length;i<t;i++){r=a[i];if(r.Alias===e){return r.Value}}return null};e.prototype.setProperty=function(e,i){var t,r,a,d;d=this.Properties;for(t=0,r=d.length;t<r;t++){a=d[t];if(!(a.Alias===e)){continue}a.Value=i;return}this.Properties.push(new MediaWidgetProperty(e,i))};e.prototype.getPropertyAliases=function(){var e,i,t,r,a;r=this.Properties;a=[];for(e=0,i=r.length;e<i;e++){t=r[e];a.push(t.Alias)}return a};return e}();this.MediaWidgetType=function(){function e(e,i,t,r){this.Id=e!=null?e:null;this.Name=i!=null?i:null;this.Alias=t!=null?t:null;this.Hint=r!=null?r:null}return e}();this.mediaWidgetDialogSettings={lang:"nl",MwtIdt:"",update:false,sizesImplicit:false,close:function(){},ok:function(){},resize:function(){},alert:function(e,i){return $(".mediaWidgetForm .alertRow").filter(function(){return $(this).data("source")===i}).removeClass("hidden").find("p").text(e)},clearAlert:function(){return $(".mediaWidgetForm .alertRow").addClass("hidden")},invalidCode:"Invalid code",invalidUrl:"Invalid URL"};this.mediaWidgetManager={read:function(e,i,t){var r,a;if(t==null){t=false}a=i||{};a.method=e;a.AppIdt="00004600";a.xdl="MediaWidgetManager";a.xsl="MediaWidgetManager";r=jQuery.ajax({url:"/aspx/read.aspx",async:!t,data:a,dataType:"json",type:"POST"});return PromiseUtils.getProperty(r,a.method)},post:function(e,i,t){var r,a;if(t==null){t=false}r={AppIdt:"00004600",method:"retrieve",postback:"/aspx/read.aspx",xdl:"MediaWidgetManager",xsl:"MediaWidgetManager"};a=function(i,t){return r[e+"."+i]=t};if(mediaWidgetDialogSettings.update){a("$id",i.Id)}a("$action","run");a("Vrs",i.Version);a("MwtTypIdt",i.TypeId);a("Tit",i.Title);a("Url",i.Url);a("OrgTxt",i.SourceCode);a("EmbTxt",i.EmbedCode);a("RewTxt",i.RewriteCode);jQuery.each(i.getPropertyAliases(),function(e,t){return a("Prp."+t,i.getProperty(t))});return PromiseUtils.getProperty(jQuery.ajax({url:typeof iprox_post==="undefined"?"/aspx/post.aspx":iprox_post,async:!t,data:r,dataType:"json",type:"POST"}),r.method)},json2MediaWidget:function(e){var i,t;t=function(){var t,r,a,d;if(e.Properties instanceof Array){a=e.Properties;d=[];for(t=0,r=a.length;t<r;t++){i=a[t];if(i.Alias){d.push(new MediaWidgetProperty(i.Alias,i.Value,i.Name))}}return d}}();return new MediaWidget(e.Id,e.Version,e.TypeId,e.TypeAlias,e.Title,e.Url,e.SourceCode,e.EmbedCode,e.RewriteCode,t)},json2MediaWidgetType:function(e){return new MediaWidgetType(e.MwtTypIdt,e.Nam,e.Aka,e.Toe)},getTypes:function(e,i){if(i==null){i=false}return PromiseUtils.mapArray(this.read("getTypes",{lang:e},i),this.json2MediaWidgetType)},getMediaWidgetBySourceCode:function(e,i){return PromiseUtils.map(this.read("getMediaWidgetBySourceCode",{sourceCode:e,type:i}),this.json2MediaWidget)},getMediaWidgetByUrl:function(e,i){return PromiseUtils.map(this.read("getMediaWidgetByUrl",{url:e,type:i}),this.json2MediaWidget)},retrieve:function(e,i,t,r,a,d){var n;if(d==null){d=false}if(!e||!e.length){return PromiseUtils.wrap([])}n={ids:e.join(","),dynamic:i?"true":"",cookieSafe:a?"true":"",width:t,height:r};return PromiseUtils.mapArray(this.read("retrieve",n,d),this.json2MediaWidget)},store:function(e,i){if(i==null){i=false}return PromiseUtils.mapFirst(this.post("MediaWidgetStore",e),this.json2MediaWidget)},rewrite:function(e,i,t,r){var a,d;d=function(){return!$(this).data("mediawidget-done")};if(!(e instanceof Array)){a=function(e,i){if(i.id&&!i.id.indexOf("Mwt_")){return i.id.substring(4)}};e=jQuery('div.mediawidget[id^="Mwt_"]').filter(d).map(a).get()}return PromiseUtils.mapArray(mediaWidgetManager.retrieve(e,true,i,t,r),function(e){var i;(e.RewriteCode?(i=$(e.RewriteCode),$("#Mwt_"+e.Id).filter(d).attr("id","MwtEmb_"+e.Id).hide().after(i),i):$("#Mwt_"+e.Id)).data("mediawidget-done",true);if(mediaWidgetManager.postProcessors[e.TypeAlias]){mediaWidgetManager.postProcessors[e.TypeAlias](e)}return e})},postProcessors:{}};this.mediaWidgetDialog={types:[],sourceCode:"",mediaWidget:null,init:function(e){if(e){e()}return window.setTimeout(this.initOffline,0)},initOffline:function(){var e,i;jQuery(document).ajaxStart(function(){return jQuery("#OkBtn").attr("disabled",true)});jQuery(document).ajaxStop(function(){return jQuery("#OkBtn").attr("disabled",false)});i=mediaWidgetManager.getTypes(mediaWidgetDialogSettings.lang);i.done(function(e){var i;i=jQuery("#MwtTypIdt");mediaWidgetDialog.types=e;return jQuery.each(e,function(e,t){return jQuery("<option>").attr({value:t.Id}).text(t.Name).appendTo(i)})});if(mediaWidgetDialogSettings.MwtIdt){e=mediaWidgetManager.retrieve([mediaWidgetDialogSettings.MwtIdt]);jQuery.when(i,e).done(function(e,i){var t,r;r=[];for(t in i){if(i[t].Id===mediaWidgetDialogSettings.MwtIdt){r.push(mediaWidgetDialog.apply(i[t]))}else{r.push(void 0)}}return r})}jQuery("#MwtTypIdt").change(mediaWidgetDialog.typeChanged);jQuery("#Url").change(mediaWidgetDialog.urlChanged);jQuery("#OrgCod").focus(mediaWidgetDialog.enterCode);jQuery("#OrgCod").blur(mediaWidgetDialog.leaveCode);jQuery("#OkBtn").click(mediaWidgetDialog.parseCode);return jQuery("#CancelBtn").click(mediaWidgetDialogSettings.close)},setParsed:function(e,i){if(e){mediaWidgetDialogSettings.clearAlert();jQuery("#mwt_intro").hide();jQuery("#mwt_hint").hide();jQuery("#MwtTypIdt").attr("disabled",true);jQuery("#OrgCod").prop("readonly",true).closest("tr").removeClass("invalid");return jQuery("#OkBtn").unbind().click(this.save)}else{mediaWidgetDialogSettings.alert(mediaWidgetDialogSettings["invalid"+i],i);jQuery("#mwt_intro").show();jQuery("#mwt_hint").show();jQuery("#MwtTypIdt").attr("disabled",false);jQuery("#OrgCod").prop("readonly",false).closest("tr").addClass("invalid");return jQuery("#OkBtn").unbind().click(this.parseCode)}},apply:function(e,i){var t;t=function(e,i){if(i){return jQuery("#"+e).val(i)}};t("MwtTypIdt",e.TypeId);t("Tit",e.Title);t("Url",e.Url);t("OrgCod",e.SourceCode);mediaWidgetDialog.resizeCodeInput(jQuery("#OrgCod"));mediaWidgetDialog.setParsed(e.TypeId,i);jQuery(".mediaWidgetProperty").remove();jQuery.map(e.Properties,mediaWidgetDialog.addRow);mediaWidgetDialog.mediaWidget=e;mediaWidgetDialogSettings.clearAlert();if(i&&!e.TypeAlias){mediaWidgetDialogSettings.alert(mediaWidgetDialogSettings["invalid"+i],i)}return mediaWidgetDialogSettings.resize()},applyFromSource:function(e){return function(i){return mediaWidgetDialog.apply(i,e)}},addRow:function(e){var i,t,r;if(mediaWidgetDialogSettings.sizesImplicit&&(e.Alias==="width"||e.Alias==="height")){return}r=jQuery("#Tit").closest("tr");t=r.clone().removeClass("required").addClass("mediaWidgetProperty");t.data("alias",e.Alias);t.find("td:first").text(e.Name);t.find("input").val(e.Value);i=r.closest("table").find("tr.buttonrow");return t.insertBefore(i)},clear:function(e){return function(){mediaWidgetDialog.mediaWidget=null;mediaWidgetDialog.setParsed(void 0,e);jQuery(".mediaWidgetProperty").remove();return mediaWidgetDialogSettings.resize()}},save:function(){var e;mediaWidgetDialog.mediaWidget.TypeId=jQuery("#MwtTypIdt").val();mediaWidgetDialog.mediaWidget.Title=jQuery("#Tit").val();mediaWidgetDialog.mediaWidget.Url=jQuery("#Url").val();mediaWidgetDialog.mediaWidget.SourceCode=jQuery("#OrgCod").val();jQuery(".mediaWidgetProperty").each(function(){var e,i;e=jQuery(this).data("alias");i=jQuery("input",this).val();return mediaWidgetDialog.mediaWidget.setProperty(e,i)});e=mediaWidgetManager.store(mediaWidgetDialog.mediaWidget);e.done(mediaWidgetDialogSettings.ok);return e.fail(mediaWidgetDialog.clear("Code"))},typeChanged:function(e){jQuery("#mwt_hint").hide();jQuery.map(mediaWidgetDialog.types,function(i){if(i.Hint&&i.Id===jQuery(e.target).val()){return jQuery("#mwt_hint").show().find("td:first").text(i.Hint)}});return mediaWidgetDialogSettings.resize()},urlChanged:function(e){if(!jQuery("#OrgCod").val()&&jQuery("#Url").val()){return window.setTimeout(mediaWidgetDialog.parseUrl,0)}},parseUrl:function(){var e;if(jQuery("#OkBtn").attr("disabled")){return}e=mediaWidgetManager.getMediaWidgetByUrl(jQuery("#Url").val(),jQuery("#MwtTypIdt").val());e.done(mediaWidgetDialog.applyFromSource("Url"));return e.fail(mediaWidgetDialog.clear("Url"))},enterCode:function(e){return mediaWidgetDialog.sourceCode=jQuery(e.target).closest("textarea").val()},resizeCodeInput:function(e){e.height(100);return e.height},leaveCode:function(e){var i,t;i=jQuery(e.target).closest("textarea");mediaWidgetDialog.resizeCodeInput(i);t=i.val();if(t!==mediaWidgetDialog.sourceCode){return window.setTimeout(mediaWidgetDialog.parseCode,0)}},parseCode:function(){var e,i;if(jQuery("#OkBtn").attr("disabled")){return}i=jQuery("#OrgCod").val();e=mediaWidgetManager.getMediaWidgetBySourceCode(i,jQuery("#MwtTypIdt").val());e.done(mediaWidgetDialog.applyFromSource("Code"));return e.fail(mediaWidgetDialog.clear("Code"))}}}).call(this);(function(){var get,mediaWidgetDeferred,toInt;toInt=function(s){return parseInt(s,10);};get=function(dummy,div){var containerWidth,selector,widgetWidth;div=$(div);selector=window.mediaWidgetContainerSelector||"div.iprox-content";containerWidth=div.closest(selector).width();widgetWidth=div.data("width");return{id:toInt(div.attr("id").substring(4)),width:"w"+(containerWidth&&widgetWidth&&containerWidth<toInt(widgetWidth)?containerWidth:"")};};mediaWidgetDeferred=$.Deferred();this.mediaWidgetPromise=mediaWidgetDeferred.promise();$.fn.getMediaWidgets=function(){var groups,i,id,ids,len,ref,ref1,width;groups={};ref=$(this).find("div.mediawidget[id^=\"Mwt_\"]:visible").map(get).get();for(i=0,len=ref.length;i<len;i++){ref1=ref[i],id=ref1.id,width=ref1.width;(groups[width]||(groups[width]=[])).push(id);}return PromiseUtils.when((function(){var results;results=[];for(width in groups){ids=groups[width];results.push(mediaWidgetManager.rewrite(ids,(width.length>1?toInt(width.substring(1)):void 0),null,!cookiesAllowed));}return results;})());};$(function(){return $(document).getMediaWidgets().fail(mediaWidgetDeferred.reject).done(mediaWidgetDeferred.resolve);});}).call(this);