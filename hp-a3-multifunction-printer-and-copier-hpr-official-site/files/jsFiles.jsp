




 


























var swfobject=function(){var UNDEF="undefined",OBJECT="object",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",EXPRESS_INSTALL_ID="SWFObjectExprInst",ON_READY_STATE_CHANGE="onreadystatechange",win=window,doc=document,nav=navigator,plugin=false,domLoadFnArr=[main],regObjArr=[],objIdArr=[],listenersArr=[],storedAltContent,storedAltContentId,storedCallbackFn,storedCallbackObj,isDomLoaded=false,isExpressInstallActive=false,dynamicStylesheet,dynamicStylesheetMedia,autoHideShow=true,ua=function(){var w3cdom=typeof doc.getElementById!=UNDEF&&typeof doc.getElementsByTagName!=UNDEF&&typeof doc.createElement!=UNDEF,u=nav.userAgent.toLowerCase(),p=nav.platform.toLowerCase(),windows=p?/win/.test(p):/win/.test(u),mac=p?/mac/.test(p):/mac/.test(u),webkit=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ie=!+"\v1",playerVersion=[0,0,0],d=null;if(typeof nav.plugins!=UNDEF&&typeof nav.plugins[SHOCKWAVE_FLASH]==OBJECT){d=nav.plugins[SHOCKWAVE_FLASH].description;if(d&&!(typeof nav.mimeTypes!=UNDEF&&nav.mimeTypes[FLASH_MIME_TYPE]&&!nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)){plugin=true;ie=false;d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");playerVersion[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);playerVersion[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);playerVersion[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}
else if(typeof win.ActiveXObject!=UNDEF){try{var a=new ActiveXObject(SHOCKWAVE_FLASH_AX);if(a){d=a.GetVariable("$version");if(d){ie=true;d=d.split(" ")[1].split(",");playerVersion=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}}
catch(e){}}
return{w3:w3cdom,pv:playerVersion,wk:webkit,ie:ie,win:windows,mac:mac};}(),onDomLoad=function(){if(!ua.w3){return;}
if((typeof doc.readyState!=UNDEF&&doc.readyState=="complete")||(typeof doc.readyState==UNDEF&&(doc.getElementsByTagName("body")[0]||doc.body))){callDomLoadFunctions();}
if(!isDomLoaded){if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("DOMContentLoaded",callDomLoadFunctions,false);}
if(ua.ie&&ua.win){doc.attachEvent(ON_READY_STATE_CHANGE,function(){if(doc.readyState=="complete"){doc.detachEvent(ON_READY_STATE_CHANGE,arguments.callee);callDomLoadFunctions();}});if(win==top){(function(){if(isDomLoaded){return;}
try{doc.documentElement.doScroll("left");}
catch(e){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}}
if(ua.wk){(function(){if(isDomLoaded){return;}
if(!/loaded|complete/.test(doc.readyState)){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}
addLoadEvent(callDomLoadFunctions);}}();function callDomLoadFunctions(){if(isDomLoaded){return;}
try{var t=doc.getElementsByTagName("body")[0].appendChild(createElement("span"));t.parentNode.removeChild(t);}
catch(e){return;}
isDomLoaded=true;var dl=domLoadFnArr.length;for(var i=0;i<dl;i++){domLoadFnArr[i]();}}
function addDomLoadEvent(fn){if(isDomLoaded){fn();}
else{domLoadFnArr[domLoadFnArr.length]=fn;}}
function addLoadEvent(fn){if(typeof win.addEventListener!=UNDEF){win.addEventListener("load",fn,false);}
else if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("load",fn,false);}
else if(typeof win.attachEvent!=UNDEF){addListener(win,"onload",fn);}
else if(typeof win.onload=="function"){var fnOld=win.onload;win.onload=function(){fnOld();fn();};}
else{win.onload=fn;}}
function main(){if(plugin){testPlayerVersion();}
else{matchVersions();}}
function testPlayerVersion(){var b=doc.getElementsByTagName("body")[0];var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);var t=b.appendChild(o);if(t){var counter=0;(function(){if(typeof t.GetVariable!=UNDEF){var d=t.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");ua.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}
else if(counter<10){counter++;setTimeout(arguments.callee,10);return;}
b.removeChild(o);t=null;matchVersions();})();}
else{matchVersions();}}
function matchVersions(){var rl=regObjArr.length;if(rl>0){for(var i=0;i<rl;i++){var id=regObjArr[i].id;var cb=regObjArr[i].callbackFn;var cbObj={success:false,id:id};if(ua.pv[0]>0){var obj=getElementById(id);if(obj){if(hasPlayerVersion(regObjArr[i].swfVersion)&&!(ua.wk&&ua.wk<312)){setVisibility(id,true);if(cb){cbObj.success=true;cbObj.ref=getObjectById(id);cb(cbObj);}}
else if(regObjArr[i].expressInstall&&canExpressInstall()){var att={};att.data=regObjArr[i].expressInstall;att.width=obj.getAttribute("width")||"0";att.height=obj.getAttribute("height")||"0";if(obj.getAttribute("class")){att.styleclass=obj.getAttribute("class");}
if(obj.getAttribute("align")){att.align=obj.getAttribute("align");}
var par={};var p=obj.getElementsByTagName("param");var pl=p.length;for(var j=0;j<pl;j++){if(p[j].getAttribute("name").toLowerCase()!="movie"){par[p[j].getAttribute("name")]=p[j].getAttribute("value");}}
showExpressInstall(att,par,id,cb);}
else{displayAltContent(obj);if(cb){cb(cbObj);}}}}
else{setVisibility(id,true);if(cb){var o=getObjectById(id);if(o&&typeof o.SetVariable!=UNDEF){cbObj.success=true;cbObj.ref=o;}
cb(cbObj);}}}}}
function getObjectById(objectIdStr){var r=null;var o=getElementById(objectIdStr);if(o&&o.nodeName=="OBJECT"){if(typeof o.SetVariable!=UNDEF){r=o;}
else{var n=o.getElementsByTagName(OBJECT)[0];if(n){r=n;}}}
return r;}
function canExpressInstall(){return!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)&&!(ua.wk&&ua.wk<312);}
function showExpressInstall(att,par,replaceElemIdStr,callbackFn){isExpressInstallActive=true;storedCallbackFn=callbackFn||null;storedCallbackObj={success:false,id:replaceElemIdStr};var obj=getElementById(replaceElemIdStr);if(obj){if(obj.nodeName=="OBJECT"){storedAltContent=abstractAltContent(obj);storedAltContentId=null;}
else{storedAltContent=obj;storedAltContentId=replaceElemIdStr;}
att.id=EXPRESS_INSTALL_ID;if(typeof att.width==UNDEF||(!/%$/.test(att.width)&&parseInt(att.width,10)<310)){att.width="310";}
if(typeof att.height==UNDEF||(!/%$/.test(att.height)&&parseInt(att.height,10)<137)){att.height="137";}
doc.title=doc.title.slice(0,47)+" - Flash Player Installation";var pt=ua.ie&&ua.win?"ActiveX":"PlugIn",fv="MMredirectURL="+win.location.toString().replace(/&/g,"%26")+"&MMplayerType="+pt+"&MMdoctitle="+doc.title;if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+fv;}
else{par.flashvars=fv;}
if(ua.ie&&ua.win&&obj.readyState!=4){var newObj=createElement("div");replaceElemIdStr+="SWFObjectNew";newObj.setAttribute("id",replaceElemIdStr);obj.parentNode.insertBefore(newObj,obj);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
createSWF(att,par,replaceElemIdStr);}}
function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}
function abstractAltContent(obj){var ac=createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}
else{var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var c=nestedObj.childNodes;if(c){var cl=c.length;for(var i=0;i<cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName=="PARAM")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}
return ac;}
function createSWF(attObj,parObj,id){var r,el=getElementById(id);if(ua.wk&&ua.wk<312){return r;}
if(el){if(typeof attObj.id==UNDEF){attObj.id=id;}
if(ua.ie&&ua.win){var att="";for(var i in attObj){if(attObj[i]!=Object.prototype[i]){if(i.toLowerCase()=="data"){parObj.movie=attObj[i];}
else if(i.toLowerCase()=="styleclass"){att+=' class="'+attObj[i]+'"';}
else if(i.toLowerCase()!="classid"){att+=' '+i+'="'+attObj[i]+'"';}}}
var par="";for(var j in parObj){if(parObj[j]!=Object.prototype[j]){par+='<param name="'+j+'" value="'+parObj[j]+'" />';}}
el.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+att+'>'+par+'</object>';objIdArr[objIdArr.length]=attObj.id;r=getElementById(attObj.id);}
else{var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);for(var m in attObj){if(attObj[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",attObj[m]);}
else if(m.toLowerCase()!="classid"){o.setAttribute(m,attObj[m]);}}}
for(var n in parObj){if(parObj[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){createObjParam(o,n,parObj[n]);}}
el.parentNode.replaceChild(o,el);r=o;}}
return r;}
function createObjParam(el,pName,pValue){var p=createElement("param");p.setAttribute("name",pName);p.setAttribute("value",pValue);el.appendChild(p);}
function removeSWF(id){var obj=getElementById(id);if(obj&&obj.nodeName=="OBJECT"){if(ua.ie&&ua.win){obj.style.display="none";(function(){if(obj.readyState==4){removeObjectInIE(id);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.removeChild(obj);}}}
function removeObjectInIE(id){var obj=getElementById(id);if(obj){for(var i in obj){if(typeof obj[i]=="function"){obj[i]=null;}}
obj.parentNode.removeChild(obj);}}
function getElementById(id){var el=null;try{el=doc.getElementById(id);}
catch(e){}
return el;}
function createElement(el){return doc.createElement(el);}
function addListener(target,eventType,fn){target.attachEvent(eventType,fn);listenersArr[listenersArr.length]=[target,eventType,fn];}
function hasPlayerVersion(rv){var pv=ua.pv,v=rv.split(".");v[0]=parseInt(v[0],10);v[1]=parseInt(v[1],10)||0;v[2]=parseInt(v[2],10)||0;return(pv[0]>v[0]||(pv[0]==v[0]&&pv[1]>v[1])||(pv[0]==v[0]&&pv[1]==v[1]&&pv[2]>=v[2]))?true:false;}
function createCSS(sel,decl,media,newStyle){if(ua.ie&&ua.mac){return;}
var h=doc.getElementsByTagName("head")[0];if(!h){return;}
var m=(media&&typeof media=="string")?media:"screen";if(newStyle){dynamicStylesheet=null;dynamicStylesheetMedia=null;}
if(!dynamicStylesheet||dynamicStylesheetMedia!=m){var s=createElement("style");s.setAttribute("type","text/css");s.setAttribute("media",m);dynamicStylesheet=h.appendChild(s);if(ua.ie&&ua.win&&typeof doc.styleSheets!=UNDEF&&doc.styleSheets.length>0){dynamicStylesheet=doc.styleSheets[doc.styleSheets.length-1];}
dynamicStylesheetMedia=m;}
if(ua.ie&&ua.win){if(dynamicStylesheet&&typeof dynamicStylesheet.addRule==OBJECT){dynamicStylesheet.addRule(sel,decl);}}
else{if(dynamicStylesheet&&typeof doc.createTextNode!=UNDEF){dynamicStylesheet.appendChild(doc.createTextNode(sel+" {"+decl+"}"));}}}
function setVisibility(id,isVisible){if(!autoHideShow){return;}
var v=isVisible?"visible":"hidden";if(isDomLoaded&&getElementById(id)){getElementById(id).style.visibility=v;}
else{createCSS("#"+id,"visibility:"+v);}}
function urlEncodeIfNecessary(s){var regex=/[\\\"<>\.;]/;var hasBadChars=regex.exec(s)!=null;return hasBadChars&&typeof encodeURIComponent!=UNDEF?encodeURIComponent(s):s;}
var cleanup=function(){if(ua.ie&&ua.win){window.attachEvent("onunload",function(){var ll=listenersArr.length;for(var i=0;i<ll;i++){listenersArr[i][0].detachEvent(listenersArr[i][1],listenersArr[i][2]);}
var il=objIdArr.length;for(var j=0;j<il;j++){removeSWF(objIdArr[j]);}
for(var k in ua){ua[k]=null;}
ua=null;for(var l in swfobject){swfobject[l]=null;}
swfobject=null;});}}();return{registerObject:function(objectIdStr,swfVersionStr,xiSwfUrlStr,callbackFn){if(ua.w3&&objectIdStr&&swfVersionStr){var regObj={};regObj.id=objectIdStr;regObj.swfVersion=swfVersionStr;regObj.expressInstall=xiSwfUrlStr;regObj.callbackFn=callbackFn;regObjArr[regObjArr.length]=regObj;setVisibility(objectIdStr,false);}
else if(callbackFn){callbackFn({success:false,id:objectIdStr});}},getObjectById:function(objectIdStr){if(ua.w3){return getObjectById(objectIdStr);}},embedSWF:function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj,callbackFn){var callbackObj={success:false,id:replaceElemIdStr};if(ua.w3&&!(ua.wk&&ua.wk<312)&&swfUrlStr&&replaceElemIdStr&&widthStr&&heightStr&&swfVersionStr){setVisibility(replaceElemIdStr,false);addDomLoadEvent(function(){widthStr+="";heightStr+="";var att={};if(attObj&&typeof attObj===OBJECT){for(var i in attObj){att[i]=attObj[i];}}
att.data=swfUrlStr;att.width=widthStr;att.height=heightStr;var par={};if(parObj&&typeof parObj===OBJECT){for(var j in parObj){par[j]=parObj[j];}}
if(flashvarsObj&&typeof flashvarsObj===OBJECT){for(var k in flashvarsObj){if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+k+"="+flashvarsObj[k];}
else{par.flashvars=k+"="+flashvarsObj[k];}}}
if(hasPlayerVersion(swfVersionStr)){var obj=createSWF(att,par,replaceElemIdStr);if(att.id==replaceElemIdStr){setVisibility(replaceElemIdStr,true);}
callbackObj.success=true;callbackObj.ref=obj;}
else if(xiSwfUrlStr&&canExpressInstall()){att.data=xiSwfUrlStr;showExpressInstall(att,par,replaceElemIdStr,callbackFn);return;}
else{setVisibility(replaceElemIdStr,true);}
if(callbackFn){callbackFn(callbackObj);}});}
else if(callbackFn){callbackFn(callbackObj);}},switchOffAutoHideShow:function(){autoHideShow=false;},ua:ua,getFlashPlayerVersion:function(){return{major:ua.pv[0],minor:ua.pv[1],release:ua.pv[2]};},hasFlashPlayerVersion:hasPlayerVersion,createSWF:function(attObj,parObj,replaceElemIdStr){if(ua.w3){return createSWF(attObj,parObj,replaceElemIdStr);}
else{return undefined;}},showExpressInstall:function(att,par,replaceElemIdStr,callbackFn){if(ua.w3&&canExpressInstall()){showExpressInstall(att,par,replaceElemIdStr,callbackFn);}},removeSWF:function(objElemIdStr){if(ua.w3){removeSWF(objElemIdStr);}},createCSS:function(selStr,declStr,mediaStr,newStyleBoolean){if(ua.w3){createCSS(selStr,declStr,mediaStr,newStyleBoolean);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(param){var q=doc.location.search||doc.location.hash;if(q){if(/\?/.test(q)){q=q.split("?")[1];}
if(param==null){return urlEncodeIfNecessary(q);}
var pairs=q.split("&");for(var i=0;i<pairs.length;i++){if(pairs[i].substring(0,pairs[i].indexOf("="))==param){return urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf("=")+1)));}}}
return"";},expressInstallCallback:function(){if(isExpressInstallActive){var obj=getElementById(EXPRESS_INSTALL_ID);if(obj&&storedAltContent){obj.parentNode.replaceChild(storedAltContent,obj);if(storedAltContentId){setVisibility(storedAltContentId,true);if(ua.ie&&ua.win){storedAltContent.style.display="block";}}
if(storedCallbackFn){storedCallbackFn(storedCallbackObj);}}
isExpressInstallActive=false;}}};}();
function forceDropVideoAutoStart(container){var params=document.querySelectorAll(".js-brightcove-player param[name='autoStart']");for(var i=0;i<params.length;i++){params[i].setAttribute("value","false");}
params=document.querySelectorAll(".youtube-video-template");for(var i=0;i<params.length;i++){params[i].setAttribute("data-autoplay",0);}};(function(window,undefined){'$:nomunge';var $=window.jQuery||window.Cowboy||(window.Cowboy={}),jq_throttle;$.throttle=jq_throttle=function(delay,no_trailing,callback,debounce_mode){var timeout_id,last_exec=0;if(typeof no_trailing!=='boolean'){debounce_mode=callback;callback=no_trailing;no_trailing=undefined;}
function wrapper(){var that=this,elapsed=+new Date()-last_exec,args=arguments;function exec(){last_exec=+new Date();callback.apply(that,args);};function clear(){timeout_id=undefined;};if(debounce_mode&&!timeout_id){exec();}
timeout_id&&clearTimeout(timeout_id);if(debounce_mode===undefined&&elapsed>delay){exec();}else if(no_trailing!==true){timeout_id=setTimeout(debounce_mode?clear:exec,debounce_mode===undefined?delay-elapsed:delay);}};if($.guid){wrapper.guid=callback.guid=callback.guid||$.guid++;}
return wrapper;};$.debounce=function(delay,at_begin,callback){return callback===undefined?jq_throttle(delay,at_begin,false):jq_throttle(delay,callback,at_begin!==false);};})(this);(function(){var D=new Date('2011-06-02T09:34:29+02:00');if(!D||+D!==1307000069000){Date.fromISO=function(s){var day,tz,rx=/^(\d{4}\-\d\d\-\d\d([tT ][\d:\.]*)?)([zZ]|([+\-])(\d\d):(\d\d))?$/,p=rx.exec(s)||[];if(p[1]){day=p[1].split(/\D/);for(var i=0,L=day.length;i<L;i++){day[i]=parseInt(day[i],10)||0;};day[1]-=1;day=new Date(Date.UTC.apply(Date,day));if(!day.getDate())return NaN;if(p[5]){tz=(parseInt(p[5],10)*60);if(p[6])tz+=parseInt(p[6],10);if(p[4]=='+')tz*=-1;if(tz)day.setUTCMinutes(day.getUTCMinutes()+tz);}
return day;}
return NaN;}}
else{Date.fromISO=function(s){return new Date(s);}}})()
var swfobject=function(){var UNDEF="undefined",OBJECT="object",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",EXPRESS_INSTALL_ID="SWFObjectExprInst",ON_READY_STATE_CHANGE="onreadystatechange",win=window,doc=document,nav=navigator,plugin=false,domLoadFnArr=[main],regObjArr=[],objIdArr=[],listenersArr=[],storedAltContent,storedAltContentId,storedCallbackFn,storedCallbackObj,isDomLoaded=false,isExpressInstallActive=false,dynamicStylesheet,dynamicStylesheetMedia,autoHideShow=true,ua=function(){var w3cdom=typeof doc.getElementById!=UNDEF&&typeof doc.getElementsByTagName!=UNDEF&&typeof doc.createElement!=UNDEF,u=nav.userAgent.toLowerCase(),p=nav.platform.toLowerCase(),windows=p?/win/.test(p):/win/.test(u),mac=p?/mac/.test(p):/mac/.test(u),webkit=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ie=!+"\v1",playerVersion=[0,0,0],d=null;if(typeof nav.plugins!=UNDEF&&typeof nav.plugins[SHOCKWAVE_FLASH]==OBJECT){d=nav.plugins[SHOCKWAVE_FLASH].description;if(d&&!(typeof nav.mimeTypes!=UNDEF&&nav.mimeTypes[FLASH_MIME_TYPE]&&!nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)){plugin=true;ie=false;d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");playerVersion[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);playerVersion[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);playerVersion[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}
else if(typeof win.ActiveXObject!=UNDEF){try{var a=new ActiveXObject(SHOCKWAVE_FLASH_AX);if(a){d=a.GetVariable("$version");if(d){ie=true;d=d.split(" ")[1].split(",");playerVersion=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}}
catch(e){}}
return{w3:w3cdom,pv:playerVersion,wk:webkit,ie:ie,win:windows,mac:mac};}(),onDomLoad=function(){if(!ua.w3){return;}
if((typeof doc.readyState!=UNDEF&&doc.readyState=="complete")||(typeof doc.readyState==UNDEF&&(doc.getElementsByTagName("body")[0]||doc.body))){callDomLoadFunctions();}
if(!isDomLoaded){if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("DOMContentLoaded",callDomLoadFunctions,false);}
if(ua.ie&&ua.win){doc.attachEvent(ON_READY_STATE_CHANGE,function(){if(doc.readyState=="complete"){doc.detachEvent(ON_READY_STATE_CHANGE,arguments.callee);callDomLoadFunctions();}});if(win==top){(function(){if(isDomLoaded){return;}
try{doc.documentElement.doScroll("left");}
catch(e){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}}
if(ua.wk){(function(){if(isDomLoaded){return;}
if(!/loaded|complete/.test(doc.readyState)){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}
addLoadEvent(callDomLoadFunctions);}}();function callDomLoadFunctions(){if(isDomLoaded){return;}
try{var t=doc.getElementsByTagName("body")[0].appendChild(createElement("span"));t.parentNode.removeChild(t);}
catch(e){return;}
isDomLoaded=true;var dl=domLoadFnArr.length;for(var i=0;i<dl;i++){domLoadFnArr[i]();}}
function addDomLoadEvent(fn){if(isDomLoaded){fn();}
else{domLoadFnArr[domLoadFnArr.length]=fn;}}
function addLoadEvent(fn){if(typeof win.addEventListener!=UNDEF){win.addEventListener("load",fn,false);}
else if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("load",fn,false);}
else if(typeof win.attachEvent!=UNDEF){addListener(win,"onload",fn);}
else if(typeof win.onload=="function"){var fnOld=win.onload;win.onload=function(){fnOld();fn();};}
else{win.onload=fn;}}
function main(){if(plugin){testPlayerVersion();}
else{matchVersions();}}
function testPlayerVersion(){var b=doc.getElementsByTagName("body")[0];var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);var t=b.appendChild(o);if(t){var counter=0;(function(){if(typeof t.GetVariable!=UNDEF){var d=t.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");ua.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}
else if(counter<10){counter++;setTimeout(arguments.callee,10);return;}
b.removeChild(o);t=null;matchVersions();})();}
else{matchVersions();}}
function matchVersions(){var rl=regObjArr.length;if(rl>0){for(var i=0;i<rl;i++){var id=regObjArr[i].id;var cb=regObjArr[i].callbackFn;var cbObj={success:false,id:id};if(ua.pv[0]>0){var obj=getElementById(id);if(obj){if(hasPlayerVersion(regObjArr[i].swfVersion)&&!(ua.wk&&ua.wk<312)){setVisibility(id,true);if(cb){cbObj.success=true;cbObj.ref=getObjectById(id);cb(cbObj);}}
else if(regObjArr[i].expressInstall&&canExpressInstall()){var att={};att.data=regObjArr[i].expressInstall;att.width=obj.getAttribute("width")||"0";att.height=obj.getAttribute("height")||"0";if(obj.getAttribute("class")){att.styleclass=obj.getAttribute("class");}
if(obj.getAttribute("align")){att.align=obj.getAttribute("align");}
var par={};var p=obj.getElementsByTagName("param");var pl=p.length;for(var j=0;j<pl;j++){if(p[j].getAttribute("name").toLowerCase()!="movie"){par[p[j].getAttribute("name")]=p[j].getAttribute("value");}}
showExpressInstall(att,par,id,cb);}
else{displayAltContent(obj);if(cb){cb(cbObj);}}}}
else{setVisibility(id,true);if(cb){var o=getObjectById(id);if(o&&typeof o.SetVariable!=UNDEF){cbObj.success=true;cbObj.ref=o;}
cb(cbObj);}}}}}
function getObjectById(objectIdStr){var r=null;var o=getElementById(objectIdStr);if(o&&o.nodeName=="OBJECT"){if(typeof o.SetVariable!=UNDEF){r=o;}
else{var n=o.getElementsByTagName(OBJECT)[0];if(n){r=n;}}}
return r;}
function canExpressInstall(){return!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)&&!(ua.wk&&ua.wk<312);}
function showExpressInstall(att,par,replaceElemIdStr,callbackFn){isExpressInstallActive=true;storedCallbackFn=callbackFn||null;storedCallbackObj={success:false,id:replaceElemIdStr};var obj=getElementById(replaceElemIdStr);if(obj){if(obj.nodeName=="OBJECT"){storedAltContent=abstractAltContent(obj);storedAltContentId=null;}
else{storedAltContent=obj;storedAltContentId=replaceElemIdStr;}
att.id=EXPRESS_INSTALL_ID;if(typeof att.width==UNDEF||(!/%$/.test(att.width)&&parseInt(att.width,10)<310)){att.width="310";}
if(typeof att.height==UNDEF||(!/%$/.test(att.height)&&parseInt(att.height,10)<137)){att.height="137";}
doc.title=doc.title.slice(0,47)+" - Flash Player Installation";var pt=ua.ie&&ua.win?"ActiveX":"PlugIn",fv="MMredirectURL="+win.location.toString().replace(/&/g,"%26")+"&MMplayerType="+pt+"&MMdoctitle="+doc.title;if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+fv;}
else{par.flashvars=fv;}
if(ua.ie&&ua.win&&obj.readyState!=4){var newObj=createElement("div");replaceElemIdStr+="SWFObjectNew";newObj.setAttribute("id",replaceElemIdStr);obj.parentNode.insertBefore(newObj,obj);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
createSWF(att,par,replaceElemIdStr);}}
function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}
function abstractAltContent(obj){var ac=createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}
else{var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var c=nestedObj.childNodes;if(c){var cl=c.length;for(var i=0;i<cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName=="PARAM")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}
return ac;}
function createSWF(attObj,parObj,id){var r,el=getElementById(id);if(ua.wk&&ua.wk<312){return r;}
if(el){if(typeof attObj.id==UNDEF){attObj.id=id;}
if(ua.ie&&ua.win){var att="";for(var i in attObj){if(attObj[i]!=Object.prototype[i]){if(i.toLowerCase()=="data"){parObj.movie=attObj[i];}
else if(i.toLowerCase()=="styleclass"){att+=' class="'+attObj[i]+'"';}
else if(i.toLowerCase()!="classid"){att+=' '+i+'="'+attObj[i]+'"';}}}
var par="";for(var j in parObj){if(parObj[j]!=Object.prototype[j]){par+='<param name="'+j+'" value="'+parObj[j]+'" />';}}
el.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+att+'>'+par+'</object>';objIdArr[objIdArr.length]=attObj.id;r=getElementById(attObj.id);}
else{var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);for(var m in attObj){if(attObj[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",attObj[m]);}
else if(m.toLowerCase()!="classid"){o.setAttribute(m,attObj[m]);}}}
for(var n in parObj){if(parObj[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){createObjParam(o,n,parObj[n]);}}
el.parentNode.replaceChild(o,el);r=o;}}
return r;}
function createObjParam(el,pName,pValue){var p=createElement("param");p.setAttribute("name",pName);p.setAttribute("value",pValue);el.appendChild(p);}
function removeSWF(id){var obj=getElementById(id);if(obj&&obj.nodeName=="OBJECT"){if(ua.ie&&ua.win){obj.style.display="none";(function(){if(obj.readyState==4){removeObjectInIE(id);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.removeChild(obj);}}}
function removeObjectInIE(id){var obj=getElementById(id);if(obj){for(var i in obj){if(typeof obj[i]=="function"){obj[i]=null;}}
obj.parentNode.removeChild(obj);}}
function getElementById(id){var el=null;try{el=doc.getElementById(id);}
catch(e){}
return el;}
function createElement(el){return doc.createElement(el);}
function addListener(target,eventType,fn){target.attachEvent(eventType,fn);listenersArr[listenersArr.length]=[target,eventType,fn];}
function hasPlayerVersion(rv){var pv=ua.pv,v=rv.split(".");v[0]=parseInt(v[0],10);v[1]=parseInt(v[1],10)||0;v[2]=parseInt(v[2],10)||0;return(pv[0]>v[0]||(pv[0]==v[0]&&pv[1]>v[1])||(pv[0]==v[0]&&pv[1]==v[1]&&pv[2]>=v[2]))?true:false;}
function createCSS(sel,decl,media,newStyle){if(ua.ie&&ua.mac){return;}
var h=doc.getElementsByTagName("head")[0];if(!h){return;}
var m=(media&&typeof media=="string")?media:"screen";if(newStyle){dynamicStylesheet=null;dynamicStylesheetMedia=null;}
if(!dynamicStylesheet||dynamicStylesheetMedia!=m){var s=createElement("style");s.setAttribute("type","text/css");s.setAttribute("media",m);dynamicStylesheet=h.appendChild(s);if(ua.ie&&ua.win&&typeof doc.styleSheets!=UNDEF&&doc.styleSheets.length>0){dynamicStylesheet=doc.styleSheets[doc.styleSheets.length-1];}
dynamicStylesheetMedia=m;}
if(ua.ie&&ua.win){if(dynamicStylesheet&&typeof dynamicStylesheet.addRule==OBJECT){dynamicStylesheet.addRule(sel,decl);}}
else{if(dynamicStylesheet&&typeof doc.createTextNode!=UNDEF){dynamicStylesheet.appendChild(doc.createTextNode(sel+" {"+decl+"}"));}}}
function setVisibility(id,isVisible){if(!autoHideShow){return;}
var v=isVisible?"visible":"hidden";if(isDomLoaded&&getElementById(id)){getElementById(id).style.visibility=v;}
else{createCSS("#"+id,"visibility:"+v);}}
function urlEncodeIfNecessary(s){var regex=/[\\\"<>\.;]/;var hasBadChars=regex.exec(s)!=null;return hasBadChars&&typeof encodeURIComponent!=UNDEF?encodeURIComponent(s):s;}
var cleanup=function(){if(ua.ie&&ua.win){window.attachEvent("onunload",function(){var ll=listenersArr.length;for(var i=0;i<ll;i++){listenersArr[i][0].detachEvent(listenersArr[i][1],listenersArr[i][2]);}
var il=objIdArr.length;for(var j=0;j<il;j++){removeSWF(objIdArr[j]);}
for(var k in ua){ua[k]=null;}
ua=null;for(var l in swfobject){swfobject[l]=null;}
swfobject=null;});}}();return{registerObject:function(objectIdStr,swfVersionStr,xiSwfUrlStr,callbackFn){if(ua.w3&&objectIdStr&&swfVersionStr){var regObj={};regObj.id=objectIdStr;regObj.swfVersion=swfVersionStr;regObj.expressInstall=xiSwfUrlStr;regObj.callbackFn=callbackFn;regObjArr[regObjArr.length]=regObj;setVisibility(objectIdStr,false);}
else if(callbackFn){callbackFn({success:false,id:objectIdStr});}},getObjectById:function(objectIdStr){if(ua.w3){return getObjectById(objectIdStr);}},embedSWF:function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj,callbackFn){var callbackObj={success:false,id:replaceElemIdStr};if(ua.w3&&!(ua.wk&&ua.wk<312)&&swfUrlStr&&replaceElemIdStr&&widthStr&&heightStr&&swfVersionStr){setVisibility(replaceElemIdStr,false);addDomLoadEvent(function(){widthStr+="";heightStr+="";var att={};if(attObj&&typeof attObj===OBJECT){for(var i in attObj){att[i]=attObj[i];}}
att.data=swfUrlStr;att.width=widthStr;att.height=heightStr;var par={};if(parObj&&typeof parObj===OBJECT){for(var j in parObj){par[j]=parObj[j];}}
if(flashvarsObj&&typeof flashvarsObj===OBJECT){for(var k in flashvarsObj){if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+k+"="+flashvarsObj[k];}
else{par.flashvars=k+"="+flashvarsObj[k];}}}
if(hasPlayerVersion(swfVersionStr)){var obj=createSWF(att,par,replaceElemIdStr);if(att.id==replaceElemIdStr){setVisibility(replaceElemIdStr,true);}
callbackObj.success=true;callbackObj.ref=obj;}
else if(xiSwfUrlStr&&canExpressInstall()){att.data=xiSwfUrlStr;showExpressInstall(att,par,replaceElemIdStr,callbackFn);return;}
else{setVisibility(replaceElemIdStr,true);}
if(callbackFn){callbackFn(callbackObj);}});}
else if(callbackFn){callbackFn(callbackObj);}},switchOffAutoHideShow:function(){autoHideShow=false;},ua:ua,getFlashPlayerVersion:function(){return{major:ua.pv[0],minor:ua.pv[1],release:ua.pv[2]};},hasFlashPlayerVersion:hasPlayerVersion,createSWF:function(attObj,parObj,replaceElemIdStr){if(ua.w3){return createSWF(attObj,parObj,replaceElemIdStr);}
else{return undefined;}},showExpressInstall:function(att,par,replaceElemIdStr,callbackFn){if(ua.w3&&canExpressInstall()){showExpressInstall(att,par,replaceElemIdStr,callbackFn);}},removeSWF:function(objElemIdStr){if(ua.w3){removeSWF(objElemIdStr);}},createCSS:function(selStr,declStr,mediaStr,newStyleBoolean){if(ua.w3){createCSS(selStr,declStr,mediaStr,newStyleBoolean);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(param){var q=doc.location.search||doc.location.hash;if(q){if(/\?/.test(q)){q=q.split("?")[1];}
if(param==null){return urlEncodeIfNecessary(q);}
var pairs=q.split("&");for(var i=0;i<pairs.length;i++){if(pairs[i].substring(0,pairs[i].indexOf("="))==param){return urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf("=")+1)));}}}
return"";},expressInstallCallback:function(){if(isExpressInstallActive){var obj=getElementById(EXPRESS_INSTALL_ID);if(obj&&storedAltContent){obj.parentNode.replaceChild(storedAltContent,obj);if(storedAltContentId){setVisibility(storedAltContentId,true);if(ua.ie&&ua.win){storedAltContent.style.display="block";}}
if(storedCallbackFn){storedCallbackFn(storedCallbackObj);}}
isExpressInstallActive=false;}}};}();(function(HP){HP.pageConfig=new(function(){var data={};return{has:function(key){return Object.prototype.hasOwnProperty.call(data,key);},set:function(key,value){if(value===undefined||value===data[key])
return false;if(this.has(key)&&typeof this.get(key)==="object"&&typeof value==="object"){for(var prop in value){data[key][prop]=value[prop];}}
else{data[key]=value;}
return data[key];},get:function(key){return data[key];},drop:function(key){var key=key||null;if(key===null){delete data;data={};}
else if(this.has(key)){delete data[key];}}}})();})(window.HP||(window.HP={}));!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=y+l-f,h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();!function(){"use strict";function t(s){this.options=e.extend({},i.defaults,t.defaults,s),this.element=this.options.element,this.$element=e(this.element),this.createWrapper(),this.createWaypoint()}var e=window.jQuery,i=window.Waypoint;t.prototype.createWaypoint=function(){var t=this.options.handler;this.waypoint=new i(e.extend({},this.options,{element:this.wrapper,handler:e.proxy(function(e){var i=this.options.direction.indexOf(e)>-1,s=i?this.$element.outerHeight(!0):"";this.$wrapper.height(s),this.$element.toggleClass(this.options.stuckClass,i),t&&t.call(this,e)},this)}))},t.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},t.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},t.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},i.Sticky=t}();;(function(window,document){var version='3.7.0';var options=window.html5||{};var reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var supportsHtml5Styles;var expando='_html5shiv';var expanID=0;var expandoData={};var supportsUnknownElements;(function(){try{var a=document.createElement('a');a.innerHTML='<xyz></xyz>';supportsHtml5Styles=('hidden'in a);supportsUnknownElements=a.childNodes.length==1||(function(){(document.createElement)('a');var frag=document.createDocumentFragment();return(typeof frag.cloneNode=='undefined'||typeof frag.createDocumentFragment=='undefined'||typeof frag.createElement=='undefined');}());}catch(e){supportsHtml5Styles=true;supportsUnknownElements=true;}}());function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement('p'),parent=ownerDocument.getElementsByTagName('head')[0]||ownerDocument.documentElement;p.innerHTML='x<style>'+cssText+'</style>';return parent.insertBefore(p.lastChild,parent.firstChild);}
function getElements(){var elements=html5.elements;return typeof elements=='string'?elements.split(' '):elements;}
function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];if(!data){data={};expanID++;ownerDocument[expando]=expanID;expandoData[expanID]=data;}
return data;}
function createElement(nodeName,ownerDocument,data){if(!ownerDocument){ownerDocument=document;}
if(supportsUnknownElements){return ownerDocument.createElement(nodeName);}
if(!data){data=getExpandoData(ownerDocument);}
var node;if(data.cache[nodeName]){node=data.cache[nodeName].cloneNode();}else if(saveClones.test(nodeName)){node=(data.cache[nodeName]=data.createElem(nodeName)).cloneNode();}else{node=data.createElem(nodeName);}
return node.canHaveChildren&&!reSkip.test(nodeName)?data.frag.appendChild(node):node;}
function createDocumentFragment(ownerDocument,data){if(!ownerDocument){ownerDocument=document;}
if(supportsUnknownElements){return ownerDocument.createDocumentFragment();}
data=data||getExpandoData(ownerDocument);var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;for(;i<l;i++){clone.createElement(elems[i]);}
return clone;}
function shivMethods(ownerDocument,data){if(!data.cache){data.cache={};data.createElem=ownerDocument.createElement;data.createFrag=ownerDocument.createDocumentFragment;data.frag=data.createFrag();}
ownerDocument.createElement=function(nodeName){if(!html5.shivMethods){return data.createElem(nodeName);}
return createElement(nodeName,ownerDocument,data);};ownerDocument.createDocumentFragment=Function('h,f','return function(){'+'var n=f.cloneNode(),c=n.createElement;'+'h.shivMethods&&('+
getElements().join().replace(/[\w\-]+/g,function(nodeName){data.createElem(nodeName);data.frag.createElement(nodeName);return'c("'+nodeName+'")';})+');return n}')(html5,data.frag);}
function shivDocument(ownerDocument){if(!ownerDocument){ownerDocument=document;}
var data=getExpandoData(ownerDocument);if(html5.shivCSS&&!supportsHtml5Styles&&!data.hasCSS){data.hasCSS=!!addStyleSheet(ownerDocument,'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}'+'mark{background:#FF0;color:#000}'+'template{display:none}');}
if(!supportsUnknownElements){shivMethods(ownerDocument,data);}
return ownerDocument;}
var html5={'elements':options.elements||'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video','version':version,'shivCSS':(options.shivCSS!==false),'supportsUnknownElements':supportsUnknownElements,'shivMethods':(options.shivMethods!==false),'type':'default','shivDocument':shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment};window.html5=html5;shivDocument(document);}(this,document));(function(w,p){"function"===typeof define&&define.amd?define([],p):"object"===typeof exports?module.exports=p():p()})(this,function(){function w(a){if(null===r){for(var g=a.length,d=0,k=document.getElementById(D),f="<ul>";d<g;)f+="<li>"+a[d]+"</li>",d++;k.innerHTML=f+"</ul>"}else r(a)}function p(a){return a.replace(/<b[^>]*>(.*?)<\/b>/gi,function(a,d){return d}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function E(a){a=a.getElementsByTagName("a");for(var g=a.length-1;0<=g;g--)a[g].setAttribute("target","_blank")}function l(a,g){for(var d=[],k=new RegExp("(^| )"+g+"( |$)"),f=a.getElementsByTagName("*"),h=0,b=f.length;h<b;h++)k.test(f[h].className)&&d.push(f[h]);return d}function F(a){if(void 0!==a&&0<=a.innerHTML.indexOf("data-srcset"))return a=a.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0],decodeURIComponent(a).split('"')[1]}var D="",g=20,G=!0,x=[],z=!1,y=!0,t=!0,A=null,B=!0,C=!0,r=null,H=!0,I=!1,u=!0,J=!0,K=!1,m=null,L={fetch:function(a){void 0===a.maxTweets&&(a.maxTweets=20);void 0===a.enableLinks&&(a.enableLinks=!0);void 0===a.showUser&&(a.showUser=!0);void 0===a.showTime&&(a.showTime=!0);void 0===a.dateFunction&&(a.dateFunction="default");void 0===a.showRetweet&&(a.showRetweet=!0);void 0===a.customCallback&&(a.customCallback=null);void 0===a.showInteraction&&(a.showInteraction=!0);void 0===a.showImages&&(a.showImages=!1);void 0===a.linksInNewWindow&&(a.linksInNewWindow=!0);void 0===a.showPermalinks&&(a.showPermalinks=!0);void 0===a.dataOnly&&(a.dataOnly=!1);if(z)x.push(a);else{z=!0;D=a.domId;g=a.maxTweets;G=a.enableLinks;t=a.showUser;y=a.showTime;C=a.showRetweet;A=a.dateFunction;r=a.customCallback;H=a.showInteraction;I=a.showImages;u=a.linksInNewWindow;J=a.showPermalinks;K=a.dataOnly;var l=document.getElementsByTagName("head")[0];null!==m&&l.removeChild(m);m=document.createElement("script");m.type="text/javascript";m.src="https://cdn.syndication.twimg.com/widgets/timelines/"+a.id+"?&lang="+(a.lang||"en")+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+
Math.random();l.appendChild(m)}},callback:function(a){function m(a){var b=a.getElementsByTagName("img")[0];b.src=b.getAttribute("data-src-2x");return a}var d=document.createElement("div");d.innerHTML=a.body;"undefined"===typeof d.getElementsByClassName&&(B=!1);a=[];var k=[],f=[],h=[],b=[],q=[],n=[],e=0;if(B)for(d=d.getElementsByClassName("timeline-Tweet");e<d.length;){0<d[e].getElementsByClassName("timeline-Tweet-retweetCredit").length?b.push(!0):b.push(!1);if(!b[e]||b[e]&&C)a.push(d[e].getElementsByClassName("timeline-Tweet-text")[0]),q.push(d[e].getAttribute("data-tweet-id")),k.push(m(d[e].getElementsByClassName("timeline-Tweet-author")[0])),f.push(d[e].getElementsByClassName("dt-updated")[0]),n.push(d[e].getElementsByClassName("timeline-Tweet-timestamp")[0]),void 0!==d[e].getElementsByClassName("timeline-Tweet-media")[0]?h.push(d[e].getElementsByClassName("timeline-Tweet-media")[0]):h.push(void 0);e++}else for(d=l(d,"timeline-Tweet");e<d.length;){0<l(d[e],"timeline-Tweet-retweetCredit").length?b.push(!0):b.push(!1);if(!b[e]||b[e]&&C)a.push(l(d[e],"timeline-Tweet-text")[0]),q.push(d[e].getAttribute("data-tweet-id")),k.push(m(l(d[e],"timeline-Tweet-author")[0])),f.push(l(d[e],"dt-updated")[0]),n.push(l(d[e],"timeline-Tweet-timestamp")[0]),void 0!==l(d[e],"timeline-Tweet-media")[0]?h.push(l(d[e],"timeline-Tweet-media")[0]):h.push(void 0);e++}a.length>g&&(a.splice(g,a.length-g),k.splice(g,k.length-g),f.splice(g,f.length-g),b.splice(g,b.length-g),h.splice(g,h.length-g),n.splice(g,n.length-g));var d=[],e=a.length,c=0;if(K)for(;c<e;)d.push({tweet:a[c].innerHTML,author:k[c].innerHTML,time:f[c].innerText,image:F(h[c]),rt:b[c],tid:q[c],permalinkURL:void 0===n[c]?"":n[c].href}),c++;else for(;c<e;){if("string"!==typeof A){var b=f[c].getAttribute("datetime"),v=new Date(f[c].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),b=A(v,b);f[c].setAttribute("aria-label",b);if(a[c].innerText)if(B)f[c].innerText=b;else{var v=document.createElement("p"),r=document.createTextNode(b);v.appendChild(r);v.setAttribute("aria-label",b);f[c]=v}else f[c].textContent=b}b="";G?(u&&(E(a[c]),t&&E(k[c])),t&&(b+='<div class="user">'+p(k[c].innerHTML)+"</div>"),b+='<p class="tweet">'+p(a[c].innerHTML)+"</p>",y&&(b=J?b+('<p class="timePosted"><a href="'+n[c]+'">'+f[c].getAttribute("aria-label")+"</a></p>"):b+('<p class="timePosted">'+f[c].getAttribute("aria-label")+"</p>"))):a[c].innerText?(t&&(b+='<p class="user">'+k[c].innerText+"</p>"),b+='<p class="tweet">'+a[c].innerText+"</p>",y&&(b+='<p class="timePosted">'+f[c].innerText+"</p>")):(t&&(b+='<p class="user">'+k[c].textContent+"</p>"),b+='<p class="tweet">'+a[c].textContent+"</p>",y&&(b+='<p class="timePosted">'+f[c].textContent+"</p>"));H&&(b+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+q[c]+'" class="twitter_reply_icon"'+(u?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+q[c]+'" class="twitter_retweet_icon"'+(u?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+
q[c]+'" class="twitter_fav_icon"'+(u?' target="_blank">':">")+"Favorite</a></p>");I&&void 0!==h[c]&&(b+='<div class="media"><img src="'+F(h[c])+'" alt="Image from tweet" /></div>');d.push(b);c++}w(d);z=!1;0<x.length&&(L.fetch(x[0]),x.splice(0,1))}};return window.twitterFetcher=L});;!function(n){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],n):n(jQuery)}(function(n){"use strict";function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=c),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=n.extend({},n.fn.swipe.defaults,e),this.each(function(){var r=n(this),i=r.data(P);i||(i=new t(this,e),r.data(P,i))})}function t(e,t){function D(e){if(!(ce()||n(e.target).closest(t.excludedElements,We).length>0)){var r,i=e.originalEvent?e.originalEvent:e,o=O?i.touches[0]:i;return Fe=E,O?Ve=i.touches.length:e.preventDefault(),Ue=0,He=null,Ye=null,je=0,_e=0,Qe=0,Ce=1,Xe=0,ze=de(),qe=ve(),le(),!O||Ve===t.fingers||t.fingers===T||q()?(pe(0,o),Ge=Me(),2==Ve&&(pe(1,i.touches[1]),_e=Qe=Ee(ze[0].start,ze[1].start)),(t.swipeStatus||t.pinchStatus)&&(r=U(i,Fe))):r=!1,r===!1?(Fe=y,U(i,Fe),r):(t.hold&&(nt=setTimeout(n.proxy(function(){We.trigger("hold",[i.target]),t.hold&&(r=t.hold.call(We,i,i.target))},this),t.longTapThreshold)),se(!0),null)}}function L(n){var e=n.originalEvent?n.originalEvent:n;if(Fe!==m&&Fe!==y&&!ae()){var r,i=O?e.touches[0]:e,o=he(i);if(Ze=Me(),O&&(Ve=e.touches.length),t.hold&&clearTimeout(nt),Fe=S,2==Ve&&(0==_e?(pe(1,e.touches[1]),_e=Qe=Ee(ze[0].start,ze[1].start)):(he(e.touches[1]),Qe=Ee(ze[0].end,ze[1].end),Ye=me(ze[0].end,ze[1].end)),Ce=Se(_e,Qe),Xe=Math.abs(_e-Qe)),Ve===t.fingers||t.fingers===T||!O||q()){if(He=xe(o.start,o.end),X(n,He),Ue=ye(o.start,o.end),je=be(),ge(He,Ue),(t.swipeStatus||t.pinchStatus)&&(r=U(e,Fe)),!t.triggerOnTouchEnd||t.triggerOnTouchLeave){var u=!0;if(t.triggerOnTouchLeave){var l=Pe(this);u=De(o.end,l)}!t.triggerOnTouchEnd&&u?Fe=N(S):t.triggerOnTouchLeave&&!u&&(Fe=N(m)),(Fe==y||Fe==m)&&U(e,Fe)}}else Fe=y,U(e,Fe);r===!1&&(Fe=y,U(e,Fe))}}function R(n){var e=n.originalEvent;return O&&e.touches.length>0?(ue(),!0):(ae()&&(Ve=Je),Ze=Me(),je=be(),_()||!j()?(Fe=y,U(e,Fe)):t.triggerOnTouchEnd||0==t.triggerOnTouchEnd&&Fe===S?(n.preventDefault(),Fe=m,U(e,Fe)):!t.triggerOnTouchEnd&&B()?(Fe=m,H(e,Fe,f)):Fe===S&&(Fe=y,U(e,Fe)),se(!1),null)}function k(){Ve=0,Ze=0,Ge=0,_e=0,Qe=0,Ce=1,le(),se(!1)}function A(n){var e=n.originalEvent;t.triggerOnTouchLeave&&(Fe=N(m),U(e,Fe))}function I(){We.unbind(Re,D),We.unbind(Ne,k),We.unbind(ke,L),We.unbind(Ae,R),Ie&&We.unbind(Ie,A),se(!1)}function N(n){var e=n,r=C(),i=j(),o=_();return!r||o?e=y:!i||n!=S||t.triggerOnTouchEnd&&!t.triggerOnTouchLeave?!i&&n==m&&t.triggerOnTouchLeave&&(e=y):e=m,e}function U(n,e){var t=void 0;return z()||V()||W()||q()?((z()||V())&&(t=H(n,e,p)),(W()||q())&&t!==!1&&(t=H(n,e,h))):ie()&&t!==!1?t=H(n,e,d):oe()&&t!==!1?t=H(n,e,g):re()&&t!==!1&&(t=H(n,e,f)),e===y&&k(n),e===m&&(O?0==n.touches.length&&k(n):k(n)),t}function H(e,c,s){var w=void 0;if(s==p){if(We.trigger("swipeStatus",[c,He||null,Ue||0,je||0,Ve,ze]),t.swipeStatus&&(w=t.swipeStatus.call(We,e,c,He||null,Ue||0,je||0,Ve,ze),w===!1))return!1;if(c==m&&F()){if(We.trigger("swipe",[He,Ue,je,Ve,ze]),t.swipe&&(w=t.swipe.call(We,e,He,Ue,je,Ve,ze),w===!1))return!1;switch(He){case r:We.trigger("swipeLeft",[He,Ue,je,Ve,ze]),t.swipeLeft&&(w=t.swipeLeft.call(We,e,He,Ue,je,Ve,ze));break;case i:We.trigger("swipeRight",[He,Ue,je,Ve,ze]),t.swipeRight&&(w=t.swipeRight.call(We,e,He,Ue,je,Ve,ze));break;case o:We.trigger("swipeUp",[He,Ue,je,Ve,ze]),t.swipeUp&&(w=t.swipeUp.call(We,e,He,Ue,je,Ve,ze));break;case u:We.trigger("swipeDown",[He,Ue,je,Ve,ze]),t.swipeDown&&(w=t.swipeDown.call(We,e,He,Ue,je,Ve,ze))}}}if(s==h){if(We.trigger("pinchStatus",[c,Ye||null,Xe||0,je||0,Ve,Ce,ze]),t.pinchStatus&&(w=t.pinchStatus.call(We,e,c,Ye||null,Xe||0,je||0,Ve,Ce,ze),w===!1))return!1;if(c==m&&Y())switch(Ye){case l:We.trigger("pinchIn",[Ye||null,Xe||0,je||0,Ve,Ce,ze]),t.pinchIn&&(w=t.pinchIn.call(We,e,Ye||null,Xe||0,je||0,Ve,Ce,ze));break;case a:We.trigger("pinchOut",[Ye||null,Xe||0,je||0,Ve,Ce,ze]),t.pinchOut&&(w=t.pinchOut.call(We,e,Ye||null,Xe||0,je||0,Ve,Ce,ze))}}return s==f?(c===y||c===m)&&(clearTimeout($e),clearTimeout(nt),J()&&!ne()?(Ke=Me(),$e=setTimeout(n.proxy(function(){Ke=null,We.trigger("tap",[e.target]),t.tap&&(w=t.tap.call(We,e,e.target))},this),t.doubleTapThreshold)):(Ke=null,We.trigger("tap",[e.target]),t.tap&&(w=t.tap.call(We,e,e.target)))):s==d?(c===y||c===m)&&(clearTimeout($e),Ke=null,We.trigger("doubletap",[e.target]),t.doubleTap&&(w=t.doubleTap.call(We,e,e.target))):s==g&&(c===y||c===m)&&(clearTimeout($e),Ke=null,We.trigger("longtap",[e.target]),t.longTap&&(w=t.longTap.call(We,e,e.target))),w}function j(){var n=!0;return null!==t.threshold&&(n=Ue>=t.threshold),n}function _(){var n=!1;return null!==t.cancelThreshold&&null!==He&&(n=we(He)-Ue>=t.cancelThreshold),n}function Q(){return null!==t.pinchThreshold?Xe>=t.pinchThreshold:!0}function C(){var n;return n=t.maxTimeThreshold&&je>=t.maxTimeThreshold?!1:!0}function X(n,e){if(t.preventDefaultEvents!==!1)if(t.allowPageScroll===c)n.preventDefault();else{var l=t.allowPageScroll===s;switch(e){case r:(t.swipeLeft&&l||!l&&t.allowPageScroll!=w)&&n.preventDefault();break;case i:(t.swipeRight&&l||!l&&t.allowPageScroll!=w)&&n.preventDefault();break;case o:(t.swipeUp&&l||!l&&t.allowPageScroll!=v)&&n.preventDefault();break;case u:(t.swipeDown&&l||!l&&t.allowPageScroll!=v)&&n.preventDefault()}}}function Y(){var n=G(),e=Z(),t=Q();return n&&e&&t}function q(){return!!(t.pinchStatus||t.pinchIn||t.pinchOut)}function W(){return!(!Y()||!q())}function F(){var n=C(),e=j(),t=G(),r=Z(),i=_(),o=!i&&r&&t&&e&&n;return o}function V(){return!!(t.swipe||t.swipeStatus||t.swipeLeft||t.swipeRight||t.swipeUp||t.swipeDown)}function z(){return!(!F()||!V())}function G(){return Ve===t.fingers||t.fingers===T||!O}function Z(){return 0!==ze[0].end.x}function B(){return!!t.tap}function J(){return!!t.doubleTap}function K(){return!!t.longTap}function $(){if(null==Ke)return!1;var n=Me();return J()&&n-Ke<=t.doubleTapThreshold}function ne(){return $()}function ee(){return(1===Ve||!O)&&(isNaN(Ue)||Ue<t.threshold)}function te(){return je>t.longTapThreshold&&b>Ue}function re(){return!(!ee()||!B())}function ie(){return!(!$()||!J())}function oe(){return!(!te()||!K())}function ue(){Be=Me(),Je=event.touches.length+1}function le(){Be=0,Je=0}function ae(){var n=!1;if(Be){var e=Me()-Be;e<=t.fingerReleaseThreshold&&(n=!0)}return n}function ce(){return!(We.data(P+"_intouch")!==!0)}function se(n){n===!0?(We.bind(ke,L),We.bind(Ae,R),Ie&&We.bind(Ie,A)):(We.unbind(ke,L,!1),We.unbind(Ae,R,!1),Ie&&We.unbind(Ie,A,!1)),We.data(P+"_intouch",n===!0)}function pe(n,e){var t=void 0!==e.identifier?e.identifier:0;return ze[n].identifier=t,ze[n].start.x=ze[n].end.x=e.pageX||e.clientX,ze[n].start.y=ze[n].end.y=e.pageY||e.clientY,ze[n]}function he(n){var e=void 0!==n.identifier?n.identifier:0,t=fe(e);return t.end.x=n.pageX||n.clientX,t.end.y=n.pageY||n.clientY,t}function fe(n){for(var e=0;e<ze.length;e++)if(ze[e].identifier==n)return ze[e]}function de(){for(var n=[],e=0;5>=e;e++)n.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return n}function ge(n,e){e=Math.max(e,we(n)),qe[n].distance=e}function we(n){return qe[n]?qe[n].distance:void 0}function ve(){var n={};return n[r]=Te(r),n[i]=Te(i),n[o]=Te(o),n[u]=Te(u),n}function Te(n){return{direction:n,distance:0}}function be(){return Ze-Ge}function Ee(n,e){var t=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y);return Math.round(Math.sqrt(t*t+r*r))}function Se(n,e){var t=e/n*1;return t.toFixed(2)}function me(){return 1>Ce?a:l}function ye(n,e){return Math.round(Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)))}function Oe(n,e){var t=n.x-e.x,r=e.y-n.y,i=Math.atan2(r,t),o=Math.round(180*i/Math.PI);return 0>o&&(o=360-Math.abs(o)),o}function xe(n,e){var t=Oe(n,e);return 45>=t&&t>=0?r:360>=t&&t>=315?r:t>=135&&225>=t?i:t>45&&135>t?u:o}function Me(){var n=new Date;return n.getTime()}function Pe(e){e=n(e);var t=e.offset(),r={left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()};return r}function De(n,e){return n.x>e.left&&n.x<e.right&&n.y>e.top&&n.y<e.bottom}var Le=O||M||!t.fallbackToMouseEvents,Re=Le?M?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ke=Le?M?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ae=Le?M?x?"MSPointerUp":"pointerup":"touchend":"mouseup",Ie=Le?null:"mouseleave",Ne=M?x?"MSPointerCancel":"pointercancel":"touchcancel",Ue=0,He=null,je=0,_e=0,Qe=0,Ce=1,Xe=0,Ye=0,qe=null,We=n(e),Fe="start",Ve=0,ze=null,Ge=0,Ze=0,Be=0,Je=0,Ke=0,$e=null,nt=null;try{We.bind(Re,D),We.bind(Ne,k)}catch(et){n.error("events not supported "+Re+","+Ne+" on jQuery.swipe")}this.enable=function(){return We.bind(Re,D),We.bind(Ne,k),We},this.disable=function(){return I(),We},this.destroy=function(){I(),We.data(P,null),We=null},this.option=function(e,r){if(void 0!==t[e]){if(void 0===r)return t[e];t[e]=r}else n.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var r="left",i="right",o="up",u="down",l="in",a="out",c="none",s="auto",p="swipe",h="pinch",f="tap",d="doubletap",g="longtap",w="horizontal",v="vertical",T="all",b=10,E="start",S="move",m="end",y="cancel",O="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!O,M=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!O,P="TouchSwipe",D={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};n.fn.swipe=function(t){var r=n(this),i=r.data(P);if(i&&"string"==typeof t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));n.error("Method "+t+" does not exist on jQuery.swipe")}else if(!(i||"object"!=typeof t&&t))return e.apply(this,arguments);return r},n.fn.swipe.defaults=D,n.fn.swipe.phases={PHASE_START:E,PHASE_MOVE:S,PHASE_END:m,PHASE_CANCEL:y},n.fn.swipe.directions={LEFT:r,RIGHT:i,UP:o,DOWN:u,IN:l,OUT:a},n.fn.swipe.pageScroll={NONE:c,HORIZONTAL:w,VERTICAL:v,AUTO:s},n.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:T}});(function(HP){var exports=HP.Skype||(HP.Skype={});exports.disableClickToCall=function(){var meta=document.createElement('meta');meta.setAttribute('name','SKYPE_TOOLBAR');meta.setAttribute('content','SKYPE_TOOLBAR_PARSER_COMPATIBLE');document.getElementsByTagName('head')[0].appendChild(meta);};})(window.HP||(window.HP={}));(function(can,window,undefined){var isFunction=can.isFunction,fnTest=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;can.Construct._overwrite=function(addTo,base,name,val){if(name=='vars'&&base[name]){val=can.extend(true,{},base[name],val);}
addTo[name]=isFunction(val)&&isFunction(base[name])&&fnTest.test(val)?(function(name,fn){return function(){var tmp=this._super,ret;this._super=base[name];ret=fn.apply(this,arguments);this._super=tmp;return ret;};})(name,val):val;}
can.Construct._inherit=function(newProps,oldProps,addTo){addTo=addTo||newProps
for(var name in newProps){can.Construct._overwrite(addTo,oldProps,name,newProps[name]);}}
if(!window.console||!window.console.log){window.console={log:function(){return false;}};}})(this.can,this);(function($,can,HP){var UA=navigator.userAgent.toUpperCase(),$html=$("html");window.isIE7=UA.indexOf("MSIE 7.0")!=-1;window.isIE8=UA.indexOf("MSIE 8.0")!=-1;window.isIE9=UA.indexOf("MSIE 9.0")!=-1;window.isIE10=UA.indexOf("MSIE 10.0")!=-1;window.isIE=UA.indexOf("MSIE")!=-1||UA.indexOf("TRIDENT")!=-1;window.isFF=UA.indexOf("FIREFOX")!=-1;window.isSAFARI=UA.indexOf("SAFARI")!=-1&&UA.indexOf('CHROME')==-1;window.isIOS=UA.indexOf("IPHONE")!=-1||UA.indexOf('IPAD')!=-1;window.isCHROME=UA.indexOf('CHROME')!=-1;window.isWIN=UA.indexOf('WINDOWS')!=-1;window.isMAC=UA.indexOf('MAC')!=-1;window.isOpera=(window.opera!=undefined);window.gtIE8=isIE8||isIE9||isIE10;window.rtl=$html.attr('dir')=='rtl';if(isSAFARI)$html.addClass("safari");if(isCHROME)$html.addClass("chrome");if(isWIN)$html.addClass("win");if(isMAC)$html.addClass("mac");if(isIOS)$html.addClass("ios");if(isFF)$html.addClass("firefox");if(isOpera)$html.addClass("opera");if(isIE)$html.addClass("ie");if(isIE7)$html.addClass("ie-7 ie-8");if(isIE8)$html.addClass("ie-8");if(isIE9)$html.addClass("ie-9");if(isIE10)$html.addClass("ie-10");if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?':'+window.location.port:'');}
var originalSetup=can.Control.prototype.setup;can.Control.prototype.setup=function(element,options){$.extend(true,this,this.constructor.vars);var newOptions=$.extend(true,{_self:this},this.constructor.defaults,options);return originalSetup.call(this,element,newOptions);};can.view.register({suffix:'ejs',renderer:function(id,text){var pos=id?id.lastIndexOf('_'):-1;if(pos!=-1&&id.substr(pos+1)=='js'){return can.EJS(eval(text));}
return can.EJS({text:text,name:id});}});HP.Control={'init':function(control,selector,options){var controlClass=(typeof control=='string'?HP[control]:control),elementsToInit=$(selector),elementToTest=null,elementControls=null,isInitialized=false,q;$(selector).each(function(index,elt){isInitialized=false;elementToTest=$(elt);elementControls=elementToTest.data("initialized")||[];for(q=0;q<elementControls.length;q++){if(elementControls[q]===controlClass){isInitialized=true;break;}}
if(isInitialized===false){elementControls.push(controlClass);elementToTest.data("initialized",elementControls);elementsToInit=elementsToInit.add(elementToTest);}});if(controlClass.init){controlClass.init(elementsToInit,options);}else{elementsToInit.each(function(index,el){new controlClass(el,options);});}},'show':function(element,options){element=$(element);if(element.length==0)return;element.stop(true);if(!options||!options.fxShow){element.show();}else{var fx=options.fxShow;if(fx.effect!='fadeTo')element[fx.effect](fx.duration,fx.easing,fx.onComplete);else element[fx.effect](fx.duration,1,fx.easing,fx.onComplete);}
element.triggerHandler('show');if(options&&options.onShow)options.onShow();},'hide':function(element,options){element=$(element);if(element.length==0)return;element.stop(true);if(!options||!options.fxHide){element.hide();}else{var fx=options.fxHide;element[fx.effect](fx.duration,fx.easing,fx.onComplete);}
element.triggerHandler('hide');if(options&&options.onHide)options.onHide();}};HP.Utils={'ready':function(func){var called=false,once=function(){if(called===false){called=true;if($.mobile){$(document).on('pageinit',func);}
else{$(document).ready(func);}}}
once();HP.Utils.ready=once;},'getUrlParamValue':function(name,urlData){var qs=urlData||document.location.search.split("+").join(" ");qs=qs.indexOf('?')!==-1?qs.split('?')[1]:qs;var params={},tokens,re=/[?&]?([^=]+)=([^&]*)/g;while(tokens=re.exec(qs)){params[decodeURIComponent(tokens[1])]=decodeURIComponent(tokens[2]);}
return name?params[name]:params;},'getElementById':function(id){var element;if(id){element=$('#'+id);if(element.length!=0){return element;}}},'getDocumentHeight':function(){return Math.max($(document).height(),$(window).height(),document.documentElement.clientHeight);},'getDocumentWidth':function(){return Math.max($(document).width(),$(window).width(),document.documentElement.clientWidth);},'getRandom':function(min,max){if(typeof min==="undefined"||typeof max==="undefined")
return 0;else
return Math.floor(Math.random()*(max-min+1))+min;},'reHOST':/^((([^:/]+:)?(\/\/))?([^:/?#]+\.[^/?#]+))/,'getUrlHost':function(url){var host=HP.Utils.reHOST.exec(url);return host?(host[0].length==url.length?'':host[0]):'';},'Cache':(function(){var SessionStorage,Instances={},Module=function(ns){if(Instances[ns]){return Instances[ns];}
this.ns=ns+"#";this.runtimeCache={};Instances[ns]=this;};try{SessionStorage=window.sessionStorage;}catch(e){console.log("Warning: SessionStorage  not find. "+e);}
Module.prototype={set:function(uid,value,maxLiveTime){try{SessionStorage.setItem(this.ns+uid,JSON.stringify(value));}catch(e){}
finally{this.runtimeCache[uid]=value;}
return value;},get:function(uid){if(window.location.search.indexOf("wafdebug=1")>-1||window.isIE8||window.isIE7){return;}
if(!this.runtimeCache[uid]){try{this.runtimeCache[uid]=JSON.parse(SessionStorage.getItem(this.ns+uid));}catch(e){return void 0;}}
return this.runtimeCache[uid];},remove:function(uid){try{SessionStorage.removeItem(this.ns+uid);}catch(e){}
finally{delete this.runtimeCache[uid];}},clear:function(){console.log('Cache.Clear not defined');}}
return Module;})(),'cookie':{set:function(name,value,options){options=options||{};var expires=options.expires;if(typeof expires=="number"&&expires){var d=new Date();d.setTime(d.getTime()+expires*1000);expires=options.expires=d;}
if(expires&&expires.toUTCString){options.expires=expires.toUTCString();}
value=encodeURIComponent(value);var updatedCookie=name+"="+value;for(var propName in options){updatedCookie+="; "+propName;var propValue=options[propName];if(propValue!==true){updatedCookie+="="+propValue;}}
document.cookie=updatedCookie;},get:function(name){var matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):undefined;},remove:function(name){HP.Utils.cookie.set(name,"",{expires:-1})},isEnabled:function(){HP.Utils.cookie.set('isCookieEnabled','enabled',{expires:10});return HP.Utils.cookie.get('isCookieEnabled')=='enabled';}},'getHiddenParents':function(element){var parents=$(element).parents().filter(function(){return $(this).css("display")=="none"});if(parents.length){parents.show=function(){this.addClass("force-display-block")};parents.hide=function(){this.removeClass("force-display-block")};}else{parents.show=function(){return false;};parents.hide=function(){return false;};}
return parents;},TryCallObject:function(delegate,maxtries,timebetweencalls,failCallback,retrycount){if(typeof retrycount=="undefined")
retrycount=0;if(typeof failCallback=="undefined")
failCallback=null;try{delegate();}catch(ex){if(retrycount>=maxtries)
{if(failCallback!=null)
failCallback();return;}
setTimeout(function(){HP.Utils.TryCallObject(delegate,maxtries,timebetweencalls,failCallback,retrycount+1);},timebetweencalls);}},getDataAttrs:function(el){var attrs={};el=$(el).get(0);if(el&&el.attributes){$.each(el.attributes,function(index,attr){if(attr.nodeName.indexOf('data-')===0){var key=camelCase(attr.nodeName.replace('data-','')),value=attr.nodeValue;switch(value){case'false':value=false;break;case'true':value=true;break;}
if(value&&/^\d+$/.test(value)){value=parseInt(value,10);}
attrs[key]=value;}});}
function camelCase(input){return input.toLowerCase().replace(/-(.)/g,function(match,group1){return group1.toUpperCase();});}
return attrs;}};HP.Keys={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){$(function(){var bodyTag=document.body||document.getElementsByTagName('body')[0];var body=$("body");var eventName=navigator.userAgent.match(/(iPhone)|(iPad)/i)?"touchstart":"click";var closeOnBodyClickHandler=function(e){var target=$(e.target),targetEl=target[0],activePopup=HP.PopupManager.getActivePopup();if(activePopup&&!target.closest(activePopup.options.triggerEl)[0]&&!target.closest(activePopup.getElement())[0]){HP.PopupManager.hideActivePopup();}};body.on("PopupManager:show",function(){$(document).on(eventName,closeOnBodyClickHandler);});body.on("PopupManager:hide",function(){$(document).off(eventName,closeOnBodyClickHandler);});$(window).on("slideChange",function(e){var activePopup=HP.PopupManager.getActivePopup();if(activePopup){var sliderParent=activePopup.element.parents().filter(function(i,element){return e.item[0]===element;});if(sliderParent.length){HP.PopupManager.hideActivePopup();}}});});HP.PopupManager=HP.PopupManager||(function(){var popups=[];var activePopup;return{'add':function(popup){popups.push(popup);popup.getElement().bind({'show':function(){if(activePopup){activePopup.hide();}
activePopup=popup;if(popup.options.closeOnBodyClick)$("body").triggerHandler("PopupManager:show");},'hide':function(){if(activePopup==popup)activePopup=null;if(popup.options.closeOnBodyClick)$("body").triggerHandler("PopupManager:hide");}});return popup;},'hideActivePopup':function(){if(activePopup){activePopup.hide();activePopup=null;}},'getActivePopup':function(){return activePopup;},remove:function(popup){for(var i=popups.length-1;i>=0;i--){if(popups[i]===popup){popups.splice(i,1);}}}}})();HP.Popup=can.Control({defaults:{hideDelay:1000,showDelay:0,showEvent:'mouseenter',hideEvent:'mouseleave',keyEvent:'keydown',showKeys:null,hideKeys:null,triggerEl:null,targetActiveClass:'',triggerActiveClass:'',onInit:null,onShow:null,onHide:null,fxShow:{effect:'show',duration:0,easing:null,onComplete:null},fxHide:{effect:'hide',duration:0,easing:null,onComplete:null},positionHandler:null,addToPopupManager:true,closeOnBodyClick:true,open:false,exactOpener:null,htmlClass:'overlay'},vars:{timerId:null,openState:false}},{'init':function(element,options){var that=this;if(this.options.showEvent!='click'&&!HP.pageConfig.get('isOnMobile')){var self=this;this.options.triggerEl.on('click',function(){if(!self.isOpen()){$.proxy(self['{triggerEl} {showEvent}'],self);}});}
this.openState=this.options.open;if(this.element.data("lazy-init")==false)this.openState=true;if(this.openState){this.element.show()}else if(!this.element.hasClass('iframe-popup')&&!this.element.hasClass('video-overlay')){this.element.hide();}
if(this.options.addToPopupManager)HP.PopupManager.add(this);if(this.options.onInit)this.options.onInit(this);$(window).on('resize',function(){that.setScroll(that);});},setScroll:function(that){var $elementHeight=null,$windowHeight=null;if(that.isOpen()){that.element.removeClass('scroll');$elementHeight=that.element.height();$windowHeight=$(window).height();$('html').addClass(this.options.htmlClass);if($elementHeight>$windowHeight){that.element.addClass('scroll');}else{that.element.removeClass('scroll');}}},'_onShow':function(){if(this.timerId!=null){clearTimeout(this.timerId);}
if(!this.isOpen()){if(this.options.showDelay>0){this.timerId=setTimeout($.proxy(this.show,this),this.options.showDelay);}else{this.show();}}
this.setScroll(this);},'_onHide':function(){if(this.timerId!=null){clearTimeout(this.timerId);}
if(this.options.hideDelay>0){this.timerId=setTimeout($.proxy(this.hide,this),this.options.hideDelay);}else{this.hide();}
$('html').removeClass(this.options.htmlClass);},'getElement':function(){return this.element;},'isOpen':function(){return this.openState;},'isVisible':function(){return!this.element.is(':hidden');},'toggle':function(show){if(this.options.showEvent==this.options.hideEvent){if(this.isOpen()){this._onHide();}else{this._onShow();}}else{if(show){this._onShow();}else{this._onHide();}}},'{triggerEl} {showEvent}':function(el,e){this.options.exactOpener=el;this.element.data('index',$.inArray(el[0],$.makeArray(this.options.triggerEl)));this.toggle(true);},'{triggerEl} {hideEvent}':function(el,e){if(this.options.showEvent!=this.options.hideEvent)this.toggle(false);},'{triggerEl} {keyEvent}':function(el,e){if(this.options.showKeys||this.options.hideKeys){var key=e.which;var showFlag=$.inArray(key,this.options.showKeys)!=-1;var hideFlag=$.inArray(key,this.options.hideKeys)!=-1;if(showFlag&&hideFlag){showFlag=!this.isOpen();}
if(showFlag){this['{triggerEl} {showEvent}'](el,e);}else if(hideFlag){this.hide();}}},'{keyEvent}':function(el,e){if(this.options.hideKeys&&$.inArray(e.which,this.options.hideKeys)!=-1){this.hide();}},'mouseenter':function(el,e){if(this.element.is(':animated'))return;if(this.timerId!=null){clearTimeout(this.timerId);}},'{hideEvent}':function(el,e){if(this.options.showEvent!=this.options.hideEvent)this._onHide();},'setPosition':function(){if(this.options.positionHandler&&typeof this.options.positionHandler=='function'){this.options.positionHandler(this.element,this.options.triggerEl);}},'show':function(){console.log('show');if(this.element.css('visibility')==='hidden'){this.element.css('visibility','visible');}
this.setPosition();if(this.options.targetActiveClass)this.element.addClass(this.options.targetActiveClass);if(this.options.triggerActiveClass)this.options.triggerEl.addClass(this.options.triggerActiveClass);HP.Control.show(this.element,this.options);this.openState=true;},'hide':function(){if(this.options.targetActiveClass)this.element.removeClass(this.options.targetActiveClass);if(this.options.triggerActiveClass)this.options.triggerEl.removeClass(this.options.triggerActiveClass);HP.Control.hide(this.element,this.options);this.openState=false;},'destroy':function(){if(this.element&&this.element.length>0){HP.PopupManager.remove(this);this.element.unbind().remove();}}});HP.OverlayPopup=HP.Popup({defaults:{hideDelay:0,showEvent:'click',hideEvent:'',targetActiveClass:"shown",fitContentClass:"fit-content",fxShow:{duration:100},fxHide:{duration:100},overlayEl:null,overlayClass:'popup-bkg',closeTriggerSelector:'.js_pop_close',closeOnOverlayClick:true,closeOnBodyClick:false,hAlign:true,vAlign:false,fixed:false,resizeTimeout:0,_closeElements:null}},{'init':function(element,options){this._initOverlayElement();var focusEl=this._initCloseTriggers();this.element.appendTo(document.body);var overlayEl=this.options.overlayEl;var triggerEl=this.options.triggerEl;var ua=navigator.userAgent.toUpperCase();this.browserIsIE=ua.indexOf("MSIE")!=-1||ua.indexOf("TRIDENT")!=-1||ua.indexOf("IEMOBILE")!=-1;var oldFxOnComplete={show:this.options.fxShow.onComplete,hide:this.options.fxHide.onComplete};this.options.fxHide.onComplete=$.proxy(function(){overlayEl.fadeOut(this.options.fxHide.duration);triggerEl.focus();if(typeof(oldFxOnComplete.hide)=='function'){oldFxOnComplete.hide();}},this);if(focusEl){this.options.fxShow.onComplete=function(){focusEl.focus();if(typeof(oldFxOnComplete.show)=='function'){oldFxOnComplete.show();}};}
this.on();this._super();},'_initOverlayElement':function(){if(!this.options.overlayEl&&(this.options.overlayEl=$('.'+this.options.overlayClass)).length==0){var bodyEl=$(document.body);this.options.overlayEl=$('<div/>',{'class':this.options.overlayClass}).appendTo(bodyEl).hide();}},'_initCloseTriggers':function(){this.options._closeElements=this.element.find(this.options.closeTriggerSelector);var result=this.options._closeElements.first();if(this.options.closeOnOverlayClick){$.merge(this.options._closeElements,this.options.overlayEl)}
return result.length==0?null:result;},'{_closeElements} click':function(el,e){if(this.isOpen()){this.toggle(false);}},'show':function(){this._alignOverlayElement();this.options.overlayEl.fadeIn(this.options.fxShow.duration);this._super();if(typeof(HP.YTPlayer)==='function'&&HP.pageConfig.get('isOnMobile')&&this.browserIsIE){this.element.css({'display':'block'});}},'hide':function(){this._super();if(typeof(HP.YTPlayer)==='function'&&HP.pageConfig.get('isOnMobile')&&this.browserIsIE){this.element.css({'display':'none'});}},'_alignOverlayElement':function(){this.element.removeClass(this.options.fitContentClass);var wHeight=$(window).height();var wWidth=$(window).width();var lHeight=this.element.outerHeight();var lWidth=this.element.outerWidth();var margin=(document.dir=='rtl'&&isIE&&!isIE10)?'marginRight':'marginLeft';var scrollTop=$(document).scrollTop();var headerHeight=$('#header').outerHeight(true);if(headerHeight&&scrollTop<headerHeight){scrollTop=$('#header').outerHeight(true);}
var css={'top':this.options.fixed?0:scrollTop};this.element.toggleClass(this.options.fitContentClass,wWidth<=this.lWidth);if(this.options.vAlign){css.top=css.top+(wHeight-lHeight)/2;css.marginTop=0;if(css.top<0){css.top=0;}}
if(this.options.hAlign){var scrollLeft=this.options.fixed?0:$(document).scrollLeft();css.left=scrollLeft+(wWidth-lWidth)/2;css[margin]=0;if(css.left<0){css.left=0;}}
this.element.css(css);},'{window} resize':function(){var _self=this;clearTimeout(this.options.resizeTimeout);this.options.resizeTimeout=setTimeout(function(){_self._alignOverlayElement();},200);}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.Switcher=can.Control({defaults:{open:0,noContentClass:'',hideDelay:0,showDelay:0,eventName:'click',toggleSelected:false,autoHideItems:true,triggerActiveClass:'open',targetActiveClass:'',targets:null,onShow:null,onHide:null,onInit:null,fxShow:{effect:'show',duration:0,easing:null,onComplete:null},fxHide:{effect:'hide',duration:0,easing:null,onComplete:null},isTargetsHiddenByDisplay:true},vars:{selectedIndex:-1,prevIndex:-1}},{'init':function(element,options){if(this.options.isTargetsHiddenByDisplay){this.options.targets.hide();}
else{this.options.targets.css({opacity:0,visibility:'hidden',"z-index":-1});}
this.show(this.options.open,true);if(this.options.onInit)
this.options.onInit(this);},'{eventName}':function(trigger,e){if(this.options.noContentClass==''||!trigger.hasClass(this.options.noContentClass)){var index=this.element.index(trigger[0]);if(index>-1){var isVisible=this.options.targets.eq(index).is(':visible')&&this.options.targets.eq(index).outerHeight()!=0;if(!isVisible||!this.options.isTargetsHiddenByDisplay){if(this.options.autoHideItems)this.hide();this.show(index);}else if(this.options.toggleSelected){if(this.prevIndex==index&&this.options.targets.eq(index).is(':animated')){this.options.targets.eq(index).hide();this.show(index);}else{this.hide(index);}}}}
else{e.preventDefault();e.stopPropagation();}},'show':function(index,withoutAnimation){var el;var self=this;if(typeof index=='number'&&index>-1){el=this.options.targets.eq(index);this.options.triggerActiveClass&&this.element.eq(index).addClass(this.options.triggerActiveClass);this.options.targetActiveClass&&el.addClass(this.options.targetActiveClass);this.prevIndex=this.selectedIndex;this.selectedIndex=index;if(withoutAnimation){el.show();}else{var elem=$(this.element.context).parent();this.options.fxShow.onComplete=function(){if(isIE8){elem.hide().show();}};if(this.options.isTargetsHiddenByDisplay){HP.Control.show(el,this.options);}}
if(!this.options.isTargetsHiddenByDisplay){el.css({visibility:'visible',"z-index":0});setTimeout(function(){el.stop(true,true).animate({opacity:1},self.options.fxShow.duration);},this.options.fxShow.delay);}}},'hide':function(index){var el;var self=this;this.prevIndex=(typeof index=='number'&&index>-1)?index:this.selectedIndex;if(this.prevIndex>-1){el=this.options.targets.eq(this.prevIndex);this.selectedIndex=-1;this.options.triggerActiveClass&&this.element.eq(this.prevIndex).removeClass(this.options.triggerActiveClass);this.options.targetActiveClass&&el.removeClass(this.options.targetActiveClass);var elem=$(this.element.context).parent();this.options.fxHide.onComplete=function(){if(isIE8){elem.hide().show();}};if(this.options.isTargetsHiddenByDisplay){HP.Control.hide(el,this.options);}
else{setTimeout(function(){el.stop(true,true).animate({opacity:0,visibility:'hidden',"z-index":-1},self.options.fxHide.duration);},this.options.fxShow.delay);}}}});HP.Accordion=HP.Switcher({defaults:{open:-1,noContentClass:'no_items',toggleSelected:true,fxShow:{effect:'slideDown',duration:500,easing:null,onComplete:null},fxHide:{effect:'slideUp',duration:500,easing:null,onComplete:null}}},{'init':function(element,options){this._super();}});HP.Tabs=HP.Switcher({defaults:{triggerActiveClass:'current',activeFirstClass:'current_fst',triggerSelector:'',hashName:'tabs',enableHashUpdate:true}},{'init':function(element,options){var openIndex=this.getOpenIndexFromUrlParam();if(openIndex!=-1){this.options.open=openIndex;}
this._super();},'show':function(index,withoutAnimation){var currentTrigger=this.element.eq(index);if(currentTrigger.hasClass("disabled"))
return false;if(index==0){currentTrigger.addClass(this.options.activeFirstClass);}
if(this.options.enableHashUpdate===true)
this.updatePageHash(currentTrigger);return this._super(index,withoutAnimation);},'hide':function(index){if(this.selectedIndex==0){this.element.eq(this.selectedIndex).removeClass(this.options.activeFirstClass);}
return this._super(index);},'getOpenIndexFromUrlParam':function(){var result=-1,value=HP.Utils.getUrlParamValue(this.options.hashName);if(value){this.element.each(function(index,elt){if($(elt).attr("rel")===value){result=index;return false;}});}
return result;},updatePageHash:function(trigger){var hash=(""+document.location.hash).replace(/[#!]/ig,"").replace(/^&/,"").split("&"),isSet=false,q;for(q=0;q<hash.length;q++){hash[q]=hash[q].split("=");if(hash[q][0]===this.options.hashName){hash[q]=(this.options.hashName+"="+trigger.attr("rel"));isSet=true;}}
if(!isSet)
hash.push(this.options.hashName+"="+trigger.attr("rel"));document.location.hash=hash.join("&");}});HP.Tree=HP.Switcher({defaults:{triggerSelector:'',targetSelector:'',toggleSelected:true,autoHideItems:false,open:-1,triggerActiveClass:'expanded'}},{'init':function(element,options){this.element=element.find(this.options.triggerSelector);this.options.targets=element.find(this.options.targetSelector);this.on();this._super();}});HP.ExtendedTree=HP.Tree({defaults:{triggerActiveClass:'opened',fxShow:{effect:'slideDown',duration:500},fxHide:{effect:'slideUp',duration:500},urlParamName:'',expandAllSelector:'',collapseAllSelector:'',triggerAllInactiveClass:'disabled'}},{'init':function(element,options){if(this.options.expandAllSelector)this.options.expandAllTrigger=this.element.find(this.options.expandAllSelector);if(this.options.collapseAllSelector)this.options.collapAllTrigger=this.element.find(this.options.collapseAllSelector);var openIndex=this.getOpenIndexFromUrlParam();if(openIndex!=-1){this.options.open=openIndex;}else{if(this.options.collapAllTrigger)this.options.collapAllTrigger.addClass(this.options.triggerAllInactiveClass);}
this._super(element);},'getOpenIndexFromUrlParam':function(){var value=HP.Utils.getUrlParamValue(this.options.urlParamName);if(!value||isNaN(value)){return-1;}
return parseInt(value,10)-1;},'{expandAllTrigger} {eventName}':function(trigger,e){for(var i=0;i<this.element.length;i++){var el=this.options.targets.eq(i);if(!el.is(':visible')){this.show(i);}else if(el.is(':animated')){el.hide();this.show(i);}}
if(this.options.collapAllTrigger)this.options.collapAllTrigger.removeClass(this.options.triggerAllInactiveClass);if(this.options.expandAllTrigger)this.options.expandAllTrigger.addClass(this.options.triggerAllInactiveClass);},'{collapAllTrigger} {eventName}':function(trigger,e){for(var i=0;i<this.element.length;i++)this.hide(i);if(this.options.expandAllTrigger)this.options.expandAllTrigger.removeClass(this.options.triggerAllInactiveClass);if(this.options.collapAllTrigger)this.options.collapAllTrigger.addClass(this.options.triggerAllInactiveClass);}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.Switcher=can.Control({defaults:{open:0,noContentClass:'',hideDelay:0,showDelay:0,eventName:'click',toggleSelected:false,autoHideItems:true,triggerActiveClass:'open',targetActiveClass:'',targets:null,onShow:null,onHide:null,onInit:null,fxShow:{effect:'show',duration:0,easing:null,onComplete:null},fxHide:{effect:'hide',duration:0,easing:null,onComplete:null},isTargetsHiddenByDisplay:true},vars:{selectedIndex:-1,prevIndex:-1}},{'init':function(element,options){if(this.options.isTargetsHiddenByDisplay){this.options.targets.hide();}
else{this.options.targets.css({opacity:0,visibility:'hidden',"z-index":-1});}
this.show(this.options.open,true);if(this.options.onInit)
this.options.onInit(this);},'{eventName}':function(trigger,e){if(this.options.noContentClass==''||!trigger.hasClass(this.options.noContentClass)){var index=this.element.index(trigger[0]);if(index>-1){var isVisible=this.options.targets.eq(index).is(':visible')&&this.options.targets.eq(index).outerHeight()!=0;if(!isVisible||!this.options.isTargetsHiddenByDisplay){if(this.options.autoHideItems)this.hide();this.show(index);}else if(this.options.toggleSelected){if(this.prevIndex==index&&this.options.targets.eq(index).is(':animated')){this.options.targets.eq(index).hide();this.show(index);}else{this.hide(index);}}}}
else{e.preventDefault();e.stopPropagation();}},'show':function(index,withoutAnimation){var el;var self=this;if(typeof index=='number'&&index>-1){el=this.options.targets.eq(index);this.options.triggerActiveClass&&this.element.eq(index).addClass(this.options.triggerActiveClass);this.options.targetActiveClass&&el.addClass(this.options.targetActiveClass);this.prevIndex=this.selectedIndex;this.selectedIndex=index;if(withoutAnimation){el.show();}else{var elem=$(this.element.context).parent();this.options.fxShow.onComplete=function(){if(isIE8){elem.hide().show();}};if(this.options.isTargetsHiddenByDisplay){HP.Control.show(el,this.options);}}
if(!this.options.isTargetsHiddenByDisplay){el.css({visibility:'visible',"z-index":0});setTimeout(function(){el.css({visibility:'visible',"z-index":0});el.stop(true,true).animate({opacity:1},self.options.fxShow.duration);},this.options.fxShow.delay);}}},'hide':function(index){var el;var self=this;this.prevIndex=(typeof index=='number'&&index>-1)?index:this.selectedIndex;if(this.prevIndex>-1){el=this.options.targets.eq(this.prevIndex);this.selectedIndex=-1;this.options.triggerActiveClass&&this.element.eq(this.prevIndex).removeClass(this.options.triggerActiveClass);this.options.targetActiveClass&&el.removeClass(this.options.targetActiveClass);var elem=$(this.element.context).parent();this.options.fxHide.onComplete=function(){if(isIE8){elem.hide().show();}};if(this.options.isTargetsHiddenByDisplay){HP.Control.hide(el,this.options);}
else{setTimeout(function(){el.stop(true,true).animate({opacity:0,visibility:'hidden',"z-index":-1},self.options.fxHide.duration);},this.options.fxShow.delay);}}}});HP.Accordion=HP.Switcher({defaults:{open:-1,noContentClass:'no_items',toggleSelected:true,fxShow:{effect:'slideDown',duration:500,easing:null,onComplete:null},fxHide:{effect:'slideUp',duration:500,easing:null,onComplete:null}}},{'init':function(element,options){this._super();}});HP.Tabs=HP.Switcher({defaults:{triggerActiveClass:'current',activeFirstClass:'current_fst',triggerSelector:'',hashName:'tabs',enableHashUpdate:true}},{'init':function(element,options){var openIndex=this.getOpenIndexFromUrlParam();if(openIndex!=-1){this.options.open=openIndex;}
this._super();},'show':function(index,withoutAnimation){var currentTrigger=this.element.eq(index);if(currentTrigger.hasClass("disabled"))
return false;if(index==0){currentTrigger.addClass(this.options.activeFirstClass);}
if(this.options.enableHashUpdate===true)
this.updatePageHash(currentTrigger);return this._super(index,withoutAnimation);},'hide':function(index){if(this.selectedIndex==0){this.element.eq(this.selectedIndex).removeClass(this.options.activeFirstClass);}
return this._super(index);},'getOpenIndexFromUrlParam':function(){var result=-1,value=HP.Utils.getUrlParamValue(this.options.hashName);if(value){this.element.each(function(index,elt){if($(elt).attr("rel")===value){result=index;return false;}});}
return result;},updatePageHash:function(trigger){var hash=(""+document.location.hash).replace(/[#!]/ig,"").replace(/^&/,"").split("&"),isSet=false,q;for(q=0;q<hash.length;q++){hash[q]=hash[q].split("=");if(hash[q][0]===this.options.hashName){hash[q]=(this.options.hashName+"="+trigger.attr("rel"));isSet=true;}}
if(!isSet)
hash.push(this.options.hashName+"="+trigger.attr("rel"));document.location.hash=hash.join("&");}});HP.Tree=HP.Switcher({defaults:{triggerSelector:'',targetSelector:'',toggleSelected:true,autoHideItems:false,open:-1,triggerActiveClass:'expanded'}},{'init':function(element,options){this.element=element.find(this.options.triggerSelector);this.options.targets=element.find(this.options.targetSelector);this.on();this._super();}});HP.ExtendedTree=HP.Tree({defaults:{triggerActiveClass:'opened',fxShow:{effect:'slideDown',duration:500},fxHide:{effect:'slideUp',duration:500},urlParamName:'',expandAllSelector:'',collapseAllSelector:'',triggerAllInactiveClass:'disabled'}},{'init':function(element,options){if(this.options.expandAllSelector)this.options.expandAllTrigger=this.element.find(this.options.expandAllSelector);if(this.options.collapseAllSelector)this.options.collapAllTrigger=this.element.find(this.options.collapseAllSelector);var openIndex=this.getOpenIndexFromUrlParam();if(openIndex!=-1){this.options.open=openIndex;}else{if(this.options.collapAllTrigger)this.options.collapAllTrigger.addClass(this.options.triggerAllInactiveClass);}
this._super(element);},'getOpenIndexFromUrlParam':function(){var value=HP.Utils.getUrlParamValue(this.options.urlParamName);if(!value||isNaN(value)){return-1;}
return parseInt(value,10)-1;},'{expandAllTrigger} {eventName}':function(trigger,e){for(var i=0;i<this.element.length;i++){var el=this.options.targets.eq(i);if(!el.is(':visible')){this.show(i);}else if(el.is(':animated')){el.hide();this.show(i);}}
if(this.options.collapAllTrigger)this.options.collapAllTrigger.removeClass(this.options.triggerAllInactiveClass);if(this.options.expandAllTrigger)this.options.expandAllTrigger.addClass(this.options.triggerAllInactiveClass);},'{collapAllTrigger} {eventName}':function(trigger,e){for(var i=0;i<this.element.length;i++)this.hide(i);if(this.options.expandAllTrigger)this.options.expandAllTrigger.removeClass(this.options.triggerAllInactiveClass);if(this.options.collapAllTrigger)this.options.collapAllTrigger.addClass(this.options.triggerAllInactiveClass);}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.ProgDisc=HP.Tree({defaults:{triggerActiveClass:'opened',fxShow:{effect:'slideDown',duration:400},fxHide:{effect:'slideUp',duration:400},hashName:'pd',expandAllSelector:'',collapseAllSelector:'',triggerAllInactiveClass:'disabled',expandAllCollapseAllContainer:'.js-prog-disc-controls',parentNestedClass:'prog-disc-nested',openedItemsAttribute:'opened-items'}},{'init':function(element,options){this.options.hashName+=++HP.ExtendedTree.treeCounter;this.isNestedTree=this.isNestedToOtherTree();if(this.isNestedTree){this.isNestedTree.addClass(this.options.parentNestedClass);this.removeNestedControls();return;}
if(this.options.expandAllSelector)this.options.expandAllTrigger=this.element.find(this.options.expandAllSelector);if(this.options.collapseAllSelector)this.options.collapAllTrigger=this.element.find(this.options.collapseAllSelector);var openIndex=this.getOpenedIndexes(true);if(openIndex[0]==-1){openIndex=this.getOpenedIndexes(false);}
this._super(element);this.detectNestedTargets();if(openIndex[0]!=-1){for(var i=0;i<openIndex.length;i++){this.options.open=openIndex[i];this.show(this.options.open,true);}}else{this.disableCollapseAllButton();}
var tabsContWrap=$(this.options.expandAllCollapseAllContainer).parents('.js-tabs-content-wrapper');this.parentTabsContWrap=tabsContWrap.length?tabsContWrap:false;},'isNestedToOtherTree':function(){var parents=this.element.parents(this.options.targetSelector);return parents.length!=0?$(parents[0]):false;},'detectNestedTargets':function(){for(var i=0;i<this.element.length;i++){var el=this.options.targets.eq(i);var isNestedTarget=el.parent().closest(this.options.targetSelector);if(isNestedTarget.length){this.options.targets[i].isNested=true;}
else{this.options.targets[i].isNested=false;}
this.options.targets[i].elemIndex=i;}},'removeNestedControls':function(){this.element.find(this.options.expandAllCollapseAllContainer).remove();},'{eventName}':function(trigger,e){var index=this.element.index(trigger[0]);var siblingsElements;this.options.top1=window.pageYOffset||document.documentElement.scrollTop;if(this.isNestedTree){return;}
siblingsElements=$(this.options.targets.eq(index)).parent().siblings().find('>'+this.options.targetSelector);for(var i=0;i<siblingsElements.length;i++){this.hide(siblingsElements[i].elemIndex);}
return this._super(trigger,e);},'getOpenedIndexes':function(isFromUrl){var value;if(isFromUrl){value=HP.Utils.getUrlParamValue(this.options.hashName);}else{value=this.element.attr(this.options.openedItemsAttribute)||'';var triggers=this.element.find(this.options.triggerSelector);var separator='';if(value){separator="_";}
var _self=this;triggers.each(function(index,el){if($(el).hasClass(_self.options.triggerActiveClass)){value+=separator+(index+1);if(separator=='')separator="_";}})}
if(value){return jQuery.map(value.split('_'),function(el){return parseInt(el,10)-1;});}
return[-1];},'{expandAllTrigger} {eventName}':function(trigger,e){if(this.isButtonDisable(trigger)){return;}
var parentIsClosed=false;for(var i=0;i<this.element.length;i++){var el=this.options.targets.eq(i);if(this.options.targets[i].isNested){if(!this.options.targets[i-1].isNested){parentIsClosed=$(this.element[i-1]).hasClass(this.options.triggerActiveClass);}
if(!el.is(':visible')){this.show(i,!parentIsClosed);}}}
for(var i=0;i<this.element.length;i++){var el=this.options.targets.eq(i);if(!this.options.targets[i].isNested){if(!el.is(':visible')){this.show(i);}}}
this.enableCollapseAllButton();this.disableExpandAllButton();},'{collapAllTrigger} {eventName}':function(trigger,e){if(this.isButtonDisable(trigger)){return;}
for(var i=0;i<this.element.length;i++)this.hide(i);this.enableExpandAllButton();this.disableCollapseAllButton();},'enableCollapseAllButton':function(){if(this.options.collapAllTrigger)this.options.collapAllTrigger.removeClass(this.options.triggerAllInactiveClass);},'enableExpandAllButton':function(){if(this.options.expandAllTrigger)this.options.expandAllTrigger.removeClass(this.options.triggerAllInactiveClass);},'disableCollapseAllButton':function(){if(this.options.collapAllTrigger)this.options.collapAllTrigger.addClass(this.options.triggerAllInactiveClass);},'disableExpandAllButton':function(){if(this.options.expandAllTrigger)this.options.expandAllTrigger.addClass(this.options.triggerAllInactiveClass);},'isButtonDisable':function(trigger){if(trigger.hasClass(this.options.triggerAllInactiveClass)){return true;}
return false;},'show':function(index,withoutAnimation){if(this.parentTabsContWrap){this.parentTabsContWrap.trigger('resize');}
this.updatePageHash(index+1,true);this.enableCollapseAllButton();this._super(index,withoutAnimation);var allItemsOpened=true;var _self=this;this.element.each(function(index,el){if(!$(el).hasClass(_self.options.triggerActiveClass)){allItemsOpened=false;return;}});if(allItemsOpened){this.enableCollapseAllButton();this.disableExpandAllButton();}},'hide':function(index){this.updatePageHash(index+1,false);this.enableExpandAllButton();return this._super(index);},'updatePageHash':function(index,add){if(index<1){return;}
var hash=(""+document.location.hash).replace(/(#!?&?)/,"").split("&"),isSet=false,q;for(q=0;q<hash.length;q++){var splitedHash=hash[q].split("=");if(splitedHash[0]==this.options.hashName){var splitedValues=splitedHash[1].split("_");hash[q]=this.updateSingleParam(splitedValues,index,add);if(hash[q]===''){hash.splice(q,1);this.enableExpandAllButton();this.disableCollapseAllButton();}
isSet=true;}}
if(!isSet&&add){hash.push(this.options.hashName+"="+(index));$(window).scrollTop(this.options.top1);}
if(hash.length>0)document.location.hash=hash.join("&");else{history.pushState("",document.title,window.location.pathname
+window.location.search);};},'updateSingleParam':function(paramValues,value,add){var hash=(this.options.hashName+"="),separator='',newValueIsNotFound=true,allValuesDeleted=true;for(var i=0;i<paramValues.length;i++){if(paramValues[i]!=value){hash+=separator+paramValues[i];if(separator===''){separator='_';}
allValuesDeleted=false;}
else if(add){hash+=separator+paramValues[i];if(separator===''){separator='_';}
newValueIsNotFound=false;}}
if(add&&newValueIsNotFound){hash+=separator+value;}
if(!add&&allValuesDeleted){hash='';}
return hash;}});HP.ExtendedTree.treeCounter=0;})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){if(!HP.ProgDisc){return;}
HP.ProgDisc=HP.ProgDisc.extend({defaults:{titleSelector:'h2:not(.hidden), h3:not(.hidden)',innerModulesSelector:'.flex2-molecule',triggersHolder:'.prog-disc-content:first > li'}},{'init':function(element,options){this.updateItemsTitle();this._super(element,options);},'updateItemsTitle':function(){var triggerSelector=this.options.triggerSelector,targetSelector=this.options.targetSelector,innerModulesSelector=this.options.innerModulesSelector,titleSelector=this.options.titleSelector,modules=$(triggerSelector).parents('.molecule-801');for(var i=0;i<modules.length;i++){if($(modules[i]).attr('class').indexOf('mobile_cloud_map_style')>-1){return;}}
this.getItems().each(function(){var $item=$(this),$trigger=$item.children(triggerSelector),$target=$item.children(targetSelector),subModuleTitle=$target.children(innerModulesSelector).find(titleSelector).first();if(subModuleTitle.length&&$.trim(subModuleTitle.text())){if(!subModuleTitle.parent(triggerSelector).length){subModuleTitle.addClass('hidden');}}});},'updateTitle':function(){var title=this.getTitle(),controls=this.element.children(this.options.expandAllCollapseAllContainer);if(title&&!controls.find('h2').length){controls.append('<h2 style="margin: -23px 0 0 55px;">'+title+'</h2>');}},'getItems':function(){return this.element.find(this.options.triggersHolder);},'getTitle':function(){var triggerSelector=this.options.triggerSelector,titleSelector=this.options.titleSelector,lastTitle='',hasTitle=true;this.getItems().each(function(){var $item=$(this),$trigger=$item.children(triggerSelector),title=$.trim($trigger.find(titleSelector).text());if(lastTitle&&lastTitle!==title){hasTitle=false;return false;}else{lastTitle=title;}});return hasTitle?lastTitle:'';}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){HP.InputPrompt=can.Control({defaults:{defaultValue:'',activeClass:'pre-active'}},{'init':function(element,options){this.options.defaultValue=this.element[0].value;if(this.element.is(":focus"))this.focus();},'focus':function(elements,e){if(this.element.val()==this.options.defaultValue){this.element.val('');}},'blur':function(elements,e){if(this.element.val()==''){this.element.val(this.options.defaultValue);if(!this.element.hasClass(this.options.activeClass))this.element.addClass(this.options.activeClass);}else{this.element.removeClass(this.options.activeClass);}}});HP.AutoResizableTextarea=can.Control({defaults:{delay:300}},{'init':function(element,options){this.originalHeight=this.element.height();if(isIE6)this.ie6HeightOffset=parseInt(this.element.css('padding-top'))+parseInt(this.element.css('padding-bottom'))+2*parseInt(this.element.css('border-top-width'));},'keyup':function(){if(this.timeout)clearTimeout(this.timeout);var self=this;this.timeout=setTimeout(function(){var newHeight=self.getTextHeight();if(newHeight!=self.element.height()){if(self.isIE6)newHeight+=self.ie6HeightOffset;self.element.animate({height:newHeight},300);}},this.options.delay);},'keydown':function(){if(this.timeout)clearTimeout(this.timeout);},'getTextHeight':function(){var currentHeight=this.element.height()+(this.isIE6?this.ie6HeightOffset:0);this.element.height(this.originalHeight+(this.isIE6?this.ie6HeightOffset:0));var h=this.element[0].scrollHeight;this.element.height(currentHeight);if(!isFF){h=h-parseInt(this.element.css('padding-top'))-parseInt(this.element.css('padding-bottom'));}
h=Math.max(h,this.originalHeight);return h;}});var RADIO_CHECKBOX_GROUPS={};HP.RadioCheckbox=can.Control({defaults:{checked:'checked',unchecked:'unchecked',error:'error',jsError:'js_error'}},{'init':function(element,options){this.inputEl=element.find("input");this.groupName=this.inputEl.attr("name");if(!RADIO_CHECKBOX_GROUPS[this.groupName]){RADIO_CHECKBOX_GROUPS[this.groupName]={};if(RADIO_CHECKBOX_GROUPS[this.groupName].value==undefined)RADIO_CHECKBOX_GROUPS[this.groupName].value=new can.Observe({observe:''});if(RADIO_CHECKBOX_GROUPS[this.groupName].error==undefined)RADIO_CHECKBOX_GROUPS[this.groupName].error=new can.Observe({observe:''});if(RADIO_CHECKBOX_GROUPS[this.groupName].items==undefined)RADIO_CHECKBOX_GROUPS[this.groupName].items=1;}else{RADIO_CHECKBOX_GROUPS[this.groupName].items++;}
var self=this;RADIO_CHECKBOX_GROUPS[this.groupName].value.bind('observe',function(ev,newVal,oldVal){self.onValueChange.call(self,false)});RADIO_CHECKBOX_GROUPS[this.groupName].value.attr('observe',!RADIO_CHECKBOX_GROUPS[this.groupName].value.attr('observe'));RADIO_CHECKBOX_GROUPS[this.groupName].error.bind('observe',function(ev,newVal,oldVal){self.removeErrorClasses.apply(self)});this.options.storedInitClassValue=element.attr("class");this.options.storedInitCheckValue=this.inputEl.is(":checked");HP.FormUtils.addControlToFormCollection(this);},'click':function(){if(!this.inputEl.is(':disabled')&&(this.inputEl.attr("type")=="radio"&&!this.inputEl.is(':checked')||this.inputEl.attr("type")=="checkbox")){this.inputEl.attr('checked',!this.inputEl.is(":checked"));if(this.element.hasClass(this.options.error)){RADIO_CHECKBOX_GROUPS[this.groupName].error.attr('observe',!RADIO_CHECKBOX_GROUPS[this.groupName].error.attr('observe'));}
RADIO_CHECKBOX_GROUPS[this.groupName].value.attr('observe',!RADIO_CHECKBOX_GROUPS[this.groupName].value.attr('observe'));}},'onValueChange':function(){if(this.element.hasClass(this.options.jsError)&&!this.inputEl.is(":checked")&&this.inputEl.attr("type")!="radio"){this.element.addClass(this.options.error)}
if(this.inputEl.is(":checked")){this.element.removeClass(this.options.unchecked);this.element.addClass(this.options.checked);}else{this.element.addClass(this.options.unchecked);this.element.removeClass(this.options.checked);}},'removeErrorClasses':function(){if(RADIO_CHECKBOX_GROUPS[this.groupName].items>1){if(this.element.hasClass(this.options.error)){this.element.removeClass(this.options.error);}}},"reset":function(){this.element.attr('class',this.options.storedInitClassValue);this.inputEl.attr('checked',this.options.storedInitCheckValue);}});HP.FormUtils={resetForm:function(){for(var i=0;i<this.controlsCollection.length;i++){if(typeof this.controlsCollection[i].reset=="function"){this.controlsCollection[i].reset();}}},findParentForm:function(el){var parent=el.parentNode;if(parent&&parent.tagName&&parent.tagName.toUpperCase()!='FORM'){parent=HP.FormUtils.findParentForm(parent);}
return parent;},addControlToFormCollection:function(control){var form=HP.FormUtils.findParentForm(control.element.get()[0]);if(form){if(!form.controlsCollection){form.controlsCollection=[];}
form.controlsCollection.push(control);}}};})(jQuery,can,window.HP||(window.HP={}));if(!window.SCREENREADING_LABELS){window.SCREENREADING_LABELS={close_menu_prefix:"Close ",close_menu_suffix:" Menu",close_popup_prefix:"Close ",close_popup_suffix:" Popup",closed_state_menu_prefix:"Menu ",closed_state_menu_suffix:" is closed",collapse_prefix:"Collapse",collapse_suffix:"",expand_prefix:"Expand ",expand_suffix:"",open_menu_prefix:"Open ",open_menu_suffix:" Menu",open_popup_prefix:"Open ",open_popup_suffix:" Popup",opened_state_menu_prefix:"Menu ",opened_state_menu_suffix:" is opened",search_box_suggestion_title:"Use arrow keys to select a search suggestion"}}
(function($,can,HP){var KEY_EVENT_NAME='keydown';var SR_SELECTOR='.js_screen_reading';var SELECTOR='a';var closePopup=function(){this.hide();this.options.triggerEl.focus();};var initElementScreenReading=function(control,screenReadingEl,showLabel,hideLabel){screenReadingEl.text(showLabel);control.element.on({"show":function(){screenReadingEl.text(hideLabel);},"hide":function(){screenReadingEl.text(showLabel);}});};var initPopupScreenReading=function(control,customOpenLabelId,customCloseLabelId){var screenReadingEl=control.options.triggerEl.find(SR_SELECTOR);if(screenReadingEl){var triggerTitle=control.options.triggerEl.attr('title')||'',openLabelId=customOpenLabelId||'open_popup',closeLabelId=customCloseLabelId||'close_popup',showLabel=SCREENREADING_LABELS[openLabelId+'_prefix']+triggerTitle+SCREENREADING_LABELS[openLabelId+'_suffix'],hideLabel=SCREENREADING_LABELS[closeLabelId+'_prefix']+triggerTitle+SCREENREADING_LABELS[closeLabelId+'_suffix'];initElementScreenReading(control,screenReadingEl,showLabel,hideLabel);}};var initAccordionScreenReading=function(control){var screenReadingElements=control.element.find(SR_SELECTOR);if(screenReadingElements.length!=0){var triggerTitle,labels=[],item;control.element.each(function(index,triggerEl){triggerTitle=$(triggerEl).attr('title')||'',item={showLabel:SCREENREADING_LABELS['expand_prefix']+SCREENREADING_LABELS['expand_suffix'],hideLabel:SCREENREADING_LABELS['collapse_prefix']+SCREENREADING_LABELS['collapse_suffix']};labels.push(item);screenReadingElements.eq(index).text(control.selectedIndex==index?item.hideLabel:item.showLabel);});control.options.onShow=function(){screenReadingElements.eq(control.selectedIndex).text(labels[control.selectedIndex].hideLabel);};control.options.onHide=function(){if(control.prevIndex!=-1)screenReadingElements.eq(control.prevIndex).text(labels[control.prevIndex].showLabel);};}};HP.ScreenReading={PopupScreenReading:initPopupScreenReading};HP.Accessibility={MainNavigation:function(control){HP.Accessibility.Popup(control,true);var screenReadingEl=control.options.triggerEl.find(SR_SELECTOR);if(screenReadingEl){var triggerTitle=control.options.triggerEl.attr('title')||'',showLabel=SCREENREADING_LABELS['open_menu_prefix']+SCREENREADING_LABELS['open_menu_suffix'],hideLabel=SCREENREADING_LABELS['close_menu_prefix']+SCREENREADING_LABELS['close_menu_suffix'];initElementScreenReading(control,screenReadingEl,showLabel,hideLabel);}},MainNavigationAccordion:function(control){var MainNavPopup=this;control.element.last().on(KEY_EVENT_NAME,function(e){if(control.selectedIndex!=control.element.length-1)
if(e.which==HP.Keys.TAB&&!e.shiftKey){e.preventDefault();MainNavPopup._onHide();MainNavPopup.options.triggerEl.focus();}});initAccordionScreenReading(control);},Accordion:function(control){var firstLinks=control.options.targets.find('a:first'),lastLinks=control.options.targets.find('a:last');control.options.fxShow.onComplete=function(){control.options.targets.eq(control.selectedIndex).find('a').attr('tabindex',control.element.eq(control.selectedIndex).attr('tabindex'));firstLinks.eq(control.selectedIndex).focus();};firstLinks.on(KEY_EVENT_NAME,function(e){if(e.which==HP.Keys.TAB&&e.shiftKey){e.preventDefault();control.element.eq(control.selectedIndex).focus();control.hide();}});lastLinks.on(KEY_EVENT_NAME,function(e){if(e.which==HP.Keys.TAB&&!e.shiftKey){control.options.targets.eq(control.selectedIndex).find('a').removeAttr('tabindex');control.element.eq(control.selectedIndex).focus();control.hide();}});initAccordionScreenReading(control);},CountrySelector:function(control){control.element.on(KEY_EVENT_NAME,function(e){if(e.which==HP.Keys.ESCAPE){control.options.triggerEl.focus();}});initPopupScreenReading(control);},NavigationMenu:function(control){HP.Accessibility.Popup(control,true,'.level3 a');control.options.triggerEl.on('click',function(e){var el=control.element.find('.js-menu:first a:first');if(el){el.focus();}});control.element.on('hideOnFocus',function(){control._hidePrevSubItem();});var screenReadingEl=control.options.triggerEl.find(SR_SELECTOR.replace(/_/g,'-'));if(screenReadingEl){var showLabel=SCREENREADING_LABELS['closed_state_menu_prefix']+SCREENREADING_LABELS['closed_state_menu_suffix'],hideLabel=SCREENREADING_LABELS['opened_state_menu_prefix']+SCREENREADING_LABELS['opened_state_menu_suffix'];initElementScreenReading(control,screenReadingEl,showLabel,hideLabel);}},NavigationMenuSubItem:function(control){control.options.triggerEl.on('click',function(e){var el=control.element.find('li:first a:first');if(el){setTimeout(function(){el.focus()},50);}});var links=control.element.find('a');if(links&&links.length>0){var firstLink=links.first();lastLink=links.last();firstLink.on(KEY_EVENT_NAME,function(e){if(e.which==HP.Keys.TAB&&e.shiftKey){e.preventDefault();control.options.triggerEl.parent().parent().parent().trigger('hideOnFocus');control.options.triggerEl.find('a:first').focus();}});lastLink.on(KEY_EVENT_NAME,function(e){if(e.which==HP.Keys.TAB&&!e.shiftKey){e.preventDefault();control.options.triggerEl.parent().parent().parent().trigger('hideOnFocus');control.options.triggerEl.find('a:first').focus();}});}
var screenReadingEl=control.options.triggerEl.find(SR_SELECTOR.replace(/_/g,'-'));if(screenReadingEl){var showLabel=SCREENREADING_LABELS['open_menu_prefix']+SCREENREADING_LABELS['open_menu_suffix'],hideLabel=SCREENREADING_LABELS['close_menu_prefix']+SCREENREADING_LABELS['close_menu_suffix'];initElementScreenReading(control,screenReadingEl,showLabel,hideLabel);}},Dropdown:function(control){var popAA=new HP.Accessibility.PopupMain(control);popAA.addSimpleAccessibility();popAA.addAutoCompleteAccessibility();initPopupScreenReading(control);},PopupMain:function(control){var self=this;this.control=control;control.getElement().on('hide',function(){self.activeLink=-1;});this.addSimpleAccessibility=function(){this._initLinks();this._hacks();self.links=this.links;this.control.options.triggerEl.first().on(KEY_EVENT_NAME,function(event){if(event.which==HP.Keys.ESCAPE){if(self.control.isOpen()){self.control.toggleButton.focus();self.activeLink=-1;setTimeout(function(){self.control.hide();},0);event.preventDefault();}}
if(event.which==HP.Keys.TAB&&event.shiftKey&&self.control.isOpen()){self.control.toggleButton.focus();self.activeLink=-1;setTimeout(function(){self.control.hide();},0);}
if((event.which==HP.Keys.UP||event.which==HP.Keys.LEFT)&&self.control.isOpen()){self._nextTargetLink(-1);return false;}
if((event.which==HP.Keys.DOWN||event.which==HP.Keys.RIGHT)&&self.control.isOpen()){self._nextTargetLink(+1);return false;}
if(event.which==HP.Keys.HOME){self._nextTargetLink(0);return false;}
if(event.which==HP.Keys.END){self._nextTargetLink('last');return false;}});};this.addAutoCompleteAccessibility=function(){control.options.triggerEl.on(KEY_EVENT_NAME,function(event){if(self._isCharKey(event.which)){if(self.control.isOpen()){self._getLinksByFirstChar(String.fromCharCode(event.which));$(this).show();self.links[self.activeLink].focus();}}});control.options.triggerEl.on("hide",function(){this._removeDisabledState();});};this._nextTargetLink=function(dir){if(dir!='last'&&dir!==0){this.activeLink+=dir;this._checkActiveLink();}
else if(dir===0){this.activeLink=0;}
else if(dir=='last'){this.activeLink=this.activeLinksNum;}
if(self.control.isOpen()){if(this.links[this.activeLink].tabIndex=='-1'){this._nextTargetLink(dir);}
else{this.links[this.activeLink].focus();}}
else{return this.activeLink;}};this._checkActiveLink=function(){if(this.activeLink<0){this.activeLink=this.activeLinksNum;}
else if(this.activeLink>this.activeLinksNum){this.activeLink=0;}};this._initLinks=function(selector){this.links=self.control.element.find(selector||"a:not(.disabled):not(.js_disable):not(.hidden):not(.close_button)");this.links.map(function(key,link){if(link.className=='disabled'){link.tabIndex=-1;}});this.activeLinksNum=this.links.length-1;var selectedEl=self.control.element.find(".selected");if(selectedEl.length&&selectedEl.find("a:not(.disabled):not(.js_disable):not(.close_button)")){this.activeLink=selectedEl.prevAll().length;}
else{this.activeLink=-1;}};this._isCharKey=function(key){if(key==HP.Keys.ENTER||key==HP.Keys.ESCAPE||key==HP.Keys.UP||key==HP.Keys.DOWN||key==HP.Keys.LEFT||key==HP.Keys.RIGHT||key==HP.Keys.SPACE||key==HP.Keys.BACKSPACE||key==HP.Keys.TAB||key==HP.Keys.DELETE||key==HP.Keys.SHIFT||key==HP.Keys.CONTROL||key==HP.Keys.ALT||key==HP.Keys.CAPS_LOCK||key==HP.Keys.PAGE_UP||key==HP.Keys.PAGE_DOWN||key==HP.Keys.END||key==HP.Keys.HOME||key==144||key==145||key==';'||key=='='||key==','||key=='-'||key=='.'||key=='/'||key=='`'||key=='['||key=='\\'||key==']'||key=='\''||key=='+'){return false;}
return true;};this._getLinksByFirstChar=function(char){var linksFound=false;this.links.map(function(key,link){var linkTrim=$(link).text().trim().toLocaleLowerCase();if(linkTrim.charAt(0)!=char.toLocaleLowerCase()){$(link).addClass('js_disable');linksFound=false;}
else{linksFound=true;}});if(linksFound){this._initLinks();}
else{this._removeDisabledState();}};this._hacks=function(){if(typeof String.prototype.trim!=='function'){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');}}};this._removeDisabledState=function(){this._initLinks("a:not(.disabled):not(.close_button)");this.links.each(function(key,link){if($(link).hasClass('js_disable')){$(link).removeClass('js_disable');}});this._initLinks();}
return this;},Popup:function(control,skipScreenReading,selector){var element,links;selector=selector||SELECTOR;element=control.element;links=element.find(selector);if(links.length){var firstLink=links.first(),lastLink=links.last();firstLink.on(KEY_EVENT_NAME,function(e){if(e.which==HP.Keys.TAB&&e.shiftKey){e.preventDefault();closePopup.call(control);}});lastLink.on(KEY_EVENT_NAME,function(e){if(e.which==HP.Keys.TAB&&!e.shiftKey){e.preventDefault();closePopup.call(control);}});}
element.on(KEY_EVENT_NAME,function(e){if(e.which==HP.Keys.ESCAPE){closePopup.call(control);}});!skipScreenReading&&initPopupScreenReading(control);},Overlay:function(control){var element=control.element,selector=SELECTOR,links=element.find(selector),firstLink=links.first();if(firstLink.length){element.on({'show':function(){links.attr("tabindex",890);window.setTimeout(function(){firstLink.focus();},50);},'hide':function(){links.attr("tabindex",-1);}});}
HP.Accessibility.Popup.apply(this,arguments);}};})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){var ViewStorage={"_set":function(Constructor){return this[Constructor.viewID]=Constructor;},"_get":function(viewID){return this[viewID]||View;}};var View=HP.View=can.Control({viewID:'',defaults:{attrs:{},tpl:"",errorTpl:"<p><%= this.attr('errorMsg'); %></p>",renderMethod:"html",renderOnFirstModify:true,container:null},inherit:function(staticProps,methods){(this.viewID)&&(staticProps.viewID=(staticProps.viewID.charAt(0)!="!")?this.viewID+"."+staticProps.viewID:staticProps.viewID.slice(1));return ViewStorage._set(this(staticProps,methods));},vars:{_isRendered:false,_ready:$.Deferred()}},{'init':function(){var self=this;this._ready=$.Deferred();$.extend(this,new can.Map(self.options.attrs||{}));delete this.attr;delete this.constructor;self.bind('change',$.proxy(self._onChangeAttr,self));},'attr':function(key,val,ignoreHandler){if(!key){return this;}
var isSet=!(typeof val==="undefined"),attr=can.Map.prototype.attr,currentValue=attr.call(this,key),ns=(isSet?"_set:":"_get:")+key;ignoreHandler=ignoreHandler||false;if(!isSet){(typeof this[ns]==='function'&&!ignoreHandler)&&(currentValue=this[ns](currentValue));return currentValue;}else{(typeof this[ns]==='function'&&!ignoreHandler)&&(val=this[ns](val,currentValue));attr.call(this,key,val);return val;}},'_parseTpl':function(tpl){return $(can.view.ejs(tpl)(this).childNodes);},'getElement':function(){if(!this.element||!this.element.length){this.element=this._parseTpl(this.options.tpl);this.on();}
return this.element;},'_onChangeAttr':function(ev,attr,how,newVal,oldVal){var ns=how+":"+attr,modify="modify:"+attr,element=this.getElement();element.triggerHandler(ns,newVal,oldVal);element.triggerHandler(modify,newVal,oldVal);(this.options.renderOnFirstModify)&&(this.render());},'isRendered':function(){return this._isRendered;},'render':function(){this.renderTo(this.options.container);},'renderTo':function(container,renderMethod){container=$(container);renderMethod=renderMethod||this.options.renderMethod;if(!this.isRendered()&&container&&container.length){container[renderMethod](this.getElement());this._isRendered=true;this._ready.resolveWith(this);}},'error':function(message){this.element=this._parseTpl(this.options.errorTpl);this.attr('errorMsg',message);this._ready.rejectWith(this);return this;},'destroy':function(){},'isNumber':function(n){n=parseInt(n);return!isNaN(n)&&isFinite(n)&&n>0;},'getClassNameByRating':function(rating){rating=parseFloat(rating);if(!rating||rating<1.5){return'icn-stre';}else if(rating>=1.5&&rating<=3.5){return'icn-strh';}else{return'icn-strs';}}});View.factory=function(key,options){var constructor=ViewStorage._get(key);return options?new constructor(null,options):constructor;}})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.View.inherit({viewID:"Rotating",defaults:{startRotateFrom:0,rotateInterval:10000,animationSpeed:300,rotatingEl:""},vars:{rotateIntervalId:null}},{'add:_items':function(){this['rotate:start']();this.startFocusMonitoring();},'_set:index':function(val,currentVal){var items=this.attr("_items")||[];return(val<0||val>=items.length)?currentVal:val;},'modify:index':function(el,ev,val){var element=this.getElement(),speed=this.options.animationSpeed,items=this.attr('_items')||[],item=items[val],rotatingEl=this.options.rotatingEl?element.find(this.options.rotatingEl):element;if(items.length&&item){element.triggerHandler("rotate:beforeChange",item);rotatingEl.stop().fadeOut(speed,function(){element.triggerHandler("rotate:change",item);rotatingEl.fadeIn(speed,function(){element.triggerHandler("rotate:afterChange",item);});});}},'rotate:show':function(el,event,index){this.attr('index',index);return this;},'rotate:next':function(el,event){var items=this.attr('_items')||[],currentIndex=this.attr("index");this['rotate:show'](el,event,(currentIndex>=items.length-1)?0:++currentIndex);return this;},'rotate:start':function(el,event){this['rotate:stop']()['rotate:show'](el,event,this.options.startRotateFrom)['rotate:resume'](el,event);return this;},'rotate:resume':function(el,event){var items=this.attr('_items')||[],next=$.proxy(this['rotate:next'],this);this['rotate:stop']();if(items.length>1)(this.rotateIntervalId=window.setInterval(next,this.options.rotateInterval));return this;},'rotate:stop':function(el,event){clearInterval(this.rotateIntervalId||0);return this;},'rotate:change':function(el,event,item){var self=this;$.each(this.constructor.defaults.attrs,function(index){self.attr(index,item[index]);});return this;},'mouseenter':'rotate:stop','mouseleave':'rotate:resume','error':function(message){this['rotate:stop']();this._super(message);},'setAttrCollection':function(index,attrs){var items=this.attr("_items")||[];items[index]=attrs;this.attr("_items",items);return this;},'startFocusMonitoring':function(){var self=this;this.element.find('a').on('focusin',function(){self['rotate:stop']();}).on('focusout',function(){self['rotate:resume']();});}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){var HOST="https://twitter.com/";HP.View.factory("Rotating").inherit({viewID:"Twitter",defaults:{rotatingEl:".tweet-body h3",attrs:{id:"",target:"_blank",tabIndex:777,author:"@HP",body:$(""),readMoreText:"More Featured Tweets",replyText:"Reply",replyLink:"",retweetText:"Retweet",retweetLink:""},tpl:["<div class='twt-widget <%= this.attr('bkgColorType'); %>'>","<h3 class='font-h5 s-light theme-color'>","<a target='<%= this.attr('target'); %>' tabindex='<%= this.attr('tabIndex'); %>' href='<%= this.attr('authorLink'); %>' >","<%= this.attr('author'); %>","</a>","</h3>","<div class='tweet-bodies'>","<div class='tweet-body inverse s-light'>","<h3><%== this.attr('body'); %></h3>","</div>","</div>","<div class='tweet-actions inverse'>","<a class='reply' target='<%= this.attr('target'); %>' href='<%= this.attr('replyLink'); %>' tabindex='<%= this.attr('tabIndex'); %>'><%= this.attr('replyText'); %></a>&nbsp;","<a class='retweet' target='<%= this.attr('target'); %>' href='<%= this.attr('retweetLink'); %>' tabindex='<%= this.attr('tabIndex'); %>'><%= this.attr('retweetText'); %></a>","</div>","<div class='more-tweets theme-color'>","<a target='<%= this.attr('target'); %>' tabindex='<%= this.attr('tabIndex'); %>' href='<%= this.attr('authorLink'); %>'><%= this.attr('readMoreText'); %></a>","</div>","</div>"].join("")}},{'_get:author':function(author){return(author.toLowerCase().indexOf('@hp')==-1?'@HP':author);},'_get:authorLink':function(){var author='';if(this.attr("author")){author=this.attr("author").split('@').pop();}
return HOST+author;},'_set:_items':function(items){var target=this.attr('target'),tabIndex=this.attr('tabIndex'),optionsAttrs=this.options.attrs;return $.map(items,function(item,key){item.body=$(item.body);item.body.find('a').add(item.body.filter('a')).attr({"target":target,"tabindex":tabIndex});return $.extend({},optionsAttrs,item);});}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.View.inherit({viewID:"Post",defaults:{showSpooler:true,subjectLength:7,bodyLength:20,attrs:{subject:"",body:"",link:"",target:"_blank",rm_text:"Read Blog Article"},tpl:[].join("")}},{'init':function(){if(this.options.showSpooler){HP.Control.init(HP.Spooler,this.options.container);}
this._super();},'_cutByWords':function(string,length){var shortString="",peaces=[];if(typeof string!='undefined'&&string!=null){string=string.toString();peaces=string.split(" ",length);shortString=peaces.join(" ");}
if(shortString.length>15*this.options.bodyLength)
shortString=shortString.substring(0,200);return shortString+(shortString.length<string.length?"...":"");},'_get:body':function(body){return this._cutByWords($(body).text(),this.options.bodyLength);},'_get:subject':function(subject){return this._cutByWords(subject,this.options.subjectLength);},'_get:date':function(dateToFormat){if(dateToFormat){var separator="-",dateToFormat=dateToFormat||"",parts=dateToFormat.split(separator),monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],result="";try{result=(monthNames[(parseInt(parts[0],10)-1)]+" "+parts[1]+", "+parts[2]);}
catch(excpt){result=dateToFormat;}
return result;}else{return"";}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.View.factory('Post').inherit({viewID:"Flat",defaults:{showSpooler:false,attrs:{icon:"icn-blg",rating:0,comments:0},tpl:["<div class='post tile-box'>","<a class='clickable-overlay' target='<%= this.attr('target'); %>' href='<%= this.attr('link'); %>' tabindex='-1'></a>","<div class='animated-block-holder'>","<div class='animated-block'>&nbsp;</div>","<div class='text-block s-light'>","<h3 class=''><%== this.attr('subject'); %></h3>","</div>","</div>","<div class='action-block theme-color'>","<span class='icon_cnt <%= this.attr('icon'); %>' >","<i>&nbsp;</i>","<a title='<%= this.attr('rm_text'); %>' class='blog-post' target='<%= this.attr('target'); %>' href='<%= this.attr('link'); %>' tabindex='777'>","<span><%= this.attr('rm_text'); %></span>","</a>","</span>","<%if(isNumber(this.attr('comments'))){ %>","<a class='link_icn icn-cmm' href='javascript:void(0)' tabindex='-1'><%= this.attr('comments'); %></a>","<% } %>","<%if(this.attr('rating')){ %>","<a class='link_icn <%= getClassNameByRating(this.attr('rating')) %>' href='javascript:void(0)' tabindex='-1'><%= this.attr('rating'); %></a>","<% } %>","</div>","</div>"].join("")}},{'_set:rating':function(val){return val*1||0;}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.View.factory("Post").inherit({viewID:"Short",defaults:{attrs:{authorLink:"",authorName:"",date:""},tpl:["<div class='post short-template secondary-typography'>","<h3 class='font-lh4'>","<a href='<%= this.attr('link'); %>' title='<%= this.attr('subject'); %>'><%== this.attr('subject'); %></a>","</h3>","<div class='post-info'>","<a target='<%= this.attr('target'); %>' href='<%= this.attr('authorLink'); %>'><%= this.attr('authorName'); %></a>","<br/>","<span class='meta footnote'><%= this.attr('date'); %></span>","</div>","</div>"].join("")}},{});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.View.factory("Post.Short").inherit({viewID:"!Post.Regular",defaults:{tpl:["<div class='post'>","<h3 class='font-h6'><%== this.attr('subject'); %></h3>","<div class='post-info footnote'>","<a href='<%= this.attr('authorLink'); %>'><%= this.attr('authorName'); %></a>","<span class='meta'>&nbsp;|&nbsp;</span>","<span class='meta'><%= this.attr('date'); %></span>","</div>","<div class='post-body'><%== this.attr('body'); %></div>","<a target='<%= this.attr('target'); %>' href='<%= this.attr('link'); %>'><%= this.attr('rm_text'); %></a>","</div>"].join("")}},{});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.View.factory("Post.Regular").inherit({viewID:"!Post.Extended",defaults:{attrs:{commentsText:"Comments",comments:0,kudosText:"Kudos",kudos:0},tpl:["<div class='post'>","<h3 class='font-h6'><%== this.attr('subject'); %></h3>","<div class='post-info footnote'>","<a href='<%= this.attr('authorLink'); %>' title='<%= this.attr('authorName'); %>'>","<%= this.attr('authorName'); %>","</a>","<span class='meta'>&nbsp;|&nbsp;</span>","<span class='meta'><%= this.attr('date'); %></span>","<div class='second-row'>","<%if(isNumber(this.attr('comments'))){ %>","<span class='meta'><%= this.attr('commentsText'); %>: <%= this.attr('comments'); %>&nbsp;|&nbsp;</span>","<% } %>","<span class='meta'><%= this.attr('kudosText');%>: <%= this.attr('kudos'); %></span>","</div>","</div>","<div class='post-body'><%== this.attr('body'); %></div>","<a target='<%= this.attr('target'); %>' href='<%= this.attr('link'); %>'><%= this.attr('rm_text'); %></a>","</div>"].join("")}},{});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){var Post=HP.View.factory("Post");HP.View.factory("Rotating").inherit({viewID:"Featured",defaults:{subjectLength:30,showSpooler:true,extraDataURLs:{authorRank:"http://<%= domain %>/hpeb/restapi/vc/users/id/<%= id %>/ranking",authorPic:"http://<%= domain %>/hpeb/restapi/vc/users/id/<%= id %>/profiles/avatar"},rotatingEl:".post-description-cnt",attrs:{rm_text:"Read Blog Article",icon:"icn-blg",comments:0,rating:0,authorLink:"#",authorName:"",authorPic:"",authorRank:"",date:"",header:"",subject:"",link:"",threadLink:"#",title:"HP Blog",target:"_self"},tpl:["<div class='featured'>"+"<div class='post bkg-color-type2 <%== this.attr('header') ? 'rss' : '' %>'>"+"<h3 class='font-h5 s-light theme-color'>"+"<a href='<%== this.attr('threadLink') %>' target='<%== this.attr('target') %>' data-metrics-title='<%== this.attr('title') %>'><%== this.attr('title') %></a>"+"</h3>"+"<div class='post-description-wrapper'>"+"<div class='post-description-cnt'>"+"<%if(!this.attr('header')){ %>","<div class='author footnote'>"+"<div class='avatar'>"+"<a data-metrics-title='<%== this.attr('subject') %>' href='<%== this.attr('authorLink') %>'>"+"<%if(this.attr('authorPic')){ %>","<img width='55' <%== 'src=\"' + this.attr('authorPic') + '\"' %>/>"+"<% } %>","</a>"+"</div>"+"<div class='name'><a data-metrics-title='<%== this.attr('subject') %>' href='<%== this.attr('authorLink') %>'><%== this.attr('authorName') %></a></div>"+"<div class='rank meta'><%== this.attr('authorRank') %></div>"+"</div>"+"<% } %>","<%if(this.attr('header')){ %>","<div class='post-topic s-light'>"+"<a title='<%== this.attr('header') %>' data-metrics-title='<%== this.attr('header') %>' target='<%== this.attr('target') %>' href='<%== this.attr('link') %>' tabindex='-1'>"+"<%== this.attr('header') %>"+"</a>"+"</div>"+"<% } %>","<%if(!this.attr('header') || this.attr('header') !== this.attr('subject')){ %>","<div class='post-body s-light'>"+"<a title='post-title' data-metrics-title='<%== this.attr('subject') %>' target='<%== this.attr('target') %>' href='<%== this.attr('link') %>' tabindex='-1'>"+"<%== this.attr('subject') %><span class='text-end'>&#160;</span>"+"</a>"+"</div>"+"<% } %>","<%if(this.attr('date')){ %>"+"<div class='post-info s-light footnote'>(<%== this.attr('date') %>)</div>"+"<% } %>"+"</div>"+"</div>"+"<div class='action-block theme-color'>"+"<span class='icon_cnt <%= this.attr('icon'); %>'>"+"<i>&#160;</i>"+"<a title='<%== this.attr('rm_text') %>' data-metrics-title='<%== this.attr('rm_text') %>' class='blog-post' target='<%== this.attr('target') %>' href='<%== this.attr('link') %>' tabindex='-1'>"+"<span><%== this.attr('rm_text') %></span>"+"</a>"+"</span>"+"<%if(isNumber(this.attr('comments'))){ %>","<span class='link_icn icn-cmm' href='javascript:void(0);' tabindex='-1'><%= this.attr('comments'); %></span>","<% } %>","<%if(this.attr('rating')){ %>","<a class='link_icn <%= getClassNameByRating(this.attr('rating')) %>' href='javascript:void(0)' tabindex='-1'><%= this.attr('rating'); %></a>","<% } %>","</div>"+"</div>"+"</div>"].join("")}},{'init':function(){if(this.options.showSpooler){HP.Control.init(HP.Spooler,this.options.container);}
this._super();},'getDefaulrAuthorSrc':function(){return this.options.defaultAuthorSrc;},'_cutByWords':Post.prototype['_cutByWords'],'_get:subject':Post.prototype['_get:subject'],'_get:date':Post.prototype['_get:date']});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.View.factory('Post').inherit({viewID:"Wide",defaults:{showSpooler:false,attrs:{rating:0,comments:0,commentsText:"comments",clickableTitle:false,img:{src:"",width:0,height:0}},tpl:["<div class='thread-image'>","<div class='image-cnt'>","<img src='<%= this.attr('img').src; %>' width='<%= this.attr('img').width ? this.attr('img').width : 'auto' ; %>' height='<%= this.attr('img').height ? this.attr('img').height : 'auto' ; %>'/>","<a href='<%= this.attr('link'); %>' target='<%= this.attr('target'); %>' data-metrics-title='<%== this.attr('rm_text') %>' class='clickable-overlay'></a>","</div>","<h3 class='font-lh3 hidden'>","<%if(this.attr('clickableTitle')){ %>","<a href='<%= this.attr('link'); %>' data-metrics-title='<%== this.attr('rm_text') %>' target='<%= this.attr('target'); %>'><%= this.attr('subject'); %></a>","<% }else{ %>","<span><%= this.attr('subject'); %></span>","<% } %>","</h3>","</div>","<div class='post-text-block'>","<div class='post wide'>","<h3 class='font-lh3'>","<%if(this.attr('clickableTitle')){ %>","<a href='<%= this.attr('link'); %>' data-metrics-title='<%== this.attr('rm_text') %>' target='<%= this.attr('target'); %>'><%= this.attr('subject'); %></a>","<% }else{ %>","<%= this.attr('subject'); %>","<% } %>","</h3>","<div class='post-info footnote'>","<a href='<%= this.attr('authorLink'); %>' data-metrics-title='<%== this.attr('authorName') %>'><%= this.attr('authorName'); %></a>","<span class='meta'>&nbsp;|&nbsp;</span>","<span class='meta'><%= this.attr('date'); %></span>","<%if(isNumber(this.attr('comments'))){ %>","<a class='comments'><%= this.attr('comments'); %>&nbsp;<%= this.attr('commentsText'); %></a>","<% } %>","</div>","<div class='post-body s-light'><%== this.attr('body'); %><span class='text-end'>&nbsp;</span></div>","<a href='<%= this.attr('link'); %>' target='<%= this.attr('target'); %>' data-metrics-title='<%== this.attr('rm_text') %>' class='button secondary'>","<span><%= this.attr('rm_text'); %></span>","</a>","</div>","</div>"].join("")}},{'init':function(){this._super();var self=this;this._ready.done(function(){$(self.options.container).trigger('HP.Post.Wide.ready');});},'_set:rating':function(val){return val*1||0;},'_set:subject':function(subject){$(this.options.container).attr("data-metrics-title",subject);return subject;}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){$.easing.easeInQuint=function(p){return Math.pow(p,1+2);};})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.TwitterFeed=can.Control({defaults:{rotateQnt:10,showRetweets:true,bkgColorType:'bkg-color-type2',tpl:'Rotating.Twitter',twtCntSelector:'.js-util-wrapper',widgetId:'388253608120029185'},vars:{view:null}},{init:function(element,options){var options=this.options,wrapper=this.element.find(this.options.twtCntSelector);if(!window.twitterFetcher)
return;this.updateOptionsFromMarkup();this.view=HP.View.factory(options.tpl,{container:(wrapper.length>0?wrapper:this.element),rotateInterval:options.rotateInterval,attrs:{readMoreText:options.readMoreText,replyText:options.replyText,retweetText:options.retweetText,bkgColorType:options.bkgColorType}});var config={"id":options.widgetId,"domId":'',"maxTweets":options.rotateQnt,"enableLinks":true,"showUser":true,"showTime":true,"dateFunction":'',"showRetweet":options.showRetweets,"customCallback":$.proxy(this.processTweets,this),"showInteraction":true};window.twitterFetcher.fetch(config);},updateOptionsFromMarkup:function(){var markupOpts={widgetId:this.element.attr("data-widget-id"),readMoreText:this.element.attr("data-read-more-text"),rotateInterval:parseInt(this.element.attr("data-rotate-interval"),10),rotateQnt:parseInt(this.element.attr("data-rotate-number"),10),replyText:this.element.attr("data-reply-text"),retweetText:this.element.attr("data-retweet-text"),showRetweets:this.element.parent().hasClass("disable-retweets")?false:true};for(prop in markupOpts){if(markupOpts[prop]||markupOpts[prop]===false){this.options[prop]=markupOpts[prop];}}},_parseTweet:function(tweet){var source=$("<div></div>").html(tweet);return{author:source.find("div.user span:last").text(),body:$(source.find("p.tweet")[0].childNodes),replyLink:source.find(".twitter_reply_icon").attr("href"),retweetLink:source.find(".twitter_retweet_icon").attr("href"),id:source.find("a.twitter_reply_icon").attr("href").substring(45)};},processTweets:function(tweets){var parseTweet=this._parseTweet;if(tweets.length<1){this.view.error("Error occured during tweet receiving process.");return;}
this.view.attr("_items",$.map(tweets,function(tweet){return parseTweet(tweet);}));}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){var MULTIPLAY_NODES=["rss>channel","rss>channel>item"];$.ajaxSetup({converters:{"text RSS2":function(responce){var result=null,push=function(obj,value,key,ns){if($.inArray(ns,MULTIPLAY_NODES)>-1){(!$.isArray(obj[key]))&&(obj[key]=[]);obj[key].push(value);}else{obj[key]=value;}
return obj[key];},parseXMLNode=function(nodes,json,xpath){nodes.children().each(function(){var tagName=this.tagName,ns=xpath+">"+tagName,$this=$(this);if($this.children().length){var childs={};push(json,childs,tagName,ns);parseXMLNode($this,childs,ns);}else{push(json,$this.text(),tagName,ns);}});};if(responce){(typeof responce==="string")&&(responce=$.parseXML(responce));var RSS=$(responce).find("rss");if(parseInt(RSS.attr("version"),10)===2){result={};try{parseXMLNode(RSS,result,"rss");if(!result.channel||!result.channel.length||!result.channel[0].item||!result.channel[0].item.length){result=null;}}catch(e){result=null;}}}
if(!result)throw new Error("Invalid RSS 2.0 format.");return result;}}})})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){var Loader=can.Construct({defaults:{views:[],errorMessage:"Error occured during post receiving process...",mapping:null,autoLoad:true,complete:$.Deferred()}},{init:function(options){(options)&&(this._initOptions(options));this.options.mapping=can.route.deparam((this.options.mapping||"").replace(/:/g,"=").replace(/;/g,"&"))||{};(this.options.autoLoad)&&(this.load());},_initOptions:function(options){return this.options=$.extend(true,{},this.constructor.defaults,this.options,options);},validate:function(){return true;},getRequestParams:function(){return{};},load:function(){var self=this,params=this.getRequestParams(),xhr=$.Deferred(),cache=new HP.Utils.Cache("HP.BlogFeed.Urls");params.context=this;var uid=params.url+"?"+$.param(params.data);if(cache.get(uid)){this.success.call(this,[cache.get(uid),'success',xhr]);xhr.resolveWith(this,cache.get(uid));}else{xhr=$.ajax(params);xhr.done(function(result){cache.set(uid,result);this.success.apply(this,arguments);}).fail(function(xhr,type,message){self.error(message,type,xhr);});}
return xhr;},success:function(result,status,xhr){var self=this,validateResult=this.validate(result,status,xhr);if(validateResult===true){result=this.prepareView(result);$.each(result,function(key,val){self.processView(self.options.views[key],val);});this.options.complete.resolveWith(this,[result]);}else{this.error(validateResult||this.options.errorMessage,"validationerror",xhr);}},isRotatingView:function(){return!!(this.options.views.length===1&&this.options.views[0]instanceof HP.View.factory("Rotating"));},prepareView:function(result){(!$.isArray(result))&&(result=[result]);(this.isRotatingView())&&(result=[result]);(result.length>this.options.views.length)&&(result.length=this.options.views.length);return result;},processView:function(view,data){data=this.processData(view,data);$.each(data,function(key,value){view.attr(key,value);});return view;},processData:function(view,data){var specialConverter=this["to:"+view.constructor.viewID],result={};(specialConverter)&&(result=specialConverter.call(this,data));result=this.processDataWithMapping(data,result);return result||{};},processDataWithMapping:function(source,result){$.each(this.options.mapping||{},function(key,val){for(var i=0,ns=source,keys=val.split("."),l=keys.length-1;(i<=l)&&ns;ns=ns[keys[i]],i++);result[key]=(typeof ns!=="undefined")?ns:result[key];});return result||{};},error:function(message){var self=this;$.each(this.options.views,function(i,view){view.error(message||self.options.errorMessage);});}}),RSS2Loader=Loader.extend({defaults:{proxy:("localhost|ui-cs-dev.ads.corp.hp.com".indexOf(window.location.hostname)!=-1)?"/ui-fw-2.0/proxy.jsp":"/flex/rssDomainProxy.handler",errors:{invalidURL:"Invalid RSS 2.0 URL"},url:""}},{'init':function(options){options=this._initOptions(options);if(!options.url){this.error(options.errors.invalidURL);return;}
this._super();},'getRequestParams':function(){return{url:this.options.proxy,dataType:"text RSS2",data:{url:this.options.url}};},'to:Post.Flat':function(RSS){var item=RSS.channel[0].item[0];return{subject:item.title,link:item.link,rating:item.rating}},'to:Rotating.Featured':function(RSS){RSS=RSS[0]||{};var posts=[],self=this;$.each(RSS.channel,function(channelIndex,channel){$.each(channel.item,function(itemIndex,item){var post={comments:item.comments,rating:parseInt(item.rating,10),authorLink:item.authorLink,authorName:item.author,authorPic:item.authorPic,authorRank:item.authorRank,date:item.date,header:item.title,subject:item.description,link:item.link,title:self.title,threadLink:channel.link};self.processDataWithMapping(item,post);posts.push(post);});});return{_items:posts};}}),HPBlogLoader=Loader.extend({defaults:{feedId:"sws-571",errors:{invalidFeedId:"Invalid Feed ID",feedHostNotFound:"Feed not found"},threadsLimit:1,feedDomain:null,extraDataURLs:{authorRank:"//<%= domain %>/hpeb/restapi/vc/users/id/<%= id %>/ranking",authorPic:"//<%= domain %>/hpeb/restapi/vc/users/id/<%= id %>/profiles/avatar"},domains:{"h30499.www3.hp.com":"//h30499.www3.hp.com/hpeb/restapi/vc/boards/id/<%== feedId %>/<%== queryPath %>","h30507.www3.hp.com":"//h30507.www3.hp.com/hpblogs/restapi/vc/boards/id/<%== feedId %>/<%== queryPath %>"},separator:'|'}},{'init':function(options){this._domainsByFeed={};options=this._initOptions(options);var urlRegExp=/(http|ftp|https):\/\/([\w-]+)+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/ig;this.tagQuery=HP.Utils.getUrlParamValue("tag",options.feedId);this.labelQuery=HP.Utils.getUrlParamValue("label",options.feedId);this.queryPath=this._getQuery();if(urlRegExp.test(options.feedId)){options.feedId=options.feedId.split('?')[0];var parts=options.feedId.split("/"),length=parts.length;while(length--){if(parts[length]==="bg-p"){options.feedDomain=parts[2];options.feedId=parts[length+1];break;}}}
if(!options.feedId){this.error(options.errors.invalidFeedId);return;}
options.feedId=$.map(options.feedId.toString().split(","),$.trim);options.threadsLimit=(options.threadsLimit===1?Math.ceil(options.views.length/options.feedId.length):options.threadsLimit);this._super();},_getQuery:function(){if(!this.tagQuery&&!this.labelQuery){return'threads';}
var tags=this.tagQuery?('tags:("'+this.tagQuery.split(this.options.separator).join('" AND "')+'")'):'';var labels=this.labelQuery?('labels:("'+this.labelQuery.split(this.options.separator).join('" AND "')+'")'):'';return'search/messages?q='+tags+labels+'&sort_by=-date';},_getFeedIDWithQuery:function(feedid){if(!this.tagQuery&&!this.labelQuery){return feedid+'/threads';}
var tags=this.tagQuery?('tags:'+this.tagQuery+'|'):'';var labels=this.labelQuery?('labels:'+this.labelQuery+'|'):'';return feedid+'/messages/'+tags+labels;},'hasFeedDomain':function(){return!!this.options.feedDomain;},'loadFeed':function(feedid){var self=this,xhr=$.Deferred(),domain="",domainsByFeed=this._domainsByFeed[feedid]||(this._domainsByFeed[feedid]={}),tryAgainWithOtherDomain=function(){return self.loadFeed(feedid).then(function(){xhr.resolveWith(self,cache.set(self._getFeedIDWithQuery(feedid),arguments));},function(message){xhr.rejectWith(self,message?[message]:void 0);});},cache=new HP.Utils.Cache("HP.BlogFeed.Feeds");if(cache.get(this._getFeedIDWithQuery(feedid))){xhr.resolveWith(self,cache.get(this._getFeedIDWithQuery(feedid)));}else{if(this.hasFeedDomain()){domain=this.options.feedDomain;}else{$.each(this.options.domains,function(key,val){if(!domainsByFeed[key]){domain=key;domainsByFeed[key]=true;return false;}});}
if(domain){$.ajax(this.getRequestParams(feedid,domain)).then(function(results,status,jxhr){var result=results.response,thread;if(result&&result.status==="success"&&(result.threads||result.messages)){if(result.threads&&result.threads.thread){thread=result.threads.thread;}else if(result.messages){thread=result.messages;}
(!$.isArray(thread))&&(thread=[thread]);delete domainsByFeed[domain];xhr.resolveWith(self,cache.set(self._getFeedIDWithQuery(feedid),[thread,result.status,jxhr]));}else{if(self.hasFeedDomain()){if(self.tagQuery||self.labelQuery){domainsByFeed=self._domainsByFeed[feedid]||(self._domainsByFeed[feedid]={}),self.tagQuery=self.labelQuery=null;self.queryPath=self._getQuery();return tryAgainWithOtherDomain();}
xhr.rejectWith(self,[(result.error||{}).message]);}else{tryAgainWithOtherDomain();}}},function(){tryAgainWithOtherDomain();});}else{xhr.rejectWith(self,[self.options.errors.feedHostNotFound]);}}
return xhr;},'loadAuthorInfo':(function(){var cache=new HP.Utils.Cache("HP.BlogFeeds.Authors"),getRequestParams=function(item,id,domain){return{url:can.view.ejs(this.options.extraDataURLs[item]).render({domain:domain,id:id}),dataType:"jsonp",data:{"xslt":"json.xsl","restapi.response_style":"view"}};};return function(authorLink){var xhr=$.Deferred(),self=this,userLink=authorLink.split("/"),userID=userLink[userLink.length-1],domain=userLink[2],authorUid=domain+"/"+userID;if(cache.get(authorUid)){xhr.resolveWith(this,[cache.get(authorUid)]);}else{$.when($.ajax(getRequestParams.call(self,"authorRank",userID,domain)),$.ajax(getRequestParams.call(self,"authorPic",userID,domain))).done(function(authorRank,authorPic){xhr.resolveWith(self,[cache.set(authorUid,{authorLink:authorLink,authorRank:authorRank[0].response.ranking.name.$,authorPic:authorPic[0].response.image.url.$})]);});}
return xhr;};})(),'load':function(){var self=this,requests,xhr=$.Deferred().done(this.success).fail(this.error);requests=$.map(this.options.feedId,$.proxy(this.loadFeed,this));$.when.apply(self,requests).done(function(){var results=(arguments.length!==requests.length)?[arguments]:arguments,threads=[];$.each(results,function(key,val){if(val[0]!==undefined){$.merge(threads,val[0]);}else{console.log('blog feed wrong result',results);}});xhr.resolveWith(self,[threads,"success",arguments]);}).fail(function(message){xhr.rejectWith(self,[message]);});return xhr;},success:function(result,status,xhr){var self=this,validateResult=this.validate(result,status,xhr);if(validateResult===true){if(result&&result.length==1&&result[0].message){$.each(result[0].message,function(key,val){result[0].message[key].message=result[0].message[key];})
result=result[0].message;}
result=this.prepareView(result);$.each(result,function(key,val){self.processView(self.options.views[key],val);});this.options.complete.resolveWith(this,[result]);}else{this.error(validateResult||this.options.errorMessage,"validationerror",xhr);}},'getRequestParams':function(feed,domain){return{dataType:"jsonp",url:can.view.ejs(this.options.domains[domain]).render({feedId:feed,queryPath:this.queryPath}),data:{"xslt":"json.xsl","restapi.format_detail":"full_list_element","restapi.response_style":"view","message_viewer.topic_sort_order":"topic_start_date","page_size":this.options.threadsLimit}};},'_processMessage':function(data){if(!data._message){var messages=data.messages,msg;if(data.hasOwnProperty('message')){msg=data.message;if($.isArray(msg)){msg=msg[0];}}else{msg=messages.topic;if($.isArray(msg)){$.each(msg,function(key,value){if(!value.parent.href){msg=value;return false;}});(msg===messages.topic)&&(msg=msg[0]);}
msg.comments=parseInt(messages.count.$,10)-1;}
data._message=msg;}
return data._message;},'to:Post':function(data){var msg=this._processMessage(data);return{subject:msg.subject.$,body:msg.body.$,link:msg.view_href};},'to:Post.Flat':function(data){var msg=this._processMessage(data);return $.extend({comments:msg.comments||0},this["to:Post"].call(this,data));},'to:Post.Wide':function(data){var msg=this._processMessage(data);return $.extend({comments:msg.comments||0},this["to:Post.Regular"].call(this,data));},'to:Post.Short':function(data){var msg=this._processMessage(data);return $.extend({authorLink:msg.author.view_href,authorName:msg.author.login.$,date:msg.post_time.view_date},this["to:Post.Flat"].call(this,data));},'to:Post.Regular':function(data){var msg=this._processMessage(data);return $.extend({},this["to:Post.Short"].call(this,data));},'to:Post.Extended':function(data){var msg=this._processMessage(data);return $.extend({kudos:msg.kudos.count.$},this["to:Post.Regular"].call(this,data));},'to:Rotating.Featured':function(data){var self=this,posts=[];if($.isArray(data)&&data[0].hasOwnProperty('message')&&$.isArray(data[0].message)){data=$.map(data[0].message,function(item){return{message:item};});}
$.each(data,function(index,item){item=self._processMessage(item);var post={comments:item.comments||0,authorLink:item.author.view_href,authorName:item.author.login.$,authorPic:"",authorRank:"",date:item.post_time.view_date,subject:item.subject.$,link:item.view_href,title:self.options.feedTitle,threadLink:item.board.view_href};self.loadAuthorInfo(post.authorLink).done(function(userInfo){$.extend(item.author,userInfo||{});$.extend(post,userInfo||{});self.processDataWithMapping(item,post);self.options.views[0].setAttrCollection(index,post);index===0&&self.options.views[0]['modify:index'](null,null,0);});self.processDataWithMapping(item,post);posts.push(post);});return $.extend({},{_items:posts});}});HP.BlogFeed=can.Control({defaults:{postContainerSelector:".post-cnt",viewAllSelector:".view-all-cnt a",templateType:"regular",mapping:null,subjectLength:7,bodyLength:20,viewAllURL:"",threadsLimit:0,feedTitle:"HP Blog",clickableTitle:false}},{init:function(element,options){var self=this,viewAllLink;this.updateOptionsFromMarkup();viewAllLink=this.element.find(this.options.viewAllSelector);(this.options.viewAllURL)&&viewAllLink.attr("href",this.options.viewAllURL);var ViewID=this.options.templateType,viewName=ViewID.charAt(0).toUpperCase()+ViewID.slice(1),Loader,views=[],loaderOptions={views:views,mapping:this.options.mapping,complete:$.Deferred()},posts=this.element.find(this.options.postContainerSelector);posts.addClass('clf');loaderOptions.complete.done(function(){$("body").trigger("HP.BlogFeed.contentReady",{blogFeedWidget:self});});ViewID=(viewName=="Featured")?"Rotating."+viewName:"Post."+viewName;posts.each(function(){var options=self.options;views.push(HP.View.factory(ViewID,{container:this,subjectLength:options.subjectLength,bodyLength:options.bodyLength,rotateInterval:options.rotateInterval,attrs:{target:options.target,icon:options.icon,rm_text:options.readMoreText,title:options.feedTitle,clickableTitle:options.clickableTitle,img:{src:options.imgSrc,height:options.imgHeight,width:options.imgWidth}}}));});if(this.options.requestType==="xml"){loaderOptions.url=this.options.feedId;Loader=RSS2Loader;}else{loaderOptions.complete.done(function(threads){var viewAllURL=self.options.viewAllURL||viewAllLink.attr("href");try{if(!viewAllURL){viewAllURL=window.location.protocol+"//www.hp.com/go/blogs";if(this.options.feedId.length===1){var msg=threads[0].messages.linear.message;msg=$.isArray(msg)?msg[msg.length-1]:msg;viewAllURL=msg.board.view_href;}}
viewAllLink.attr("href",viewAllURL);}catch(e){}});loaderOptions.feedId=this.options.feedId;if(this.options.threadsLimit){loaderOptions.threadsLimit=this.options.threadsLimit;}
Loader=HPBlogLoader;}
new Loader(loaderOptions);},updateOptionsFromMarkup:function(){var markupOpts={feedId:this.element.attr("data-feed-id"),templateType:this.element.attr("data-template-type"),subjectLength:parseInt(this.element.attr("data-subject-length"),10),bodyLength:parseInt(this.element.attr("data-body-length"),10),readMoreText:this.element.attr("data-read-more-text"),icon:this.element.attr("data-icon"),viewAllURL:this.element.attr("data-view-all-url"),postUrlDomain:this.element.attr("data-post-url-domain"),requestType:this.element.attr("data-request-type"),rotateInterval:parseInt(this.element.attr("data-rotate-interval"),10),mapping:this.element.attr("data-mapping"),target:this.element.attr("data-target"),threadsLimit:parseInt(this.element.attr("data-threads-limit"),10),feedTitle:this.element.attr("data-feed-title"),clickableTitle:this.element.attr("data-clickable-title"),imgSrc:this.element.attr("data-image-src"),imgHeight:this.element.attr("data-image-height"),imgWidth:this.element.attr("data-image-width")};markupOpts.clickableTitle=(markupOpts.clickableTitle==="true"?true:false);for(prop in markupOpts){(markupOpts[prop])&&(this.options[prop]=markupOpts[prop]);}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.BlogFeedFlex2=HP.BlogFeed({updateOptionsFromMarkup:function(){var urlRegExp=/(http|ftp|https):\/\/([\w-]+)+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/ig,viewAllURL=this.element.attr("data-view-all-url"),viewAllLink=this.element.find(this.options.viewAllSelector);this.on();this._super()
if(!urlRegExp.test(viewAllURL)){if(!urlRegExp.test(viewAllLink.attr('href'))){viewAllLink.attr('href','');}}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.LightBox=HP.OverlayPopup({defaults:{targetAttrName:'rel'}},{'init':function(element,options){this.options.triggerEl=this.element;this.element=HP.Utils.getElementById(this.options.triggerEl.first().attr(this.options.targetAttrName));if(!this.element){return;}
this.on();this._super();}});HP.LightBox.init=function(element,options){var groups={};var attrName=options.targetAttrName||HP.LightBox.defaults.targetAttrName;var attrValue;element.each(function(index,el){attrValue=$(el).attr(attrName);if(attrValue){if(!groups[attrValue]){groups[attrValue]=[el];}else{groups[attrValue].push(el);}}});$.each(groups,function(key,value){new HP.LightBox(value,options);});};})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.LightBoxWithVideo=HP.OverlayPopup({defaults:{onInit:HP.Accessibility.Overlay,targetAttrName:'rel',playOnShow:true,fxShow:{effect:'fadeTo',duration:200,easing:null},fxHide:{effect:'fadeTo',duration:100,easing:null},htmlClass:'overlay-lightbox',vAlign:true,fitContentClass:"fit-content"}},{'init':function(element,options){var correspOverlay=$('#'+this.element.attr('rel'));if(correspOverlay.hasClass('video-overlay-gallery')){this.options.htmlClass='video-overlay-gallery';this.options.vAlign=true;this.options.fixed=false;}
this.options.triggerEl=this.element;this.options.hasAmbientVideo=(this.element.parents('.molecule-971').length>0);this.element=HP.Utils.getElementById(this.options.triggerEl.first().attr(this.options.targetAttrName));if(!this.element){return;}
if(correspOverlay.length>0&&$('.molecule-811, .molecule-825',correspOverlay).length>0){this.options.playOnShow=false;}
if(this.options.hasAmbientVideo){this.element.addClass('ambient-overlay');}else{this.element.toggleClass('video-overlay',this.element.find('.video-container').length>0);}
this.on();this._super();this.element.addClass('hidden');var overlayEl=this.options.overlayEl;var triggerEl=this.options.triggerEl;var _self=this;var youtubeContainer=_self.element.find(".js-youtube-player");var playerContainer=_self.element.find(".js-brightcove-player");this.options.fxHide.onComplete=function(){if(youtubeContainer.length!=0){youtubeContainer.trigger('stop-video-event');}
if(playerContainer.length!=0){playerContainer.trigger('pause-video-event');if(HP.Brightcove.queueVideoId){HP.Brightcove.queueVideoId=' ';}}
setTimeout(function(){_self.element.addClass('hidden');},_self.options.fxHide.duration);overlayEl.fadeOut();_self.options.exactOpener.focus();$(window).trigger('overlay-with-video-closed');try{VideoAnalytics.Brightcove.stopVideo()}catch(e){console.log(e);}};if(this.options.playOnShow){this.options.fxShow.onComplete=function(){if(youtubeContainer.length!=0&&(typeof window.orientation==='undefined')&&youtubeContainer.first().find('.youtube-video-template').attr('data-autoplay')!=='false'){youtubeContainer.first().trigger('play-video-event');}
if(playerContainer.length!=0){if(typeof window.orientation==='undefined'&&HP.Brightcove.queueVideoId){var selectorId=playerContainer.first().selector.split(' ')[0].slice(1),eventsQueueIdVideo=selectorId+selectorId;HP.Brightcove.queueVideoId=eventsQueueIdVideo;}
playerContainer.first().trigger('play-video-event');}
$(window).trigger('updateEnterpriseLightbox');};}
if(this.element.hasClass('video-overlay')){var self=this;var resizeTimer;$(window).resize(function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){self._resizeToCenter();},250);});}},'show':function(){var videoWidth=this.element.find('.video-container').outerWidth();var triggeredButton=$("a[rel='"+this.element.attr('id')+"']");var isDarkOverlay=triggeredButton.parents('.flex2-molecule').hasClass('ambient-overlay-blk');var popupBkg=$('.popup-bkg');popupBkg.toggleClass('dark',this.element.find('.video-container').length>0);if(isDarkOverlay){popupBkg.addClass('bg-black');}
this.element.removeClass('hidden');this.element.css('width',videoWidth+'px');this._super();this.element.hasClass('video-overlay')&&this._resizeToCenter();if(this.options.hasAmbientVideo){this.adjustPosition();}
this.forcedSpoollerHide();},'hide':function(){this._super();$('.popup-bkg').removeClass('bg-black');},'_resizeToCenter':function(){var centerPopup=((window.innerHeight-$(this.element).outerHeight())/2)+'px';$(this.element).css('margin-top',centerPopup);},'adjustPosition':function(){var resizeTimer;var _self=this;function resizeVideo(){var top=_self.options.triggerEl.parents('.molecule-971').find('.immersive-video-background').offset().top+'px',width=_self.options.triggerEl.parents('.molecule-971').find('.immersive-video-background').width()+'px',height=_self.options.triggerEl.parents('.molecule-971').find('.immersive-video-background').height()+'px';_self.element.css({visibility:'visible',width:width,top:top,height:height,left:'0',margin:'0',padding:'0',backgroundColor:'#000',border:'0'});$('.popup-bkg').css({display:'none'});}
$(window).resize(function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(resizeVideo,250);});resizeVideo();},'forcedSpoollerHide':function(){var self=this;if(HP.meta.pageType=="FLEX2"){if(isIE){setTimeout(function(){$('.youtube-video-template',self.element).trigger('spoolerHide');},1000);}else{setTimeout(function(){$('.js-brightcove-player',self.element).trigger('spoolerHide');},1000);}}}});HP.LightBoxWithVideo.init=function(element,options){var groups={};var attrName=options.targetAttrName||HP.LightBoxWithVideo.defaults.targetAttrName;var attrValue;element.each(function(index,el){attrValue=$(el).attr(attrName);if(attrValue){if(!groups[attrValue]){groups[attrValue]=[el];}else{groups[attrValue].push(el);}}});$.each(groups,function(key,value){new HP.LightBoxWithVideo(value,options);});};$(document).on('click','.js_pop_close',function(){$('.popup-bkg').trigger('click');});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.LightBoxWithIframe=HP.OverlayPopup({defaults:{onInit:HP.Accessibility.Overlay,targetAttrName:'data-rel',htmlClass:'overlay-lightbox',fxShow:{effect:'fadeTo',duration:200,easing:null},fxHide:{effect:'fadeTo',duration:100,easing:null}},recalculateTimeout:null},{'init':function(element,options){var _self=this;this.options.triggerEl=this.element;this.idElement=this.options.triggerEl.first().attr(this.options.targetAttrName);this.element=HP.Utils.getElementById(this.options.triggerEl.first().attr(this.options.targetAttrName));if(!this.element){this.element=$('<div id="'+this.idElement+'" class="overlay-popup secondary-typography ">'+'<a class="screenReading" tabindex="-1">Beginning of dialog content</a>'+'<a tabindex="-1" href="javascript:void(0)" title="close button" class="js_pop_close popup-close link_icn icl_cls">'+'<span class="screenReading">click to close</span>'+'</a>'+'</div>');this.element.insertAfter(this.options.triggerEl);}
if(this.options.triggerEl.attr('rel')!=''&&this.options.triggerEl.attr('rel').indexOf('http')!=-1){var width=this.options.triggerEl.data("width")||800,height=this.options.triggerEl.data("height")||500,spacing=this.options.triggerEl.data("spacing")!=true,overlayWidth=width+38*2;src=this.options.triggerEl.attr('rel').replace(/\*\*/ig,'&');this.options.iframe=$('<iframe style="border:none" src="" width="'+width+'" height="'+height+'" title="lbiframe"></iframe>');this.element.append(this.options.iframe);if(spacing){this.element.addClass('no-spacing');}}
this.element.css({'visibility':'visible','width':overlayWidth}).hide();this._realignOnResize();this.on();this._super();this.options.fxHide.onComplete=function(){_self.element.hide();};this._checkHash();},_realignOnResize:function(){var self=this;$(window).on('resize',function(){clearTimeout(self.recalculateTimeout);self.recalculateTimeout=setTimeout(function(){self._resizeToCenter();},250);});},'_resizeToCenter':function(){var centerPopup=((window.innerHeight-$(this.element).outerHeight())/2)+'px';$(this.element).css('margin-top',centerPopup);},'show':function(){if(this.options.iframe.attr('src')==''){this.options.iframe.attr('src',this.options.triggerEl.attr('rel').replace(/\*\*/ig,'&'));};this._super();this._resizeToCenter();},'hide':function(){this.options.overlayEl.fadeOut(200);this._super();},'_checkHash':function(){if(window.location.hash.replace('#','')===this.idElement){this.show();}}});HP.LightBoxWithIframe.init=function(element,options){var groups={};var attrName=options.targetAttrName||HP.LightBoxWithIframe.defaults.targetAttrName;var attrValue;element.each(function(index,el){attrValue=$(el).attr(attrName);if(attrValue){if(!groups[attrValue]){groups[attrValue]=[el];}else{groups[attrValue].push(el);}}});$.each(groups,function(key,value){new HP.LightBoxWithIframe(value,options);});}})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.ImageGallery=can.Control({defaults:{contentSelector:'.js_images_popup_content',triggersContainerSelector:'.js_images_popup_items',extTriggersContainerSelector:'',inactiveClass:'drk'},vars:{selectedItemIndex:-1,triggers:null}},{'init':function(element,options){var popupImages=[];if(this.options.extTriggersContainerSelector){var triggerItemsContainer=this.element.find(this.options.triggersContainerSelector);var elementToClone=triggerItemsContainer.children().first().remove();var externalTriggers=$(this.options.extTriggersContainerSelector).find('a');var inactiveClass=this.options.inactiveClass;externalTriggers.find('img').each(function(index,el){el=$(el);var newEl=elementToClone.clone();newEl.find('a').data('index',index);popupImages.push(newEl);newEl=newEl.find('img');newEl.attr({'src':el.attr('src'),'rel':el.attr('rel')});el.removeAttr('rel');newEl.addClass(inactiveClass);});triggerItemsContainer.append(popupImages);this.triggers=triggerItemsContainer.find('a');this.on();}},'{_self.element} show':function(el,e){this.select(el.data('index'));},'select':function(index){var contentElements=this.element.find(this.options.contentSelector).children();if(this.selectedItemIndex!=-1){this.triggers.eq(this.selectedItemIndex).find('img').addClass(this.options.inactiveClass);contentElements.eq(this.selectedItemIndex).addClass('hidden');}
var imageEl=this.triggers.eq(index).find('img');imageEl.removeClass(this.options.inactiveClass);var contentEl=contentElements.eq(index);contentEl.removeClass('hidden');var relatedImage=imageEl.attr('rel');if(relatedImage){contentEl.find('img').attr('src',relatedImage);imageEl.removeAttr('rel');}
this.selectedItemIndex=index;},'{_self.triggers} click':function(el,e){this.select(el.data('index'));}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.LightBoxGallery=HP.OverlayPopup({defaults:{htmlClass:'lightbox-gallery-overlay',fxShow:{effect:'fadeTo'},contentSelector:'.js-gallery-popup-content',bulletsSelector:'.js-gallery-popup-bullets',bulletsWrapperSelector:'.js-gallery-bullets-wrapper',arrowsSelector:{prev:'.js-gallery-popup-previous',next:'.js-gallery-popup-next'},vAlign:false,hAlign:true,width:1010,height:600,targetAttrName:'rel',autoAdjust:false,fixed:false,loopContentElements:true,showArrows:true,showBullets:true,bulletsRepositionTimeout:null,onEach:null,onCurrent:null},vars:{selectedItemIndex:-1}},{'_initPopupElements':function(){this.contentElements=HP.Utils.getElementById(this.options.triggerEl.first().attr(this.options.targetAttrName)).children();this.$originElement=this.options.triggerEl.first().parents('.flex2-molecule');this.element.addClass('overlay-popup lightbox-gallery-popup pop_cnt flex2-molecule');this.element.attr('data-metrics-identifier',this.$originElement.data('metrics-identifier'))
this.element.attr('data-metrics-title',this.$originElement.data('metrics-title'))
if(!!this.options.themeClass){this.element.addClass(this.options.themeClass);}
this.element.removeClass('hidden');this.element.outerWidth(this.options.width);this.element.height(this.options.height);if(!!this.options.fixed){this.element.css('position','fixed');}
var closeBtn=$(['<div class="lightbox-popup-close-wrapper">','<div class="cl_box">','<a href="javascript:void(0);" class="js_pop_close popup-close">','<span></span>','</a>','</div>','</div>'].join(''));this.element.append(closeBtn);var contentElementsContainer=$('<div class="popup_cnt lightbox-gallery-content '+this.options.contentSelector.substring(1)+'"></div>');this.contentElements.each(function(index,el){$(el).appendTo(contentElementsContainer).addClass('popup-content hidden');});this.element.append(contentElementsContainer);if(this.options.showBullets){var bulletsSelector=this.options.bulletsSelector.substring(1);this.element.append($(['<div class="lightbox-gallery-bullets">','<div class="lightbox-gallery-bullets-wrapper ',this.options.bulletsWrapperSelector.substring(1),'">','<div class="lightbox-gallery-bullets-line ',bulletsSelector,'"></div>','</div>','</div>','<div class="lightbox-gallery-bullets mobile ',bulletsSelector,'">','</div>'].join('')));}
if(!!this.options.showArrows){var prevArrow=$('<div class="lightbox-gallery-arrow lightbox-gallery-prev '+this.options.arrowsSelector.prev.substring(1)+'"><a href="javascript:;"  data-metrics-link-type="link" data-metrics-title="prev arrow"><span class="icon-left"></span></a></div>');var nextArrow=$('<div class="lightbox-gallery-arrow lightbox-gallery-next '+this.options.arrowsSelector.next.substring(1)+'"><a href="javascript:;"  data-metrics-link-type="link" data-metrics-title="next arrow"><span class="icon-right"></span></a></div>');if(this.options.showBullets){this.element.find('.lightbox-gallery-bullets:not(".mobile")').append(prevArrow).append(nextArrow);}else{this.element.append(prevArrow);this.element.append(nextArrow);}}
if(HP.pageConfig.get('isResponsive')){this.initSwipe(contentElementsContainer);}},initSwipe:function($container){var self=this;$container.swipe({swipeStatus:function(event,phase,direction,distance,duration,fingers){if(phase=="start"){isSwiping=true;}else if(phase=="cancel"||phase=="end"){isSwiping=false;}},swipeLeft:function(evt,direction,distance,duration,fingerCount){self.select('+1');},swipeRight:function(evt,direction,distance,duration,fingerCount){self.select('-1');},excludedElements:'',threshold:50,allowPageScroll:'vertical'});},'_initNavigation':function(){var prev=$(this.element).find(this.options.arrowsSelector.prev).children('a').data('index','-1');var next=$(this.element).find(this.options.arrowsSelector.next).children('a').data('index','+1');var thumbnails=$(this.element).find(this.options.bulletsSelector).eq(0).find('> a').each(function(index,el){$(el).data('index',index);});var bullets=$(this.element).find(this.options.bulletsSelector).eq(1).find('> a').each(function(index,el){$(el).data('index',index);});this.triggers=bullets.add(thumbnails);this.arrows=prev.add(next);},'_initBulletElements':function(){if(this.options.showBullets){var bulletsContainers=this.element.find(this.options.bulletsSelector),thumbnailsContainer=bulletsContainers.eq(0),mobileBulletsContainer=bulletsContainers.eq(1),thumbnailsHtml='',bulletsHtml='',self=this,firstThumbnailWidth,lastThumbnailWidth,margin;if(!bulletsContainers.length){return;}
var elements=this._getThumbnailsData();$(elements).each(function(index,el){thumbnailsHtml+=self._createThumbnail(el);bulletsHtml+=self._createBullet(el);});thumbnailsContainer.append(thumbnailsHtml);mobileBulletsContainer.append(bulletsHtml);firstThumbnailWidth=thumbnailsContainer.children().eq(0).outerWidth(true);lastThumbnailWidth=thumbnailsContainer.children().last().outerWidth(true);margin=Math.abs(firstThumbnailWidth-lastThumbnailWidth);thumbnailsContainer.width(firstThumbnailWidth*thumbnailsContainer.children().length-margin);}},'_getThumbnailsData':function(){return $(this.contentElements).map(function(index,el){return{image:$('img',el).attr('src'),title:$('h3',el).text(),metricsType:$('h6',el).data('metrics-link-type'),metricsTitle:$('h6',el).data('metrics-title'),};});},'_createThumbnail':function(data){return['<a href="javascript:;" data-metrics-link-type="'+data.metricsType+'" data-metrics-title="'+data.metricsTitle+'">','<div class="lightbox-gallery-bullets-image-holder">','<img src="',data.image,'" />','</div>','<span>',data.title,'</span>','</a>'].join('');},'_createBullet':function(data){return['<a href="javascript:;" data-metrics-link-type="'+data.metricsType+'" data-metrics-title="'+data.metricsTitle+'"></a>'].join('');},'_getPrevious':function(){var prevIndex=this.selectedItemIndex-1;if(prevIndex<0){prevIndex=this.options.loopContentElements?this.contentElements.length-1:0;}
return prevIndex;},'_getNext':function(){var nextIndex=this.selectedItemIndex+1;if(nextIndex>=this.contentElements.length){nextIndex=this.options.loopContentElements?0:this.contentElements.length-1;}
return nextIndex;},'init':function(element,options){this.options.triggerEl=this.element;this.element=HP.Utils.getElementById(this.options.triggerEl.first().attr(this.options.targetAttrName));if(!this.element){return;}
this._initPopupElements();this._initBulletElements();this._initNavigation();var oldFxOnComplete={show:this.options.fxShow.onComplete,hide:this.options.fxHide.onComplete};this.on();this._super();this.options.fxHide.onComplete=$.proxy(function(){this.options.overlayEl.fadeOut(this.options.fxHide.duration);if(typeof(oldFxOnComplete.hide)=='function'){oldFxOnComplete.hide();}},this);},'{_self.element} show':function(el,e){console.log('lightbox show');this.element.find('.popup-close').eq(0).trigger('blur');this.select(el.data('index'));},'{_self.element} hide':function(el,e){$("body").removeClass('noScroll');},'{_self.triggers} click':function(el,e){e.preventDefault();this.select(el.data('index'));},'{_self.arrows} click':function(el,e){var thumbnailsContainer,thumbnailsWrapper,stepWidth,stepsCount,leftOffset,widthDelta,direction;switch($(el).data('index')){case'-1':direction=-1;break;case'+1':direction=1;break;}
thumbnailsContainer=this.element.find(this.options.bulletsSelector).eq(0);leftOffset=parseInt(thumbnailsContainer.css('left'));leftOffset=isNaN(leftOffset)?0:leftOffset;thumbnailsWrapper=this.element.find(this.options.bulletsWrapperSelector);widthDelta=thumbnailsWrapper.width()-thumbnailsContainer.width();if((direction<0&&leftOffset===0)||(direction>0&&leftOffset===widthDelta)){return;}
stepWidth=thumbnailsContainer.find('> a').eq(0).outerWidth(true);stepsCount=this._calculateStepsCount(stepWidth,thumbnailsWrapper.width());leftOffset=leftOffset-stepsCount*direction*stepWidth;if(leftOffset<widthDelta){leftOffset=widthDelta;}else if(leftOffset>0){leftOffset=0;}
thumbnailsContainer.css('left',leftOffset);},'_calculateStepsCount':function(stepWidth,viewportWidth){return Math.round(viewportWidth/stepWidth);},'{window} resize':function(){clearTimeout(this.options.bulletsRepositionTimeout);this.options.bulletsRepositionTimeout=setTimeout($.proxy(function(){this._positionBullets();this._toggleArrowsVisibility();},this),150);this._super();},'select':function(index){switch(index){case'-1':index=this._getPrevious();break;case'+1':index=this._getNext();break;}
if(index!=this.selectedItemIndex){var bulletsContainer=$(this.element).find(this.options.bulletsSelector),thumbnailElements=bulletsContainer.eq(0).find('> a'),bulletElements=bulletsContainer.eq(1).find('> a');if(this.selectedItemIndex!=-1){this.contentElements.eq(this.selectedItemIndex).addClass('hidden');bulletElements.eq(this.selectedItemIndex).removeClass('active');thumbnailElements.eq(this.selectedItemIndex).removeClass('active');}
var contentEl=this.contentElements.eq(index);contentEl.removeClass('hidden');bulletElements.eq(index).addClass('active');thumbnailElements.eq(index).addClass('active');this.selectedItemIndex=index;if(this.options.showBullets){this._positionBullets();}
if(!!this.options.autoAdjust){$(this.element).width(0);$(this.element).height(0);$(this.element).width($(contentEl).outerWidth());$(this.element).height($(contentEl).outerHeight()+bulletElements.outerHeight());this._alignOverlayElement();}
if(typeof(this.options.onCurrent)=="function"){this.options.onCurrent.call(this,this.contentElements.eq(this.selectedItemIndex),this.options.triggerEl[this.selectedItemIndex],this.selectedItemIndex);}}},'_positionBullets':function(){var bulletsContainer=this.element.find(this.options.bulletsSelector).eq(1),activeImage=this.contentElements.eq(this.selectedItemIndex).find('img').eq(0),position=0,topDifference,bulletsRect,imageRect,popupRect;var BOTTOM_MARGIN=10;if(bulletsContainer[0]&&activeImage[0]){bulletsRect=bulletsContainer[0].getBoundingClientRect();imageRect=activeImage[0].getBoundingClientRect();popupRect=this.element[0].getBoundingClientRect();topDifference=imageRect.top-popupRect.top;position+=topDifference+imageRect.height;position-=BOTTOM_MARGIN;position-=bulletsRect.height;bulletsContainer.css('top',position);}},'_toggleArrowsVisibility':function(){var thumbnailsWrapper=this.element.find(this.options.bulletsWrapperSelector),thumbnailsContainer=this.element.find(this.options.bulletsSelector).eq(0);if(thumbnailsContainer.width()<=thumbnailsWrapper.width()){this.arrows.hide();}else{this.arrows.show();}}});HP.LightBoxGallery.init=function(element,options){var groups={};var attrName=options.targetAttrName||HP.LightBoxGallery.defaults.targetAttrName;var attrValue;element.each(function(index,el){attrValue=$(el).attr(attrName);if(attrValue){if(!groups[attrValue]){groups[attrValue]=[el];}else{groups[attrValue].push(el);}}});var gallery=[];$.each(groups,function(key,value){gallery[key]=new HP.LightBoxGallery(value,options);});return gallery;};})(jQuery,can,window.HP||(window.HP={}));(function($,window){'use strict';NavigationPanel.Direction={LEFT:'left',RIGHT:'right'};NavigationPanel.Animation={CLICK_SCROLL_STEP:100,HORIZONTAL_SCROLL_STEP:250};NavigationPanel.__defaults={navigationPanelClass:'navigation-panel',activeHeaderClass:'navigation__item--active',arrowDisabledClass:'disabled',leftArrowClass:'arrow-left',rightArrowClass:'arrow-right',sectionClass:'section-with-navigation-panel',wrappedClass:'wrapped',linksContainerSelector:'.links',linksItemSelector:'li',activeLinkParent:'wrap-active',linksSelector:'a',stickyWrapperSelector:'.sticky-wrapper'};window.NavigationPanel=NavigationPanel;function NavigationPanel(element,options){var self,opts,leftArrow,rightArrow,container,isScrolling;self={};self.element=$(element);self.options=opts=mergeWithDefaults(options);self.container=container=self.element.find(opts.linksContainerSelector);leftArrow=self.element.find('.'+opts.leftArrowClass);if(!leftArrow.length){leftArrow=createArrow(opts.leftArrowClass);container.before(leftArrow);}
rightArrow=self.element.find('.'+opts.rightArrowClass);if(!rightArrow.length){rightArrow=createArrow(opts.rightArrowClass);container.after(rightArrow);}
self.element.addClass(opts.navigationPanelClass).parents('.section').addClass(opts.sectionClass);attachListeners();updateArrowsState();if(typeof Waypoint==='function'&&'Sticky'in Waypoint){new Waypoint.Sticky({element:self.element[0]});}
self._scrollLinkIntoView=scrollLinkIntoView;return self;function mergeWithDefaults(options){return $.extend(NavigationPanel.__defaults,options);}
function attachListeners(){var arrowsSelector='.'+opts.leftArrowClass+', .'+opts.rightArrowClass;self.element.on('mousedown',arrowsSelector,function arrowMouseDown(e){var direction;if(isArrowEnabled(e.target)){direction=getHorizontalScrollDirection(e.target);isScrolling=true;stopHorizontalScrolling();startHorizontalScrolling(direction,NavigationPanel.Animation.HORIZONTAL_SCROLL_STEP);}
return false;}).on('mouseup',arrowsSelector,function arrowMouseUp(e){if(isArrowEnabled(e.target)){isScrolling=false;stopHorizontalScrolling();}
return false;}).on('click',arrowsSelector,function arrowClick(e){var direction;if(isArrowEnabled(e.target)){direction=getHorizontalScrollDirection(e.target);stopHorizontalScrolling();startHorizontalScrolling(direction,NavigationPanel.Animation.CLICK_SCROLL_STEP);}
return false;});container.on('click',opts.linksSelector,function navigationPanelLinkClick(e){e.preventDefault();var clicked;if(e.target.nodeName==='A'){clicked=$(e.target);}else{clicked=$(e.target).parents('a');}
if(self.element.hasClass(opts.wrappedClass)){scrollLinkIntoView(clicked);}});$(window).on('resize',$.debounce(200,function wrapNavigationPanelOnResize(){updateNavigationWrapping();updateArrowsState();}));}
function createArrow(className){return $('<a href="javascript:void(0);" class="arrow '+className+'"></a>');}
function isArrowEnabled(element){return element.className.indexOf(opts.arrowDisabledClass)===-1;}
function getHorizontalScrollDirection(arrow){return(arrow.className.indexOf(opts.leftArrowClass)!==-1)?NavigationPanel.Direction.LEFT:NavigationPanel.Direction.RIGHT;}
function startHorizontalScrolling(direction,step){var el=container.get(0),width=el.scrollWidth,left=el.scrollLeft,animationDuration=Math.abs(step)*2/3;left=left+((direction==='right')?step:-step);left=limitWithRange(left,[0,width]);container.animate({scrollLeft:left},animationDuration,function horizontalScrollComplete(){updateArrowsState();if(isScrolling&&isRightScrollAvailable()&&isLeftScrollAvailable()){startHorizontalScrolling(direction,step);}else{stopHorizontalScrolling();}});}
function limitWithRange(value,range){return Math.max(range[0],Math.min(value,range[1]));}
function updateArrowsState(){rightArrow.toggleClass(opts.arrowDisabledClass,!isRightScrollAvailable());leftArrow.toggleClass(opts.arrowDisabledClass,!isLeftScrollAvailable());}
function isRightScrollAvailable(){var el=container[0],left=el.scrollLeft;return(left+container.width()!==el.scrollWidth);}
function isLeftScrollAvailable(){var el=container[0],left=el.scrollLeft;return(left!==0);}
function stopHorizontalScrolling(){container.stop(true);}
function scrollLinkIntoView(link){var offset=30,left=link.position().left,width=link.outerWidth(),parentWidth=container.width(),step;if(left<0){step=left-offset;}else if((left+width)>parentWidth){step=left+width-parentWidth+offset;}
if(typeof step!=='undefined'){startHorizontalScrolling(NavigationPanel.Direction.RIGHT,step);}}
function updateNavigationWrapping(){var el=container.get(0),shouldWrap=el.scrollWidth>el.clientWidth;self.element.toggleClass(opts.wrappedClass,shouldWrap);}}}(jQuery,self));(function($,window){'use strict';Tabs.Animation={SMOOTH_SCROLL_DURATION:1000};Tabs.__defaults={activeClass:'ocmhpitab-active',activeHeaderClass:'tabs__tab--active',contentClass:'ocmhpitab-tab',arrowDisabledClass:'disabled',sectionClass:'section-with-ocmhpitab',contentSelector:'.flex-content',linksContainerSelector:'.tabs__container',descriptionSelector:'p',sliderSelector:'.slider-carousel-arrows-and-dots'};$(function($){var $tabsElement=$('.molecule-ocmhpitab .tabs'),tabs;if($tabsElement.length){tabs=Tabs($tabsElement);$('body').on('click','a',function(e){var link=e.currentTarget;if(link.hash&&(link.hash in tabs.tabHashes)){tabs.openTabByHash(link.hash);e.preventDefault();}});}});function Tabs(element,options){var self,links,contents,opts,$htmlOrBody=$('html, body'),$window=$(window);opts=mergeWithDefaults(options);self=NavigationPanel(element,opts);links=self.container.find(self.options.linksSelector);contents=self.element.parents(self.options.contentSelector).nextAll(self.options.contentSelector).slice(0,links.length).addClass(self.options.contentClass);attachListeners();addDescription();addTabTextFewLines();processContentsBackground();if(!openTabByHash()){links.first().trigger('click',{initialClick:true});}
self.tabHashes={};links.each(function(index,link){if(link.hash){self.tabHashes[link.hash]=true;}});self.openTabByHash=openTabByHash;return self;function mergeWithDefaults(options){return $.extend(Tabs.__defaults,options);}
function openTabByHash(hash){var tab=findTabByHash(hash);if(!tab.length){return false;}
if(!tab.hasClass(self.options.activeHeaderClass)){links.removeClass(self.options.activeHeaderClass);links.parent().removeClass(self.options.activeLinkParent);tab.addClass(self.options.activeHeaderClass);tab.parent().addClass(self.options.activeLinkParent);contents.removeClass(self.options.activeClass).eq(links.index(tab)).addClass(self.options.activeClass);}
window.setTimeout(function(){scrollTo(tab,false);},0);$window.resize();return true;}
function findTabByHash(hash){hash=hash||window.location.hash;return $($.grep(links,function(item){return hash&&(item.hash===hash);}));}
function attachListeners(){var arrowsSelector='.'+self.options.leftArrowClass+', .'+self.options.rightArrowClass,scrollToActualTab,scrollInterval;self.container.on('click',self.options.linksSelector,function tabLinkClick(e,params){var clicked=e.target.nodeName=='P'?$(e.target).parent():$(e.target),clickedIndex=links.index(clicked);links.removeClass(self.options.activeHeaderClass);links.parent().removeClass(self.options.activeLinkParent);clicked.addClass(self.options.activeHeaderClass);clicked.parent().addClass(self.options.activeLinkParent);contents.eq(clickedIndex).addClass(self.options.activeClass).end().not(':eq('+clickedIndex+')').removeClass(self.options.activeClass);if(!params||!params.initialClick){if(clicked.attr('href').length>1){window.location.hash=clicked.attr('href');}
scrollTo(clicked,false);}
$window.resize();});$htmlOrBody.on(['scroll','mousedown','wheel','DOMMouseScroll','mousewheel','keyup','touchmove'].join(' '),function stopTabsAnimations(){$htmlOrBody.stop();window.clearInterval(scrollInterval);});scrollToActualTab=function scrollToActualTab(){var tab=findTabByHash();if(tab.length){scrollTo(tab,true);}else{window.clearInterval(scrollInterval);}};$window.on('load',function(){scrollInterval=window.setInterval(scrollToActualTab,200);});$window.on('unload',scrollToActualTab);}
function addDescription(){links.each(function(index,element){var description=$(element).find('p');if(description.length){$(element).parent(self.options.linksItemSelector).addClass('has_description');var titleWidth=$(element).width();if(titleWidth<185){$(element).css('min-width','185px');}}});}
function addTabTextFewLines(){var spanInsideLink=$(self.options.linksContainerSelector).find('li a span'),ocmTab=$(self.element).parents('.molecule-ocmhpitab');if(ocmTab.length&&spanInsideLink.length){$(self.element).addClass('few-lines-text');changeTabsHeight(spanInsideLink);}}
function changeTabsHeight(spanInsideLink){var maxTabHeight=0;$.each(spanInsideLink,function(ind,span){maxTabHeight=Math.max(maxTabHeight,$(span).outerHeight());});if(window.innerWidth>800){maxTabHeight=maxTabHeight>90?maxTabHeight:90;}else{maxTabHeight=maxTabHeight>80?maxTabHeight:80;}
$(self.element).css('height',maxTabHeight+'px');$(self.element).find(self.options.linksContainerSelector).css('height',maxTabHeight+20+'px');$(self.element).find(self.options.linksItemSelector).css('height',maxTabHeight+'px');$(self.element).find('.arrow').css({'top':maxTabHeight/2+'px','transform':'translateY(-50%) rotate(45deg)'});}
function scrollTo(tab,immidiate){var target=tab.parents(self.options.stickyWrapperSelector),topOffset=target.offset().top;if(immidiate){$htmlOrBody.scrollTop(topOffset);}else{$htmlOrBody.animate({scrollTop:target.offset().top},{duration:Tabs.Animation.SMOOTH_SCROLL_DURATION});}}
function updateTabsWrapping(){var el=self.container.get(0),shouldWrap=el.scrollWidth>el.clientWidth;self.element.toggleClass(self.options.wrappedClass,shouldWrap);}
function processContentsBackground(){contents.each(function(){var $tabContent=$(this),sectionInSlider=$tabContent.find(self.options.sliderSelector),className='';if(sectionInSlider.length&&sectionInSlider[0].className.indexOf('bkg-color-')>-1){sectionInSlider.each(function(){var classes=this.className.split(' ');for(var i=0;i<classes.length;i++){if(classes[i].indexOf('bkg-color-')>-1){className=classes[i];}}});$tabContent.addClass(className);}});}}})(jQuery,self);(function($){function removeOptionalItems(){var molecule=$('.molecule-ocmhpitag');molecule.each(function(){var $molecule=$(this);$molecule.find('.title').each(function(){var $title=$(this);if($title.text()[0]==='$'&&$title.text()[1]==='$'&&$title.text()[$title.text().length-1]==='$'&&$title.text()[$title.text().length-2]==='$'){$title.remove();}});});}
$(function(){removeOptionalItems();});})(jQuery);(function($){function verticallyPositioning(){var molecule=$('.molecule-ocmhpicbcut'),resizeTimeout;$(window).on('resize',function(){if(window.innerWidth>800){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){positioning();},200);}else{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){positioningMobile();},200);}});function positioningMobile(){molecule.each(function(){var $molecule=$(this),relatedFlexMolecule=$molecule.parents('.row').find('.flex2-molecule:not(".molecule-ocmhpicbcut"):not(".molecule-ocmhpicbcut .flex2-molecule")'),relatedFlexMoleculeHeight=relatedFlexMolecule.outerHeight()+50+'px';if(window.innerWidth<671){relatedFlexMolecule.addClass('mobilePosition');$molecule.css("paddingTop",relatedFlexMoleculeHeight);}else{relatedFlexMolecule.removeClass('mobilePosition');$molecule.css("paddingTop",'');}});}
function positioning(){molecule.each(function(){var $molecule=$(this),relatedFlexMolecule=$molecule.parents('.row').find('.flex2-molecule:not(".molecule-ocmhpicbcut"):not(".molecule-ocmhpicbcut .flex2-molecule")'),relatedFlexMoleculeHeight,moleculeHeight;if(relatedFlexMolecule.hasClass('mobilePosition')){relatedFlexMolecule.removeClass('mobilePosition');$molecule.css("paddingTop",'');}
relatedFlexMoleculeHeight=relatedFlexMolecule.outerHeight();moleculeHeight=$molecule.outerHeight();$molecule.css("top",parseInt(relatedFlexMoleculeHeight/2-moleculeHeight/2)+'px');});}}
function identifyRelatedMolecule(){var molecule=$('.molecule-ocmhpicbcut');molecule.each(function(){var $molecule=$(this);$molecule.parents('.row').find('.flex2-molecule:not(".molecule-ocmhpicbcut"):not(".molecule-ocmhpicbcut .flex2-molecule")').addClass('ocmhpicbcut-related-molecule');$molecule.parents('.row').addClass('position-relative');});}
function removeOptionalItems(){var molecule=$('.molecule-ocmhpicbcut');molecule.each(function(){var $molecule=$(this),content=$molecule.children(),image=content.find('.image');if($molecule.text().indexOf('$$see_all_link$$')>0){$molecule.empty().append(content);}
if($molecule.find('.logo').text()=='@@generic_image2@@'){$molecule.find('.logo').remove();}else{$molecule.find('.title').remove();}
if($molecule.find('.title').text()=='$$list_links_display_name$$'){$molecule.find('.title').empty();}
if($molecule.find('.description').text()==('$$list_links_description$$')){$molecule.find('.description').empty();}
if($molecule.find('.list-links-featured-item').text()==('$$list_links_featured_item_1$$')){$molecule.find('.list-links-featured-item').remove();}
if(!image.children().length){image.remove();}});}
$(function(){verticallyPositioning();removeOptionalItems();identifyRelatedMolecule();});})(jQuery);(function($,window){'use strict';$(function(){var $footnotesDisclaimerElements=$(footnotesFactory.__moleculeSelector);$footnotesDisclaimerElements.each(function(index,element){var footnotesDisclamer=footnotesFactory(element);runAsync(footnotesDisclamer.alignWithLayout);});});footnotesFactory.__moleculeSelector='.molecule-ocmhpifootnotes';footnotesFactory.__defaultOptions={contentSelector:'.js-disclaimer-content',triggerSelector:'.js-disclaimer-header__title',wrapperSelector:'.molecule-ocmhpifootnotes__wrapper',triggerOpenedClass:'disclaimer-header__title_opened',contentExpandedClass:'disclaimer-content_expanded',footnotesSectionClass:'molecule-ocmhpifootnotes-section',duration:400};function footnotesFactory(element,options){var $element,opts,self,content,trigger,section,expanded;self={};$element=$(element);opts=mergeWithDefaults(options);content=$element.find(opts.contentSelector);trigger=$element.find(opts.triggerSelector);section=$element.parents('.section');expanded=false;section.addClass(opts.footnotesSectionClass);$element.on('click',opts.triggerSelector,toggleDisclosure);expandDisclosure(true);self.alignWithLayout=alignWithLayout;return self;function mergeWithDefaults(options){return $.extend({},footnotesFactory.__defaultOptions,options);}
function toggleDisclosure(){if(expanded){collapseDisclosure();}else{expandDisclosure();}}
function expandDisclosure(immidiate){var duration=getDuration(immidiate);expanded=true;trigger.addClass(opts.triggerOpenedClass);content.stop();content.slideDown(duration);}
function collapseDisclosure(immidiate){var duration=getDuration(immidiate);expanded=false;trigger.removeClass(opts.triggerOpenedClass);content.stop();content.slideUp(duration);}
function getDuration(immidiate){return(immidiate===true)?0:opts.duration;}
function alignWithLayout(){var wrapper,row,maxWidth;row=section.find('.row');maxWidth=row.css('max-width');if(maxWidth&&maxWidth!=='none'){wrapper=$element.find(opts.wrapperSelector);row.css('max-width','100%');wrapper.css('max-width',maxWidth);}}}
function runAsync(fn){window.setTimeout(fn,0);}}(jQuery,self));(function(window,$){'use strict';var setScroll=function($element){if($element.is(':visible')){setTimeout(function(){$('html').addClass(popupFactory.__defaultOptions.htmlClass);$element.removeClass('scroll');if(($element.offset().top+$element.height())>$(window).height()){$element.addClass('scroll');}else{$element.removeClass('scroll');}},0);}};$(function(){var popup;$(window).load(function(){var windowHash=window.location.hash;if(windowHash.length){windowHash=windowHash.replace('#','');var overlayInstance=contentOverlayFactory.__getInstance(windowHash);if(overlayInstance){overlayInstance.open();}}});$('body').append(popupFactory.__contentPopupTemplate,popupFactory.__backgroundOverlayTemplate).on('click','a',function(event){var popupId=contentOverlayFactory.__retrievePopupId(this),overlayInstance=contentOverlayFactory.__getInstance(popupId);if(overlayInstance){overlayInstance.open();event.preventDefault();}});popup=popupFactory(popupFactory.__popupElementSelector);$(contentOverlayFactory.__overlayHelperSelector).parents('.section').each(function(i,overlaySection){contentOverlayFactory(overlaySection).setPopup(popup);});runAsync(function(){var iterator=contentOverlayFactory.__getIterator();while(iterator.next()){if(iterator.current().shouldShowOnLoad()){iterator.current().open();break;}}});if($(contentOverlayFactory.__overlayHelperSelector).length){$(window).on('resize',function(){var $element=$('.js-content-popup:visible');setScroll($element);});}});contentOverlayFactory.__instances={};contentOverlayFactory.__getInstance=function(id){return contentOverlayFactory.__instances[id];};contentOverlayFactory.__registerInstance=function registerInstance(id,instance){contentOverlayFactory.__instances[id]=instance;};contentOverlayFactory.__getIterator=function(){var keys=[],k,position=0,currentValue=null;for(k in contentOverlayFactory.__instances){keys.push(k);}
return{current:function(){return currentValue;},next:function(){return(currentValue=contentOverlayFactory.__instances[keys[position++]]||null);}};};contentOverlayFactory.__retrievePopupId=function(link){return link.hash.replace('#','');};contentOverlayFactory.__dataAttributeName='contentOverlay';contentOverlayFactory.__popupIdAttributeName='data-content-popup-id';contentOverlayFactory.__showOnLoadClassName='show-on-load';contentOverlayFactory.__overlayHelperSelector='.js-ocmhpicontent-overlay-helper';contentOverlayFactory.__defaultOptions={hiddenClass:'hidden'};function contentOverlayFactory(element,options){var $element,$helper,opts,self,popupId;self={};$element=$(element);$helper=$element.find(contentOverlayFactory.__overlayHelperSelector);opts=mergeOptionsWithDefaults(options);popupId=$helper.attr(contentOverlayFactory.__popupIdAttributeName);if(popupId){$element.addClass(opts.hiddenClass);$element.data(contentOverlayFactory.__dataAttributeName,self);contentOverlayFactory.__registerInstance(popupId,self);}
self.shouldShowOnLoad=shouldShowOnLoad;self.setPopup=setPopup;self.open=open;self.close=close;return self;function mergeOptionsWithDefaults(options){return $.extend({},contentOverlayFactory.__defaultOptions,options);}
function shouldShowOnLoad(){return!!$helper.parents('.'+contentOverlayFactory.__showOnLoadClassName).length;}
function setPopup(popup){self.popup=popup;}
function open(){if(self.popup){self.popup.setContentFrom($element);self.popup.show();}}
function close(){if(self.popup){self.popup.hide();}}}
popupFactory.__popupElementSelector='.js-content-popup';popupFactory.__backgroundOverlayTemplate=['<div class="js-bkg-light bkg-light">','</div>'].join('');popupFactory.__contentPopupTemplate=['<div class="js-content-popup content-popup">','<a class="js-content-popup__close popup-close link_icn icl_cls" href="javascript:void(0);" shape="rect" tabindex="-1" title="close button">','<span class="screenReading">Close</span>','</a>','<div class="js-content-popup__container container"></div>','</div>'].join('');popupFactory.__defaultOptions={popupCloseButtonSelector:'.js-content-popup__close',popupContainerSelector:'.js-content-popup__container',backgroundOverlaySelector:'.js-bkg-light',hiddenClass:'hidden',htmlClass:'overlay-lightbox',sliderStopRotationEvent:'stopRotation',sliderRestartRotationEvent:'restartRotation'};popupFactory.__MIN_TOP_POSITION=87;popupFactory.__TOP_MARGIN=75;function popupFactory(element,options){var $window,$element,self,opts,$backgroundOverlay,$overlayContainer;self={};opts=mergeOptionsWithDefaults(options);$window=$(window);$element=$(element).eq(0);$backgroundOverlay=$(opts.backgroundOverlaySelector).eq(0);$overlayContainer=$element.find(opts.popupContainerSelector);$element.on('click',opts.popupCloseButtonSelector+', a',hide);$backgroundOverlay.on('click',hide);$(opts.popupContainerSelector).parent().on('click',function(e){var $target=$(e.target);if($target.hasClass('js-content-popup')){hide();}})
$(opts.popupContainerSelector).on('click',function(e){var $target=$(e.target);if($target.hasClass('span24')||$target.hasClass('row')||$target.hasClass('section')){hide();}})
self.setContentFrom=setContentFrom;self.show=show;self.hide=hide;return self;function mergeOptionsWithDefaults(options){return $.extend({},popupFactory.__defaultOptions,options);}
function setContentFrom(element){$overlayContainer.html('');$overlayContainer.append(element.clone(true));$overlayContainer.find('.section').removeClass(opts.hiddenClass);}
function show(){stopSlider();setTopPosition();$element.show();$backgroundOverlay.show();setScroll($element);}
function hide(){$element.hide();$backgroundOverlay.hide();restartSlider();$('html').removeClass(popupFactory.__defaultOptions.htmlClass);$element.removeClass('scroll');}
function stopSlider(){$window.trigger(opts.sliderStopRotationEvent);}
function restartSlider(){$window.trigger(opts.sliderRestartRotationEvent);}
function setTopPosition(){var pageScroll,topPopupPosition;pageScroll=$(document).scrollTop();topPopupPosition=Math.max(popupFactory.__MIN_TOP_POSITION,pageScroll+popupFactory.__TOP_MARGIN);$element.css('top',topPopupPosition);}}
function runAsync(fn){window.setTimeout(fn,0);}}(self,jQuery));(function($){function initMolecule512(){var molecule=$('.molecule-hpi-512'),section=molecule.parents('.section');if(!molecule.length){return false;}
var init=function(){manipulationsWithDom();removeOptionalItems();},manipulationsWithDom=function(){section.each(function(){var $section=$(this);$section.find('.molecule-hpi-512').first().parents('.row').addClass('first-row');$section.find('.molecule-hpi-512').last().parents('.row').addClass('last-row');});molecule.each(function(){var $molecule=$(this);$molecule.removeClass('mtop-mol mbot-mol');if($molecule.hasClass('disable-sharing')){$molecule.removeClass('sharable');}else{$molecule.addClass('sharable');}});},removeOptionalItems=function(){molecule.each(function(){var $molecule=$(this),wrapper=$molecule.find('.wrap');$molecule.find('.defaults').each(function(i,item){var $defaults=$(this),$text=$(this).text();if($.trim($text).length>0&&($text.indexOf("$$")!=-1||$text.indexOf("@@")!=-1)){$defaults.remove();}});if(wrapper.length&&$.trim(wrapper.html())==""){wrapper.remove();}
$molecule.find('.defaults').show();if($molecule.hasClass('disable-sharing')){$molecule.find('.share-module').remove();}});};init();}
$(function(){initMolecule512();});})(jQuery);(function($){function removeOptionalItems(){var molecule=$('.molecule-hpi-quote');molecule.each(function(){var $molecule=$(this);$molecule.find('.author').each(function(){var $children=$(this).children();for(var i=0;i<$children.length;i++){var text=$($children[i]).text();if(text.indexOf('$$')>-1||text.indexOf('@@')>-1){$($children[i]).remove();}}});});}
$(function(){removeOptionalItems();});})(jQuery);(function($,can,HP,params){HP.Spooler=can.Control({defaults:{layerClass:'.layer',considerScroll:true,animateDurationShow:200,animateDurationHide:700,showSpoolerEvent:'spoolerShow',hideSpoolerEvent:'spoolerHide',spoolerShowOnStart:'true',iconType:'small'},vars:{spoolerTemplate:"<div class='spooler'>"+"<div class='<%= icon %>'></div>"+"<div class='layer'></div>"+"</div>"}},{'init':function(element,options){if(!this.element){this.destroy();}
this.spoolerTemplate=can.view.ejs(this.spoolerTemplate);this.element.prepend(this.spoolerTemplate({icon:this.options.iconType=='large'?"ispl_lg":"ispl_sm"}));this.target=this.element;this.target.css("position","relative");this.spooler=this.element.children().first();this.layer=this.spooler.find(this.options.layerClass);this.spoolerImg=this.spooler.children().first();this.on();if(this.options.spoolerShowOnStart==='true'){this.showSpooler();}},'{showSpoolerEvent}':function(){this.showSpooler();},'{hideSpoolerEvent}':function(){this.hideSpooler();},'showSpooler':function(){this.spooler.fadeIn();this.spoolerImg.animate({opacity:1},this.options.animateDurationShow);this.layer.animate({opacity:0.9},this.options.animateDurationShow);},'hideSpooler':function(){this.spooler.fadeOut(this.options.animateDurationHide);this.spoolerImg.animate({opacity:0},this.options.animateDurationHide);this.layer.animate({opacity:0},this.options.animateDurationHide);}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){HP.printPage=function(printableClass){$(printableClass).each(function(i,el){$(el).on({click:function(e){window.print();},keypress:function(e){if(e.key=='enter'){window.print();}}});});}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP,params){HP.SimpleTabs=HP.Tabs({defaults:{triggerSelector:".js_tab_trigger",triggerCntOffset:0,triggerCntSelector:"nav",targetSelectorWithFilter:".js_tab_content:not('.molecule-825 .js_tab_content')",targetSelector:".js_tab_content",noContentClass:"disabled",pinnedClass:"pinned",pinnable:false,singleTabPinning:false},vars:{triggerContainer:null,triggerContainerWrapper:null}},{init:function(element,options){this.updateOptionsFromMarkup();this.triggerContainer=element.find(this.options.triggerCntSelector).eq(0);this.triggerContainerWrapper=this.triggerContainer.closest(".section");this.element=this.triggerContainer.find(this.options.triggerSelector);this.options.targets=(!this.options.isTargetsHiddenByDisplay)?element.find(this.options.targetSelectorWithFilter):element.find(this.options.targetSelector);this.options.triggerCntOffset=Math.abs(this.triggerContainer.offset().top-parseInt(this.triggerContainer.parents('.tabs-wrapper').css('padding-top'),10));if(this.options.pinnable){this.addPinnableFunctionality();}
this.on();this._super();},updateOptionsFromMarkup:function(){var markupOpts={pinnable:!!(this.element.attr("data-pinnable")==="true"),singleTabPinning:this.element.attr("data-single-tab-pinning")};for(prop in markupOpts){if(markupOpts[prop]){this.options[prop]=markupOpts[prop];}}},show:function(index,winthoutAnimation){$('.js-brightcove-player, .youtube-video-template').trigger('pause-video-event');this._super(index,winthoutAnimation)},scrollListener:function(doc){var shouldBePinned=false,documentOffset=doc.scrollTop();if(documentOffset>=this.options.triggerCntOffset){shouldBePinned=true;}
this.options.fromTop=documentOffset;this.pinTabbedNav(shouldBePinned);},pinTabbedNav:function(shouldBePinned){var action="removeClass";if(shouldBePinned===true){action="addClass";}
this.triggerContainerWrapper[action](this.options.pinnedClass);},addPinnableFunctionality:function(){if(this.triggerContainerWrapper.find('nav a').length<=1&&!this.options.singleTabPinning){return;}
var _self=this,_document=$(document),_scrollableArea=$(window.opera?'html':'html, body');$(document).on("scroll",function(){_self.scrollListener(_document);});this.options.onShow=function(){_scrollableArea.scrollTop(this.fromTop);_scrollableArea.animate({scrollTop:this.triggerCntOffset},400);}}});HP.ExtendedTabs=HP.SimpleTabs({defaults:{bannerSelector:".banner",withoutAnimations:false,enableTitleChange:true},vars:{descriptionMeta:null,keywordsMeta:null,canonicalLink:null,headerTitle:null,headerDescription:null,pageLabel:null,defaultParams:{}}},{init:function(element,options){var banner=$(this.options.bannerSelector).eq(0);this.descriptionMeta=$("meta[name=description]");this.keywordsMeta=$("meta[name=keywords]");this.canonicalLink=$("link[rel=canonical]");this.headerTitle=banner.find("h1").eq(0);this.headerDescription=banner.find(".description").eq(0);this.getDefaultParams();this._super(element,options);this.element.each(function(index,elt){var trigger=$(elt);if(!trigger.attr("data-page-title"))
trigger.attr("data-page-title",trigger.find(".tab_label").html());});},show:function(index){this.updatePageMetadata(index);this._super(index,this.options.withoutAnimations);},getDefaultParams:function(){var title=(""+document.title).split(" | ");this.defaultParams.headerTitle=this.headerTitle.html();this.defaultParams.headerDescription=this.headerDescription.html();this.defaultParams.keywordsMeta=this.keywordsMeta.attr("content");this.defaultParams.descriptionMeta=this.descriptionMeta.attr("content");this.defaultParams.canonicalLink=this.canonicalLink.attr("content");this.defaultParams.documentTitle=title[0];this.pageLabel=(title.length>1?(" | "+title[1]):"");},prepareValue:function(key,valueToSet){return valueToSet?valueToSet:this.defaultParams[key];},updatePageMetadata:function(index){var trigger=this.element.eq(index);if(this.options.enableTitleChange){document.title=(this.prepareValue("documentTitle",trigger.attr("data-document-title"))+this.pageLabel);this.headerTitle.html(this.prepareValue("headerTitle",trigger.attr("data-page-title")));}
this.headerDescription.html(this.prepareValue("headerDescription",trigger.attr("data-page-description")));this.keywordsMeta.attr("content",this.prepareValue("keywordsMeta",trigger.attr("data-meta-keywords")));this.descriptionMeta.attr("content",this.prepareValue("descriptionMeta",trigger.attr("data-meta-description")));this.canonicalLink.attr("href",this.prepareValue("canonicalLink",trigger.attr("data-canonical-link")));}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.SimpleTabs=can.Control({defaults:{el:'.simple-tabs',tabsControl:'.tab-control>a',tabsTitleHolder:'.tab-titles-list',tabsContentHolder:'.tab-contents-list',tabsContent:'.tab-content',activeTabTitleClass:'active',activeTabContentClass:'active',enableHash:true,desktopAnimation:['fadeIn','fadeOut'],accordionAnimation:true},vars:{isClickEnabled:true}},{init:function(element,options){this.prepareResponsiveHtml();this.addListeners();this.updateTabsFromHash();this.initialOpen();},prepareResponsiveHtml:function(){var titlesWrapper=$(this.options.tabsTitleHolder,this.element),contentsWrapper=$(this.options.tabsContentHolder,this.element),self=this;$(this.options.tabsControl,titlesWrapper).each(function(){$(this).attr('data-tab-index',$(this).parent().index());});$(this.options.tabsContent,contentsWrapper).each(function(){$(this).attr('data-tab-index',$(this).index());});$(this.options.tabsContent,contentsWrapper).each(function(){var control=$(self.options.tabsControl+'[data-tab-index='+$(this).data('tab-index')+']',titlesWrapper).parent()[0].outerHTML;$(this).before(control);});},addListeners:function(){var self=this;$(this.options.tabsControl,this.element).on('click',function(){if(!$('html').is(':animated')&&!$('body').is(':animated')){var tabIndex=$(this).data('tab-index');if(tabIndex||tabIndex===0){self.openTab(tabIndex);}else{console.log('Wrong tabs configuration');}}
return false;});},openTab:function(tabIndex,disableAnimation){if(!tabIndex&&tabIndex!==0){return;}
var options=this.options,self=this,isNumericIndex=!String(tabIndex).replace(/[0-9]/ig,'').length,tabEl=isNumericIndex?$(options.tabsContent+'[data-tab-index="'+tabIndex+'"]',this.element):$(options.tabsContent+'[data-name="'+tabIndex+'"]',this.element);if(tabEl){var numericIndex=tabEl.data('tab-index'),control=$(options.tabsControl+'[data-tab-index="'+numericIndex+'"]',this.element),tabContentBlock=$(options.tabsContent,this.element),isMobile=$(options.tabsTitleHolder,this.element).is(':hidden');if(self.isClickEnabled){$(options.tabsControl+'.'+options.activeTabTitleClass,this.element).not(control).removeClass(options.activeTabTitleClass);control.addClass(options.activeTabTitleClass);}
if(disableAnimation){tabContentBlock.not(tabEl).hide().removeClass(options.activeTabContentClass);tabEl.show().addClass(options.activeTabContentClass);this.updateHash(tabEl,tabIndex);return;}
if(isMobile){tabContentBlock.not(tabEl).slideUp(400,function(){tabContentBlock.not(tabEl).removeClass(options.activeTabContentClass);});tabEl.slideDown(400,function(){$(this).addClass(options.activeTabContentClass);self.scrollToTab(tabEl);});}else{if(options.desktopAnimation.length&&self.isClickEnabled){self.isClickEnabled=false;$(options.tabsContent+':visible',this.element).stop().clearQueue()[options.desktopAnimation[1]](200,function(){$(this).removeClass(options.activeTabContentClass);tabEl.addClass(options.activeTabContentClass).stop().clearQueue()[options.desktopAnimation[0]](200);self.isClickEnabled=true;})}}
this.updateHash(tabEl,tabIndex);}},scrollToTab:function(tab){var tabsTop=tab.prev().offset().top;$('html, body').animate({scrollTop:tabsTop},200);},deactivateTab:function(tabIndex,remove){if(!tabIndex&&tabIndex!==0){return;}
var isNumericIndex=!String(tabIndex).replace(/[0-9]/ig,'').length,tabEl=isNumericIndex?$(this.options.tabsContent+'[data-tab-index="'+tabIndex+'"]',this.element):$(this.options.tabsContent+'[data-name="'+tabIndex+'"]',this.element),numericIndex=tabEl.data('tab-index'),control=$(this.options.tabsControl+'[data-tab-index="'+numericIndex+'"]',this.element),method=!remove?'hide':'remove';tabEl[method]();control.each(function(){$(this).parent()[method]();});if(!$(this.options.tabsContent+':visible',this.element).length){this.openFirst();}},openFirst:function(){var firstTabIndex=$(this.options.tabsControl+":visible",this.element).first().data('tab-index');this.openTab(firstTabIndex,true);},updateTabsFromHash:function(){var hash=can.route.attr('tab');if(hash||hash===0){this.openTab(hash,true);}},initialOpen:function(){if($('.trigger-800').is(":visible")){return;}
var titlesWrapper=$(this.options.tabsTitleHolder,this.element),activeIndex=titlesWrapper.find(this.options.tabsControl+'.'+this.options.activeTabTitleClass).length?titlesWrapper.find(this.options.tabsControl+'.'+this.options.activeTabTitleClass).data('tab-index'):0;this.openTab(activeIndex,true);},updateHash:function(tabEl,tabIndex){if(this.options.enableHash){var hashVal=tabEl.data('name')?tabEl.data('name'):tabIndex;can.route.attr('tab',hashVal);}}});}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP,params){HP.Tabslide=HP.ExtendedTabs({defaults:{recalculateHeight:false,dynamicHeight:false,slider:".tabs-wrapper .slider span",targetActiveClass:'shown',changeHeight:'changeHeight',fxShow:{duration:400,delay:0},fxHide:{duration:300,delay:0},tabOpenDuration:400,tabCloseDuration:300,isTargetsHiddenByDisplay:false,breakpoint:496,targetsWrapper:".js-tabs-content-wrapper",isTouchMove:false,resizeTimeoutId:0,buttonSize:55,buttonMargin:8},vars:{slider:null,tabContentsWrapper:null,fullBackgroundWrapper:null}},{init:function(element,options){var self=this;this.tabs=this.element.find(".tabs");this.tabsButtons=this.tabs.find("a.js_tab_trigger");this.tabContentsWrapper=this.element.find(this.options.targetsWrapper);this.slider=this.element.find(this.options.slider);this.underline=this.element.parent('.slider_underline').length?true:false;this.openedItem=0;if(this.tabContentsWrapper.length===0){this._processOldContent();}
if(HP.pageConfig.get('isResponsive')){this.tabContentsWrapper=this.element.find(this.options.targetsWrapper);this.responsiveSlider=$("<div/>",{"class":"hide-flex3 responsive-slider"}).css("min-height",this.tabsButtons.length*(this.options.buttonSize+this.options.buttonMargin)-this.options.buttonMargin);this.tabContentsWrapper.before(this.responsiveSlider);}
this.on();this._super(element,options);this.options.recalculateHeight=this.element.parents('.recalculate-height').length>0;this.options.dynamicHeight=this.element.parents('.molecule-hpi-802').length;if(this.options.recalculateHeight){this.options.fxHide.delay=this.options.tabCloseDuration;this.options.fxShow.delay=this.options.tabCloseDuration;this.options.fxHide.duration=150;this.options.fxShow.duration=200;}
this._initFullBackgroundColor();this._reculculateTabsElementsPositions();this.accessibilityBehavior();this.closeAnimationNow=false;HP.pageConfig.get('isResponsive')&&HP.pageConfig.get('isTouchSupport')&&this.addTouchHandlers();(function($){setTimeout(function(){self._reculculateTabsElementsPositions();if(self.underline){self._sliderAnimate();}},0);})(jQuery);},_processOldContent:function(){this.element.find('.js_tab_content').wrapAll('<div class="'+this.options.targetsWrapper.split(".")[1]+'"></div>');this.tabContentsWrapper=this.element.find(this.options.targetsWrapper);},show:function(index){this.openedItem=index;this._super(index);},setFullBackgroundWrapper:function(height){if(this.fullBackgroundWrapper){this.fullBackgroundWrapper.height(height);this.fullBackgroundWrapper.css('top',this.element.parents('.tabs-wrapper').height());}},'{_self.options.targets} {changeHeight}':function(){this._openTabContainer();},'{eventName}':function(el,ev){var curIndex=this.element.index(el),duration=0;if(this.openedItem!=curIndex){this.stopVideos();this.openedItem=curIndex;if(this.options.dynamicHeight&&!this.options.recalculateHeight){this._setCurrentTargetHeight();}
if(this.options.recalculateHeight){if(!this.closeAnimationNow){duration=this._closeTabContainer();this.options.targets.css('position','absolute').eq(curIndex).css({'position':'static','height':'auto'});}}
this._sliderAnimate(duration);this._super(el,ev);}},_sliderSetDefaultState:function(){var sliderAnimationProperty="top";if(!HP.pageConfig.get('isResponsive')||HP.ResponsiveAdapter.currentBreakPoint>this.options.breakpoint){sliderAnimationProperty="margin-left";}
this.slider.css({"top":0,"margin-left":"-7px"});this.slider.css(sliderAnimationProperty,this._calcSliderPositionForEl(this.element[this.openedItem]));},_sliderAnimate:function(closeTabDuration){var el=this.tabsButtons.get(this.openedItem);if(!closeTabDuration||closeTabDuration===undefined){closeTabDuration=this.options.fxShow.duration;}else{closeTabDuration=closeTabDuration+(closeTabDuration/4);}
if(this.underline){this.slider.css({'margin-left':$(el).position().left,'width':$(el).width()});}else{if(!HP.pageConfig.get('isResponsive')||HP.ResponsiveAdapter.currentBreakPoint>this.options.breakpoint){this.slider.stop().animate({'margin-left':this._calcSliderPositionForEl(el)},closeTabDuration);}else{this.slider.stop().animate({'top':this._calcSliderPositionForEl(el)},closeTabDuration);}}},'{window} disableTabClick':function(){this.options.isTouchMove=true;},'{window} enableTabClick':function(){this.options.isTouchMove=false;},_closeTabContainer:function(){var _self=this,duration=Math.max(this.options.tabCloseDuration,this._setIntelectDurations(this.tabContentsWrapper.outerHeight(true),this.options.tabCloseDuration));this.options.fxHide.delay=duration-this.options.fxHide.duration;this.options.fxShow.delay=duration-50;_self.closeAnimationNow=true;this.tabContentsWrapper.animate({height:0},duration,"swing",function(){_self._openTabContainer();_self.closeAnimationNow=false;});return duration;},_openTabContainer:function(){var self=this,newHeight=this._getContentHeight(),duration=this._setIntelectDurations(newHeight,this.options.tabOpenDuration);this.tabContentsWrapper.animate({height:newHeight},duration,"swing",function(){self._sliderAnimate();});this.setFullBackgroundWrapper(newHeight);},_getActiveTab:function(){return this.options.targets.eq(this.openedItem);},_getContentHeight:function(){return this._getActiveTab().outerHeight(true);},_setIntelectDurations:function(height,curDuration){var num=height/250,log=this._getDurationCoefficient(num);curDuration=num>1?curDuration*(log):curDuration*num;if(HP.pageConfig.get('isResponsive')&&HP.ResponsiveAdapter.currentBreakPoint<=800){num=800/HP.ResponsiveAdapter.currentBreakPoint;log=this._getDurationCoefficient(num);curDuration=curDuration/(log);}
return curDuration;},_getDurationCoefficient:function(num){var log=Math.log(num);if(log>=0&&log<1)log+=1;return log;},_calcSliderPositionForEl:function(element){var el=$(element);if(!HP.pageConfig.get('isResponsive')||HP.ResponsiveAdapter.currentBreakPoint>this.options.breakpoint){return el.position().left+el.outerWidth()/2-this.slider.width()/2;}
return el.position().top+el.outerHeight()/2-this.slider.height()/2;},'{window} load':function(){var self=this;setTimeout(function(){self._reculculateTabsElementsPositions();},HP.ResponsiveAdapter.windowResizeTimeout+400);},_adjustTargetsHeight:function(){if(this.options.dynamicHeight&&!this.options.recalculateHeight){this._setCurrentTargetHeight();return;}
var contents=this.options.targets,height=0;if(!this.options.recalculateHeight){contents.each(function(){height=Math.max(parseInt($(this).height("").height(),10),height);});}else{height=this._getContentHeight();}
this.tabContentsWrapper.height(height);this.setFullBackgroundWrapper(height);},_setCurrentTargetHeight:function(){var height=this._getContentHeight();this.tabContentsWrapper.height(height);},_initFullBackgroundColor:function(){if(this.tabs.parents('.bkg-color-full').length){var root=this.tabs.parents('.bkg-color-full');this.tabs.parents('.row').addClass('slider-full');if(root.hasClass('recalculate-height')){this.fullBackgroundWrapper=$('<div class="full-bg-wrapper"></div>').insertAfter(this.tabContentsWrapper);}else{root.find('.js_tab_content').each(function(i,v){var item=$(v).find('[class*="bkg-color-type"]'),target=$('<div class="full-bg"></div>').insertAfter(item),bgColor=item.css('background-color')||'transparent';target.css('background-color',bgColor);});}
this._setFullTabBackgroundColor();this.tabsButtons.click($.proxy(this,'_setFullTabBackgroundColor'));}},_setFullTabBackgroundColor:function(){var root=this.tabs.parents('.bkg-color-full'),active=this._getActiveTab(),item=active.find('[class*="bkg-color-type"]'),bgColor='transparent',isRecalculateHeight;if(item.length){root.addClass('full-bg');bgColor=item.css('background-color');}else{root.removeClass('full-bg');}
if(root.hasClass('recalculate-height')){this.fullBackgroundWrapper.css('background-color',bgColor);}},_adjustTabsHeight:function(){this.tabs.height("auto").height(this.tabs.height());},stopVideos:function(){var video=this.getCurrVideoContainer();if(video.length!=0){video.trigger("pause-video-event");}},getCurrVideoContainer:function(){var rel=$(this.element[this.openedItem]).attr('rel');return $(document.body).find("#"+rel).find(".js-youtube-player, .js-brightcove-player");},accessibilityBehavior:function(){this._getAllLinksInTabs();this.element.on('keydown',{tabs:this.element},function(event){switch(event.keyCode){case 13:$(event.currentTarget).trigger('click');break;case 37:$(this).prev(".js_tab_trigger").focus();break;case 39:$(this).next(".js_tab_trigger").focus();break;case 40:var linkToSetFocus=$('#'+$(event.data.tabs.filter(".current")).attr('rel')+' a').get(0);if(linkToSetFocus){linkToSetFocus.focus();}
break;}});this.options.targets.on('keydown',{el:this.options.targets,self:this},function(event){var index=$(event.data.el).index(this);switch(event.keyCode){case 40:event.data.self._getNextFocusLinkInTabContent(event.data.el[index].links);break;case 38:event.data.self._getPrevFocusLinkInTabContent(event.data.el[index].links);break;case 27:case 9:$(event.data.self.element[index]).focus();if(event.shiftKey){event.preventDefault();}
break;case 39:$(event.data.self.element[index]).next(".js_tab_trigger").focus();break;case 37:$(event.data.self.element[index]).prev(".js_tab_trigger").focus();break;}});},_getAllLinksInTabs:function(){for(var i=0;i<this.options.targets.length;i++){this.options.targets[i].links=$(this.options.targets[i]).find('a').attr("tabindex","-1");}},_getNextFocusLinkInTabContent:function(links){for(var i=0;i<links.length;i++){if($(links[i]).is(':focus')){links.focusedLink=i+1;break;}}
if(links.focusedLink==="undefined"||links.focusedLink>=links.length){links.focusedLink=0;}
links[links.focusedLink++].focus();},_getPrevFocusLinkInTabContent:function(links){for(var i=0;i<links.length;i++){if($(links[i]).is(":focus")){links.focusedLink=i-1;break;}}
if(links.focusedLink==="undefined"||links.focusedLink<0){links.focusedLink=links.length-1;}
links[links.focusedLink--].focus();},"{window} resize":function(){if(!HP.pageConfig.get('isResponsive'))return;var self=this;clearTimeout(this.options.resizeTimeoutId);this.options.resizeTimeoutId=setTimeout(function(){console.log("tab slider resizer ------------------------");self._reculculateTabsElementsPositions();self._sliderAnimate();},HP.ResponsiveAdapter.windowResizeTimeout+400);},_reculculateTabsElementsPositions:function(){this._adjustTabsHeight();this._adjustTargetsHeight();this._sliderSetDefaultState();},addTouchHandlers:function(){this.tabsButtons.swipe({tap:function(event,target){$(target).trigger("click");},excludedElements:''});}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.TabslideVertical=HP.Tabslide({defaults:{accordionFx:{fxShow:{effect:"slideDown",easing:$.easing["easeInQuint"]?"easeInQuint":null,duration:400,delay:0},fxHide:{effect:"slideUp",duration:300,delay:0}},fxShow:{effect:"fadeTo",easing:$.easing["easeInQuint"]?"easeInQuint":null,duration:400,delay:0},fxHide:{effect:"fadeOut",duration:300,delay:0},isTargetsHiddenByDisplay:true},vars:{tabsWrapper:null,_isAccordionMode:false}},{init:function(element,options){var originalRepaint=this.repaint;this.repaint=$.debounce(100,this.repaint);this.tabsWrapper=this.element.find(".tabs-wrapper");this._super(element,options);this.options.sliderFx=$.extend(true,{},{fxShow:this.options.fxShow,fxHide:this.options.fxHide});this._wrapTargets();originalRepaint.call(this);if(this._isAccordionMode){this.tabsButtons.removeClass("current_fst current");this.options.targets.hide();this.options.open=-1;this.openedItem=-1;}else{this.options.targets.filter('.shown').css({'position':'static','height':'auto'});}},'_wrapTargets':function(){this.options.targets.wrap('<div class="js-target-wrapper"></div>');},'_openTabContainer':function(){if(!this._isAccordionMode){this._super();this.repaint();}},'_closeTabContainer':function(){if(!this._isAccordionMode){this._super();}},'_adjustmentTabsHeight':$.noop,'_adjustmentTargetsHeight':$.noop,'_calcSliderPositionForEl':$.noop,'_sliderAnimate':$.noop,'{window} resize':'repaint','{window} load':'repaint','repaint':function(){if(HP.pageConfig.get('isResponsive')&&$('.trigger-800').is(':visible')){this._showAccordion();}else{this._hideAccordion();this._updateHeightForTabsWrapper();}},'_showAccordion':function(){if(!this._isAccordionMode){this.element.each(function(){var $trigger=$(this);$('#'+$trigger.attr('rel')).before($trigger);});this._isAccordionMode=true;$.extend(true,this.options,this.options.accordionFx);}},'_hideAccordion':function(){if(this._isAccordionMode===true){this.tabs.append(this.element);this._isAccordionMode=false;$.extend(true,this.options,this.options.sliderFx);this.tabContentsWrapper.height('auto');if(this.openedItem===-1){this.show(0);}}},'_scrollToActive':function(contentHeight){var active=this.tabsWrapper.find('.'+this.options.triggerActiveClass),activeHeight=active.outerHeight(true),activePosition=active.position().top,scrollPosition=this.tabsWrapper.scrollTop();contentHeight=contentHeight||this.tabsWrapper.innerHeight();if(activePosition<scrollPosition){this.tabsWrapper.stop(true).animate({scrollTop:activePosition},200);}else if((contentHeight+scrollPosition<activePosition+activeHeight)){this.tabsWrapper.stop(true).animate({scrollTop:activePosition-activeHeight},200);}},'_updateHeightForTabsWrapper':function(){var contentHeight=this.tabContentsWrapper.find('.js_tab_content.shown').outerHeight(true);this.tabsWrapper.css('maxHeight',contentHeight);this._scrollToActive(contentHeight);}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.SecondaryNavigation=can.Control({defaults:{navCntSelector:"nav",pinnedClass:"pinned",pinnable:false,navOffset:0},vars:{navCnt:null,responsivePinnableElement:null}},{init:function(element,options){this.navCnt=this.element.find(this.options.navCntSelector);this.responsivePinnableElement=this.element.parents('.sec-nav-fix').length?this.element.parents('.sec-nav-fix').find('>.section'):null;this.options.pinnable=this.element.attr("data-pinnable")?(this.element.attr("data-pinnable")=="true"):this.options.pinnable;this.options.navOffset=$('#body>.secondary-nav').length?$('#body>.secondary-nav').offset().top:$('#body>.sec-nav-fix').length?$('#body>.sec-nav-fix').offset().top:0;if(this.navCnt.find('a').length>1&&this.options.pinnable){this.addPinnableFunctionality();}
this.skipHeader();},"{_self.navCnt} click":function(elt,evt){if(evt.target.tagName.toLowerCase()==="a"&&this.element.hasClass(this.options.pinnedClass)){this.addNavPinMarks(evt.target);}},scrollListener:function(doc){this.options.navOffset=$('#body>.secondary-nav').length?$('#body>.secondary-nav').offset().top:$('#body>.sec-nav-fix').length?$('#body>.sec-nav-fix').offset().top:0;var shouldBePinned=false,documentOffset=doc.scrollTop();if(documentOffset>=this.options.navOffset){shouldBePinned=true;}
this.options.fromTop=documentOffset;this.pinSecNav(shouldBePinned);},pinSecNav:function(shouldBePinned){var action="removeClass";if(shouldBePinned===true){action="addClass";}
if(!this.responsivePinnableElement){this.element[action](this.options.pinnedClass);}else{this.responsivePinnableElement[action](this.options.pinnedClass);}},addPinnableFunctionality:function(){var _self=this,_document=$(window),resizeTimeout;$(window).on("scroll",function(){_self.scrollListener(_document);});if(isIE8){$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){_self.pinUnpinIE8Nav();},200);})
_self.pinUnpinIE8Nav();}},pinUnpinIE8Nav:function(){var body=$('body');body[body.outerWidth()<1000?'addClass':'removeClass']('ie8-mobile-view');},addNavPinMarks:function(elements){$(elements).each(function(index,elt){var link=$(elt),href=link.attr("href");href=href.split("#");if(href.length>1){href[1]=href[1].split("&").push("skip-header");href[1]=href[1].join("&");}
else{href.push("skip-header");}
link.attr("href",href.join("#"));});},skipHeader:function(){var part,hash=(""+document.location.hash).replace("#","").split("&");for(var q=0;q<hash.length;q++){part=hash[q].split("=");if(part[0]==="skip-header"){$(window.opera?'html':'html, body').animate({scrollTop:this.options.navOffset-5},400);}}}});HP.ExpandableSecondaryNavigation=can.Control({defaults:{menuBar:null,triggerSelector:".js_menu_holder a",targetSelector:".js_expand_area",triggerActiveClass:"selected",closeSelector:".js_close",open:1,triggers:null,targets:null,targetActiveClass:"active",pinnable:false},vars:{isAllTabsHidden:false,dockInitOffset:0,docked:false}},{'init':function(element,options){this.options.triggers=this.element.find(this.options.triggerSelector);this.options.targets=this.element.find(this.options.targetSelector);this.options.menuBar=this.element.find(this.options.menuSelector);new HP.Tabs(this.options.triggers,{targets:this.options.targets,triggerActiveClass:this.options.triggerActiveClass,triggerSelector:this.options.triggerSelector,targetActiveClass:this.options.targetActiveClass,noContentClass:this.options.noContentClass,open:this.options.open});if(this.options.menuBar.hasClass("js_dock")){this.dockInitOffset=this.options.menuBar.offset().top;}
setTimeout($.proxy(this.collapse,this),2500);},"{window} scroll":function(){if(this.options.menuBar.hasClass("js_dock")){var scrollTop=document.body.scrollTop||document.documentElement.scrollTop;if(!this.docked&&(this.options.menuBar.offset().top-scrollTop<0)){this.options.menuBar.css({top:0,position:"fixed"});this.options.menuBar.addClass("docked");this.docked=true;}else if(this.docked&&scrollTop<=this.dockInitOffset){this.options.menuBar.css({top:this.dockInitOffset+'px',position:"static"});this.options.menuBar.removeClass("docked");this.docked=false;}}},"{triggerSelector} click":function(trigger){var index=this.options.triggers.index(trigger);this.options.targets.hide();this.showTab(index,!this.isAllTabsHidden);},"{closeSelector} click":function(){this.collapse();},"mouseleave":function(trigger){this.collapse();},"showTab":function(index,withAnimation){if(withAnimation){this.options.targets.eq(index).show();}else{this.options.targets.eq(index).animate({opacity:'toggle',height:'toggle'});}
this.isAllTabsHidden=false;},"collapse":function(){if(!this.isAllTabsHidden){this.options.targets.filter("."+this.options.targetActiveClass).animate({opacity:'toggle',height:'toggle'});this.isAllTabsHidden=true;}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.SliderFactory={__factories:[],init:function(elements,options){var factories=this.__factories;$(elements).each(function(index,elt){var slider=$(elt),count=factories.length;while(count--){if(factories[count](slider,options)===true){return true;}}
return new HP.Slider(slider,options);});},registerNewSliderType:function(factory){this.__factories.push(factory);}};HP.Slider=can.Control({NEXT:'next',PREV:'prev',defaults:{infinite:true,innerMols:"*[class*=molecule-]",interval:3000,duration:500,autostart:true,navigationType:"both",navigationPosition:["aside"],beforeSlide:null,afterSlide:null,slideTo:0,order:0,tapeClass:'tape',frameClass:'frame'},vars:{tape:null,frames:null,frameDimensions:{height:0,width:0},prevIndex:0,currentIndex:0,intervalId:null,resizeTimeoutId:0,navigation:null,navTemplates:{arrow:['<div class="navigation arrow first <%= this.position || "" %>">','    <a class="prev" ','       data-metrics-identifier="scroll" ','       data-metrics-content="left arrow" ','       data-metrics-title="Not Applicable"','       tabindex="777" role="button">','        <span class="screenReading">Press to move carousel back</span>','    </a>','</div>','<div class="navigation arrow <%= this.position || "" %>">','    <a class="next" ','       data-metrics-identifier="scroll" ','       data-metrics-content="right arrow" ','       data-metrics-title="Not Applicable" ','       tabindex="777" role="button">','        <span class="screenReading">Press to move carousel forward</span>','    </a>','</div>',].join(''),dotted:['<div class="navigation dotted">','    <% for(var q = 0; q < dots; q++){ %>','        <a rel="<%= q %>" class="<%= q == 0 ? "active first" : "" %>"></a>','    <% } %>','</div>'].join('')},animationProperty:($('html').attr('dir')==='rtl'?"margin-right":"margin-left")}},{init:function(element,options){var PREMIUM_APPEARANCE_CLASS='premium-color-transition',METRICS_TRACKING_CLASS='track-metrics-flex2',ARROWS_AND_DOTS_CLASS='slider-carousel-arrows-and-dots',NO_FOCUS_NAVIGATION_STATE='no-focus';var _self=this,elementsToSlide=this.element.children(),tapeDiv='<div class="'+this.options.tapeClass+'" />',frameDiv='<div class="'+this.options.frameClass+'" />';this.element.css('overflow','hidden');this.element.addClass(METRICS_TRACKING_CLASS);if(elementsToSlide.hasClass(PREMIUM_APPEARANCE_CLASS)){this.element.addClass(PREMIUM_APPEARANCE_CLASS);}
if(elementsToSlide.hasClass(ARROWS_AND_DOTS_CLASS)){this.initSliderWithArrowsDots();}
elementsToSlide.wrapAll(tapeDiv);elementsToSlide.wrap(frameDiv);this.tape=this.element.find('.'+this.options.tapeClass);this.frames=this.element.find('.'+this.options.frameClass);this.updateSettingsFromMarkup();this.frameDimensions=this.calculateFrameDimentions(elementsToSlide);this.setDefaultStyling(this.frameDimensions);this.createNavigation();this.updateNavigationState(HP.Slider.PREV,NO_FOCUS_NAVIGATION_STATE);this.prepareAccessibility();if(this.options.infinite===true){this.frames=this.createAdditionalFrames();}
this.imageOnLoadRecalculate();if(this.options.autostart===true){this.startMoving();}
this.on();this.move(HP.Slider.NEXT,this.options.slideTo);if(HP.pageConfig.get('isTouchSupport')){this.addTouchHandlers();}
this.initSliderResize();},'{window} load':function(){this.recalculateSlider();this.frameDimensions=this.calculateFrameDimentions(this.frames);},'{window} resize':function(){this.imageOnLoadRecalculate();},'{window} delayedResize':function(){this.imageOnLoadRecalculate();},'{window} slideTo':function(element,event){this.move('next',event.frame);},'{document} keydown':function(element,event){this.keydown(this.element,event);},'{window} stopRatation':function(){this.stopMoving();},'{window} restartRotation':function(){this.restart();},restart:function(){if(this.options.autostart){this.stopMoving();this.startMoving();}},startMoving:function(){var _self=this;this.intervalId=window.setInterval(function(){_self.move();},this.options.interval);},stopMoving:function(){window.clearInterval(this.intervalId);},initSliderWithArrowsDots:function(){var slider=this.element,slides=this.element.children();slider.addClass('arrows-dots');slides.removeClass('fixed').addClass('full');},createAdditionalFrames:function(){var firstAdditionalFrame=this.frames.last().clone().addClass('cloned'),lastAdditionalFrame=this.frames.first().clone().addClass('cloned');firstAdditionalFrame.add(lastAdditionalFrame).find('.overlay-popup').remove();this.tape.prepend(firstAdditionalFrame).append(lastAdditionalFrame);return this.element.find('.'+this.options.frameClass);},imageOnLoadRecalculate:function(){var _self=this,maxHeight=0,sectionsWithBackground=this.tape.find('.section').filter(function(){var section=$(this);return section.attr('style')&&section.attr('style').indexOf('url')!=-1;});sectionsWithBackground.each(function(){var img=new Image(),bckgUrl=/url\(["']?(.*?)["']?\)/.exec($(this).attr('style'))[1];img.src=bckgUrl;img.onload=function(){_self.frames.each(function(i,el){var temp=_self._getHeightBasedOnInnerModule($(el));maxHeight=temp>maxHeight?temp:maxHeight;});_self.tape.css('height',maxHeight+'px');};});},"{_self.navigation} click":function(elt,evt){if(evt.target.tagName.toLowerCase()==="a"&&!this.frames.is(":animated")){if(this.intervalId){window.clearInterval(this.intervalId);}
var $target=$(evt.target),direction=false,frameIndex=false;if((this.options.navigationType==="arrow"||this.options.navigationType==="both")&&!$(elt).hasClass("dotted")){direction=$target.hasClass("prev")?"prev":"next";}
if((this.options.navigationType==="dotted"||this.options.navigationType==="both")&&$(elt).hasClass("dotted")){frameIndex=parseInt($target.attr("rel"),10);}
this.move(direction,frameIndex);}},"keydown":function(elt,evt){var arrows=this.navigation.filter(".arrow");if(evt.keyCode===37||evt.keyCode===40){this.move("prev");arrows.eq(0).trigger(HP.metricsFlex2.defaults.metricEvent);}
else if(evt.keyCode===38||evt.keyCode===39){this.move("next");arrows.eq(1).trigger(HP.metricsFlex2.defaults.metricEvent);}
else if(evt.keyCode===13||evt.keyCode===32){if(arrows.eq(0).is(":focus")){this.move("prev");arrows.eq(0).trigger(HP.metricsFlex2.defaults.metricEvent);}
else if(arrows.eq(1).is(":focus")){this.move("next");arrows.eq(1).trigger(HP.metricsFlex2.defaults.metricEvent);}}},"mouseenter":function(element,event){if(!event.target.tagName.match(/a|span/i)){this.stopMoving();}},"mousemove":function(){},"mouseleave":function(element,event){if(!event.target.tagName.match(/a|span/i)){this.restart();}},move:function(dir,frameIndex){var _self=this,direction=dir||(frameIndex!==undefined?(this.currentIndex<frameIndex?HP.Slider.NEXT:HP.Slider.PREV):HP.Slider.NEXT),nextIndex=this.getNextIndex(direction,frameIndex),lastFrameIndex=this.frames.length-1,targetOffset=-this.frameDimensions.width*nextIndex,currentFrame=this.frames.eq(this.currentIndex),nextFrame;if(this.tape.is(':not(:animated)')){currentFrame.find('.js-youtube-player, .js-brightcove-player').trigger('pause-video-event');if(typeof this.options.beforeSlide==='function'){this.options.beforeSlide(this);}
var animation=$.Deferred();var animationSetup={};animationSetup[_self.animationProperty]=targetOffset;this.tape.animate(animationSetup,{duration:this.currentDuration,easing:'swing',complete:function(){animation.resolve();}});animation.done(function(){if(_self.options.infinite){if(nextIndex===lastFrameIndex){nextIndex=1;}else if(nextIndex===0){nextIndex=lastFrameIndex-1;}
_self.tape.css(_self.animationProperty,-_self.frameDimensions.width*nextIndex);}
nextFrame=_self.frames.eq(nextIndex);$(window).trigger({type:'slideChange',item:_self.element,currentIndex:(_self.options.infinite)?_self.currentIndex-1:_self.currentIndex,current:currentFrame,nextIndex:(_self.options.infinite)?nextIndex-1:nextIndex,next:nextFrame});_self.frames.attr('aria-hidden','true');nextFrame.attr('aria-hidden','false');_self.currentIndex=nextIndex;_self.updateNavigationState(direction,'no-focus');if(typeof _self.options.afterSlide==='function'){_self.options.afterSlide(_self);}});}},_getCurrentDurationBasedOnScreenSize:function(number){var duration=number||this.options.duration;if(HP.pageConfig.get('isResponsive')&&HP.ResponsiveAdapter.currentBreakPoint<1492){duration=duration*HP.ResponsiveAdapter.currentBreakPoint/1492;}
return duration;},initSliderResize:function(){var _self=this;$(window).on('resize delayedResize accordionOpen accordionClose',function(){_self.recalculateSlider();});_self.recalculateSlider();},recalculateSlider:function(){var _self=this;var updatedWidth=parseInt(_self.element.outerWidth(),10),height=0;_self.currentDuration=_self._getCurrentDurationBasedOnScreenSize();_self._updateDottNavPosition();_self.frameDimensions.width=updatedWidth;_self.tape.width(updatedWidth*_self.frames.length);_self.frames.width(updatedWidth);_self.tape.css('margin-left',-_self.currentIndex*_self.frameDimensions.width);},getNextIndex:function(direction,dotIndex){var nextIndex=dotIndex;if(typeof nextIndex==='number'){if(this.options.infinite){nextIndex+=1;}
return nextIndex;}
if((this.options.navigationType==='arrow')||(this.options.navigationType==='both')||(this.options.navigationType==='dotted'&&nextIndex===undefined)){if(direction===HP.Slider.NEXT){nextIndex=this.currentIndex+1;}else{nextIndex=this.currentIndex-1;}}
nextIndex=this.__normalizeFrameIndex(nextIndex);return nextIndex;},__normalizeFrameIndex:function(index){var min=0,max=this.frames.length-1;return Math.max(min,Math.min(max,index));},markAsActive:function(){var dotted=this.navigation.filter(".dotted"),activeIndex=(this.options.infinite)?this.currentIndex-1:this.currentIndex;dotted.find(".active").removeClass("active");dotted.find("a").eq(activeIndex).addClass("active");},setNavPosition:function(navigation,type){var navType=(type==="arrow"||type==="dotted"?type:"arrow"),navPosSets={"arrow":["aside","outline","outline-left","outline-right"],"dotted":["bottom","outline","center","1-3","2-3"]};this.options.navigationPosition.sort();for(var q=0;q<this.options.navigationPosition.length;q++){if($.inArray(this.options.navigationPosition[q],navPosSets[navType])!==-1){this.options.navigationPosition[q]=this.options.navigationPosition[q].replace("1-3","one-third");this.options.navigationPosition[q]=this.options.navigationPosition[q].replace("2-3","two-third");navigation.addClass(this.options.navigationPosition[q]);}
if(this.options.navigationPosition[q]==="outline"){this.element.addClass("outlined");}
this._updateDottNavPosition();}},_updateDottNavPosition:function(){if(this.dottedNav&&this.dottedNav.length!=0){this.dottedNav.css({"margin-left":(-this.dottedNav.width()/2)});}},prepareAccessibility:function(){this.frames.find("a").attr("tabindex","-1");this.element.prepend("<a tabindex='777' id='carousel-step-in-link'><span class='screenReading'>You are in a carousel. To navigate forward use right or up arrows. To navigate back use left or down arrows.</span></a>");},calculateFrameDimentions:function(frames){var _self=this,frameDimensions={width:parseInt(_self.element.outerWidth(),10),height:0},hiddenParents=HP.Utils.getHiddenParents(this.element);hiddenParents.show();frames.each(function(index,element){var frame=$(element),frameHeight=0,frameWidth=0;frame.css({'margin-top':0,'margin-bottom':0});frameWidth=parseInt(frame.outerWidth(),10);frameHeight=_self._getHeightBasedOnInnerModule(frame);frameDimensions.height=Math.max(frameDimensions.height,frameHeight+_self.frames.position().top);frameDimensions.width=Math.max(frameDimensions.width,frameWidth);});hiddenParents.hide();return frameDimensions;},_getHeightBasedOnInnerModule:function(elt){var innerMols=elt.find(this.options.innerMols),height=elt.outerHeight();innerMols.each(function(){height=Math.max(height,$(this).outerHeight());});return height;},createNavigation:function(type){type=type||this.options.navigationType;var CLASS_NAME="";switch(type){case"arrow":{CLASS_NAME="arrow";this.element.append(can.view.ejs(this.navTemplates.arrow)({}));break;}
case"dotted":CLASS_NAME="dotted";if(this.frames.length>1){this.element.addClass(CLASS_NAME).append(can.view.ejs(this.navTemplates.dotted)({dots:this.frames.length}));}
break;case"both":this.createNavigation("arrow").createNavigation("dotted");return this;case"none":return this;}
this.navigation=this.element.find(".navigation");this.dottedNav=this.navigation.filter(".dotted");this.setNavPosition(this.navigation.filter("."+CLASS_NAME),type);return this;},updateNavigationState:function(direction,noFocus){this.element.removeClass("back-only forvard-only no-navigation no-dot-navigation");if(this.frames.length<=1){this.element.addClass('no-navigation no-dot-navigation');return;}
this._processArrowsView();if(this.currentIndex===0){this.element.addClass("forvard-only");if(!noFocus){this.element.find(".next").focus();}}
else if(direction==="next"&&this.currentIndex===this.frames.length-1){this.element.addClass("back-only");if(!noFocus){this.element.find(".prev").focus();}}
if(this.options.navigationType==="dotted"||this.options.navigationType==="both")
this.markAsActive();},_processArrowsView:function(condition){var isTouchAndNeedFadeTile=HP.pageConfig.get('isTouchSupport')&&window.innerWidth<=1024;if(condition||isTouchAndNeedFadeTile){this.element.addClass("no-navigation");this.element.toggleClass('with-fade-tile',isTouchAndNeedFadeTile);}},setDefaultStyling:function(frameDimensions,setFramePosition){setFramePosition=typeof setFramePosition==="undefined"?true:setFramePosition;this.tape.width(frameDimensions.width+"px");this.frames.eq(0).attr("aria-hidden","false");this.frames.slice(1).attr("aria-hidden","true");if(this.frames.find(".full").length>0){this.tape.css({"margin":"0 auto"});}},addDependencyHandlers:function(){var _self=this,body=$("body");body.on("HP.BlogFeed.contentReady",function(evt,blogFeed){if(_self.element.find(blogFeed.blogFeedWidget.element).length>0){blogFeed.blogFeedWidget.element.find("a").attr("tabindex","-1");}});},updateSettingsFromMarkup:function(){var position=this.element.attr("data-nav-position"),type=this.element.attr("data-nav-type"),autostart=this.element.attr("data-autostart"),infinite=this.element.attr("data-infinite"),interval=Math.abs(parseInt(this.element.attr("data-interval"),10));position=position?position.split(" "):[];this.options.navigationPosition=position.length>0?position:["aside"];this.options.navigationType=type?type:this.options.navigationType;this.options.autostart=autostart?(autostart==="true"?true:false):this.options.autostart;this.options.infinite=infinite?(infinite==="true"?true:false):this.options.infinite;this.options.interval=interval?interval:this.options.interval;},addTouchHandlers:function(){var _self=this,isSwiping=false;this.tape.swipe({swipeStatus:function(event,phase,direction,distance,duration,fingers){if(phase=="start"){isSwiping=true;}else if(phase=="cancel"||phase=="end"){isSwiping=false;};},swipeLeft:function(evt,direction,distance,duration,fingerCount){if(_self.intervalId){window.clearInterval(_self.intervalId);}
_self.move("next");},swipeRight:function(evt,direction,distance,duration,fingerCount){if(_self.intervalId){window.clearInterval(_self.intervalId);}
_self.move("prev");},excludedElements:'',threshold:50,allowPageScroll:'vertical'});if(isIE){this.tape.on("click",function(evt){isSwiping&&evt.stopImmediatePropagation();});}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){var ITEMS_CONTAINER=".row:not(.row-header)";if(!HP.SliderFactory){return;}
HP.SliderFactory.registerNewSliderType(function GridSliderFactory(element,options){if(element.hasClass('js-grid-slider')){var itemsContainer=element.children(ITEMS_CONTAINER);if(element.hasClass('molecule-800')){var otherItemsContainer=itemsContainer.not(':first');itemsContainer=itemsContainer.first();itemsContainer.append(otherItemsContainer.children());otherItemsContainer.remove();}
itemsContainer.wrap('<div class="js-grid-slider-container"/>');HP.Control.init(HP.GridSlider,itemsContainer.parent(),options);return true;}});function isUndefined(value){return value===void 0;}
HP.GridSlider=can.Control({defaults:{navigationPosition:"aside outline",duration:HP.Slider.defaults.duration,navigation:".navigation a",navigationType:"arrow",itemsContainer:ITEMS_CONTAINER+":first",accuracyInCalculations:5},vars:{navTemplates:{shifter:"<div class='grid-slider-shifter'></div>",arrow:HP.Slider.vars.navTemplates.arrow,dotted:HP.Slider.vars.navTemplates.dotted},_current:null,_shifter:null}},{'init':function(){this.__initOptions();this.repaint=$.proxy(this.repaint,this);this.__render();this._current=this.__getItems().first();this.options.navigation=this.element.find(this.options.navigation);HP.pageConfig.get('isTouchSupport')&&this.__addTouchHandlers();this.on();},'__initOptions':function(){var dataOptions=HP.Utils.getDataAttrs(this.element),options=this.options;$.each(dataOptions,function(key,value){if(!isUndefined(options[key])){options[key]=value;}});this.options.itemsContainer=this.element.find(this.options.itemsContainer);if(this.element.parents('.custom-hybrid-slider').length){this.options.navigationType+=', dotted';}},'__addTouchHandlers':function(){var isSwiping=false;this.options.itemsContainer.swipe({swipeStatus:function(event,phase){switch(phase){case'start':isSwiping=true;break;case'cancel':case'end':isSwiping=false;break;}},swipeLeft:$.proxy(this.shiftToNextItem,this),swipeRight:$.proxy(this.shiftToPreviousItem,this),excludedElements:'',threshold:50,allowPageScroll:'vertical'});if(isIE){this.options.itemsContainer.on('click',function(evt){isSwiping&&evt.stopImmediatePropagation();});}},'__render':function(){this.element.addClass('slider');this.__createShifter().__createNavigation();},'__createNavigation':function(){if(this.options.navigationType.indexOf('arrow')!==-1){this.element.append(can.view.ejs(this.navTemplates.arrow)({position:this.options.navigationPosition.replace(/,/gi,' ')}));}
if(this.options.navigationType.indexOf('dotted')!==-1){this.element.append(can.view.ejs(this.navTemplates.dotted)({dots:this.__getItems().length}));}
return this;},'__createShifter':function(){this._shifter=$(this.navTemplates.shifter);this.options.itemsContainer.prepend(this._shifter);return this;},'__shift':function(size,fast){size=-1*Math.abs(size);var options={marginLeft:size};this._shifter.stop();if(fast===true){this._shifter.css(options);}else{this._shifter.animate(options,this.options.duration,this.repaint);}},'__getOffsetForItem':function(el){var size=0;if(!this.__isFirstItem(el)){el.prevAll().not(this._shifter).each(function(){size+=$(this).outerWidth(true);});}
return parseInt(Math.min(size,this.__getMaxOffset()),10);},'__getItems':function(){return this.options.itemsContainer.children().not(this._shifter);},'__getMaxOffset':function(){return parseInt(this.__getItemsWidth()-this.options.itemsContainer.outerWidth(),10);},'__getCurrentOffset':function(){return Math.abs(parseInt(this._shifter.css('margin-left'),10));},'__getItemsWidth':function(){var size=0;this.__getItems().each(function(){size+=$(this).outerWidth(true);});return parseInt(size,10);},'__isLastItem':function($item){return!$item.next().length;},'__isFirstItem':function($item){var prev=$item.prev();return!prev.length||prev.is(this._shifter);},'__getItemIndex':function($item){return $item.index()-1;},'__highlightDot':function(index){this.element.find('.navigation.dotted a').removeClass('active').filter(':eq('+index+')').addClass('active');},'shiftToPreviousItem':function(){if(!this.__isFirstItem(this._current)){this.shiftToItem(this._current=this._current.prev());}else{this.repaint();}},'shiftToNextItem':function(){if(!this.__isLastItem(this._current)){this.shiftToItem(this._current=this._current.next());}else{this.repaint();}},'shiftToItem':function($item,fast){this.__shift(this.__getOffsetForItem($item),fast);},'shiftByIndex':function(index){this.shiftToItem(this._current=$(this.__getItems().get(index)));},'repaint':function(){var prevArrow=this.options.navigation.filter('.prev'),nextArrow=this.options.navigation.filter('.next');this.shiftToItem(this._current,true);this.__isFirstItem(this._current)?prevArrow.hide(0):prevArrow.show(0);((this.__getMaxOffset()-this.__getCurrentOffset())<=this.options.accuracyInCalculations)?nextArrow.hide(0):nextArrow.show(0);this.__highlightDot(this.__getItemIndex(this._current));},'{navigation} click':function($arrow){if($arrow.parent('.arrow').length){$arrow.hasClass('prev')?this.shiftToPreviousItem():this.shiftToNextItem();}else if($arrow.parent('.dotted').length){this.__highlightDot($arrow.index());this.shiftByIndex($arrow.index());}},'{window} resize':'repaint','{window} load':'repaint'});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.Flex2Carousel=HP.Slider({defaults:{interval:3000,duration:400,navigationType:"arrow",navigationPosition:["aside"],stepType:"fixed",onContentUpdate:null,breakpoints:[{point:319,tapeWidth:262,mTapeWidth:306,columns:1},{point:476,tapeWidth:262,mTapeWidth:306,columns:1},{point:496,tapeWidth:510,mTapeWidth:476,columns:2},{point:552,tapeWidth:508,mTapeWidth:492,columns:2},{point:670,tapeWidth:508,mTapeWidth:552,columns:2},{point:738,tapeWidth:508,mTapeWidth:552,columns:2},{point:800,tapeWidth:754,mTapeWidth:738,columns:3},{point:964,tapeWidth:754,mTapeWidth:798,columns:3},{point:999,tapeWidth:1000,mTapeWidth:1000,columns:4},{point:1214,tapeWidth:1000,mTapeWidth:1000,columns:4},{point:1492,tapeWidth:1000,mTapeWidth:1000,columns:4},{point:5000,tapeWidth:1492,mTapeWidth:1492,columns:6}],maxBreakpoint:1492,maxWidthSettings:{point:1492,tapeWidth:1000,mTapeWidth:1000,columns:4},breakpointTapeWidthAttrName:'tapeWidth',filterEngineFinishedCarouselPortion:'filter:section:finished:carousel',dataTileRowsAttr:'data-tile-rows',fixedResponsiveWidthClassName:'fixed-responsive-width',carouselCorrectTitleCount:'HP.carousel:correctTitleCount'},vars:{tape:null,frames:null,frameDimensions:{height:0,width:0,fullWidth:0},prevIndex:0,currentIndex:0,intervalId:null,resizeTimeoutId:0,swipeTimeoutId:0,eltWidth:0,navigation:null,screenSize:4},COUNTER:1},{init:function(element,options){this.prepareSlidingContent(this.element);var _self=this,elementsToSlide=this.element.find(".span6, .span12, .span18, .span24");this.slidersWeight=[];this.scrollPoints=[];this.scrollPosition=0;if(elementsToSlide.length>0){elementsToSlide.wrapAll("<div class='tape' />");elementsToSlide.wrapAll("<div class='frame' />");}
else{this.element.append("<div class='tape' ><div class='frame' ></div></div>");}
this.element.attr("data-metrics-position","swimlane");this.tape=this.element.find(".tape");this.frames=this.element.find(".frame");this.eltWidth=this.element.outerWidth();this.currentBreakpoint=this._getCurrentBreakpointObj(HP.ResponsiveAdapter.currentBreakPoint);this.minStep=246;this.options.breakpointTapeWidthAttrName='tapeWidth';this.updateSettingsFromMarkup();this.calculateFrameDimentions(elementsToSlide);this.setScrollAlgorithm();if(this.eltWidth===$("body").outerWidth())
this.eltWidth+=1;this.createNavigation();this.setDefaultStyling();this.updateNavigationState("prev","no-focus");this.prepareAccessibility();this.addDependencyHandlers();this.currentDuration=this._getCurrentDurationBasedOnScreenSize();if(HP.pageConfig.get('isTouchSupport'))this.addTouchHandlers();this._fix4TileForXXLargeBP();this.on();},_fix4TileForXXLargeBP:function(){if(this.slidersWeight.reduce(function(p,c){return p+c;},0)<=4&&(this.currentBreakpoint.columns>4)){this.element.addClass(this.options.fixedResponsiveWidthClassName);}else if(this.element.hasClass(this.options.fixedResponsiveWidthClassName)){this.element.removeClass(this.options.fixedResponsiveWidthClassName);}},"{_self.navigation} click":function(elt,evt){if(evt.target.tagName.toLowerCase()==="a"){if(this.intervalId)
clearInterval(this.intervalId);var direction=$(evt.target).hasClass("prev")?"prev":$(evt.target).hasClass('next')?"next":false;(direction&&this.move(direction));}},_getCurrentBreakpointObj:function(currentBreakPoint){if(currentBreakPoint===-1||!this.options.breakpoints){return null;}
if(currentBreakPoint>this.options.maxBreakpoint){return this.options.maxWidthSettings;}
for(var i in this.options.breakpoints){if(this.options.breakpoints[i].point==currentBreakPoint){return this.options.breakpoints[i];}}},"{window} HP:Responsive:resize":function(){},'{window} HP:Responsive:changed:breakpoint':function(){this.currentBreakpoint=this._getCurrentBreakpointObj(HP.ResponsiveAdapter.currentBreakPoint);if(this.currentBreakpoint===null||!HP.pageConfig.get('isResponsive')){return;}
if(this.tape.width!=this.currentBreakpoint[this.options.breakpointTapeWidthAttrName]||HP.pageConfig.get('isTouchSupport')){if(!HP.pageConfig.get('isTouchSupport')){this.tape.width(this.currentBreakpoint[this.options.breakpointTapeWidthAttrName]+"px");}
this.currentDuration=this._getCurrentDurationBasedOnScreenSize();this.element.trigger("HP.carousel:contentUpdate");}
this._fix4TileForXXLargeBP();},"HP.carousel:contentUpdate":function(el,ev,params){if(params&&params.concatContent){var frame=this.element.find(".frame").eq(0);this.calculateFrameDimentions(frame.children('div'));this.setScrollAlgorithm();this.setDefaultStyling(true);this.updateNavigationState("prev","no-focus");return;}
this.slidersWeight=[];this.scrollPoints=[];this.scrollPosition=0;var frame=this.frames.eq(0);this.calculateFrameDimentions(frame.children('div'));this.setScrollAlgorithm();this.setDefaultStyling();this.updateNavigationState("prev","no-focus");if(typeof this.options.onContentUpdate==="function"){this.options.onContentUpdate.call(this);}
this._fix4TileForXXLargeBP();},"{carouselCorrectTitleCount}":function(el,ev,params){var titleCount=this.element.parent('.section').prev('.section').find(".count");if(titleCount.length>0){titleCount.text(params.value+parseInt(titleCount.text()));}},move:function(direction){if(direction=="next"&&(this.scrollPosition>this.scrollPoints.length-2)||direction=="prev"&&this.scrollPosition<=0){return false;}
var _self=this,direction=direction||"next",options={duration:_self.currentDuration,easing:"swing",complete:function(){_self.updateNavigationState(direction);}};if(direction==="prev"){this.frames.animate({left:"+="+this.moveCarousel(false)},options);}
else{this.frames.animate({left:"-="+this.moveCarousel(true)},options);}},moveCarousel:function(next){return this.minStep*this.scrollPoints[next?this.scrollPosition++:--this.scrollPosition]+'px';},calculateFrameDimentions:function(frames){var _self=this;this.frameDimensions.height=0;this.frameDimensions.width=0;this.frameDimensions.fullWidth=0;var responsiveExpandableWrapper=frames.parents('.responsive-expandable-wrapper');var isResponsiveExpandableWrapperVisible=responsiveExpandableWrapper.is(":visible");if(!isResponsiveExpandableWrapperVisible)responsiveExpandableWrapper.show();frames.each(function(index,elt){var frame=$(elt),height=parseInt(frame.outerHeight(true)+_self.frames.position().top,10),width=parseInt(frame.outerWidth(true),10);if(height>_self.frameDimensions.height)
_self.frameDimensions.height=height;_self.frameDimensions.fullWidth+=width;_self.slidersWeight[index]=_self.defineSlidersWeight(frame);});if(!isResponsiveExpandableWrapperVisible)responsiveExpandableWrapper.hide();},defineSlidersWeight:function(target){if(!this.currentBreakpoint||this.currentBreakpoint.point>=496){if(target.hasClass("col-md-6")||target.hasClass("span6")){return 1;}
else if(target.hasClass("col-md-12")||target.hasClass("span12")){return 2;}
else if(target.hasClass("col-md-18")||target.hasClass("span18")){return 3;}
else if(target.hasClass("col-md-24")||target.hasClass("span24")){return 4;}}
else{return 1;}},nextSliderPosition:function(mass,depth,startPoint){var intervalValue=0,i;for(i=startPoint;i<mass.length;i++){intervalValue+=mass[i];if(intervalValue>depth){break;}}
return i;},nextSlideHasLastItemBroken:function(mass,depth,startPoint){var nextPoint=this.nextSliderPosition(mass,depth,startPoint);if(mass[nextPoint]!=1&&(nextPoint-startPoint<this.screenSize)&&nextPoint<mass.length)
{return true;}
return false;},correctLastSliderPosition:function(mass,depth,massPositions){var intervalValue=0,i;for(i=mass.length-1;i>0;i--){intervalValue+=mass[i];if(intervalValue>depth){break;}}
i++;for(var j=0;j<massPositions.length;j++){if(massPositions[j]>=i){massPositions[j]=i;massPositions.length=j+1;break;}}},setScrollAlgorithm:function(){var mass=[];var sliderPosition=0;this.scrollPoints=[];this.screenSize=this.currentBreakpoint?this.currentBreakpoint.columns:this.screenSize;for(var i=0;i<this.slidersWeight.length;i++){sliderPosition=this.nextSliderPosition(this.slidersWeight,this.screenSize,i);i=sliderPosition-1;if(this.nextSlideHasLastItemBroken(this.slidersWeight,this.screenSize,sliderPosition)){sliderPosition--;}
mass.push(sliderPosition);console.log(mass);}
if(mass[0]!=0){mass.unshift(0);}
this.correctLastSliderPosition(this.slidersWeight,this.screenSize,mass);var scrollWeight=0;for(var i=0;i<mass.length;i++){for(var j=mass[i];j<mass[i+1];j++){scrollWeight+=this.slidersWeight[j];}
this.scrollPoints.push(scrollWeight);scrollWeight=0;}},updateNavigationState:function(direction,noFocus){this.element.removeClass("back-only forvard-only no-navigation");this._processArrowsView(this.slidersWeight.reduce(function(p,c){return p+c;},0)<=this.screenSize);if(direction==="prev"){if(this.scrollPosition<=0){this.element.addClass("forvard-only");if(!noFocus)this.element.find(".next").focus();}}
else{if(this.scrollPosition>=this.scrollPoints.length-1){this.element.addClass("back-only");this.element.trigger(this.options.filterEngineFinishedCarouselPortion);if(!noFocus)this.element.find(".prev").focus();}}},setDefaultStyling:function(withPagination){var bodyWidth=$('body').outerWidth();var left=withPagination?this.frames.eq(0).css('left'):'0px';this.frames.eq(0).css({height:(this.frameDimensions.height+'px'),width:(this.frameDimensions.fullWidth+'px'),left:left});var width=(this.element.outerWidth()+'px');if(this.currentBreakpoint!==null){width=this.currentBreakpoint[this.options.breakpointTapeWidthAttrName]?this.currentBreakpoint[this.options.breakpointTapeWidthAttrName]+'px':bodyWidth+'px'}
if(HP.pageConfig.get('isTouchSupport')){width="auto";}
this.tape.css({height:(this.frameDimensions.height+'px'),width:width});this.tape.parent().width(width);},updateSettingsFromMarkup:function(){var stepType=this.element.attr("data-step-type")||"fixed";this.options.stepType=(stepType.search(/^(fixed)|(behavior)$/)!==-1?stepType:"fixed");this._super();},prepareSlidingContent:function(container){if(container instanceof jQuery){container.children('.molecule-505').wrap('<div class="span6"></div>');container.children('.molecule-504').wrap('<div class="span12 col-xs-6"></div>');var _molecules407=container.children('[id^="flex-mol-407"]').removeClass("span6");var countItemsToWrap=parseInt(container.parent().attr(this.options.dataTileRowsAttr))||1;for(var j=0;j<_molecules407.length;j+=countItemsToWrap){var wrapper=$(_molecules407[j]).wrap('<div class="span6"></div>').parent();for(var c=1;c<countItemsToWrap&&(j+c)<_molecules407.length;c++){wrapper.append(_molecules407[j+c]);}}}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.BCHTML5Factory={init:function(){var listOFBCVideos=$('.bc-video-template');listOFBCVideos.each(function(index){HP.Control.init(HP.BCHTML5Video,this,{_videoUniqueId:'bc-vid-'+index});});}}
HP.BCHTML5Video=can.Control({defaults:{_videoUniqueId:0,videoContainerSelector:'.video-container',playerData:{"data-embed":"default","controls":""}},vars:{_bcPlayer:null,_spinner:null,_captions:false}},{'init':function(element,options){this.on();this.el=element;this._captions=this.el.attr('data-captions')==='true';this._playerInitialized=$.Deferred();this._captionsAvailable=$.Deferred();this._checkVideoId();this.initListeners();},'_checkVideoId':function(){var videoIdValue=this.el.attr('data-video-id'),alphaNumericValue=isAlphaNumeric(videoIdValue);if(videoIdValue&&alphaNumericValue){this.el.attr('data-video-id',alphaNumericValue);}
function isAlphaNumeric(value){var alphaRegex=/(?:[a-z0-9]+\-)+[a-z0-9]+$/gi;if(alphaRegex.test(value)){value='ref:'+value;return value;}
return false;}},'initListeners':function(){var self=this;this.wrapper=this.el.closest('.js-brightcove-player');this.wrapper.on('play-video-event',function(){if(self._bcPlayer){self.play();}else{self.initWith().then(function(){self.play();});}}).on('pause-video-event',function(){self.pause();});this._captions&&this._captionsAvailable.then(function(){self._showCaptions();});},'initWith':function(options,cb){var self=this;self._preparePlayerHtml();self._createSpinner();return self.loadAPIIfNeeded().then(function(){return self.createNewPlayer()}).then(function(player){self._bcPlayer=player;self._playerInitialized.resolve(self);self._spinner.fadeOut(800);self.initMetrics();self._bcPlayer.on('play',function(e){self._captionsAvailable.resolve();});cb&&cb();return self._playerInitialized.promise();});},_preparePlayerHtml:function(){var playerEl=$('<video />',{'id':this.options._videoUniqueId,'class':"video-js"}),playerAttrs=this.playerAttrs=$.extend({},this.options.playerData,this._getParams());for(var i in playerAttrs){playerEl.attr(i,playerAttrs[i]);}
this.el.replaceWith(playerEl);this.el=playerEl;},_createSpinner:function(){this._spinner=$('<div/>',{'class':'spinner'});this.el.closest(this.options.videoContainerSelector).append(this._spinner);},_getParams:function(){var requiredParams=[{name:'account',val:'account'},{name:'player',val:'playerID'},{name:'video-id',val:'video-id'}],params={},self=this;requiredParams.forEach(function(param,index){params['data-'+param.name]=self.el.attr('data-'+param.val);});return params;},loadAPIIfNeeded:function(){let APILoaded=$.Deferred(),APISrc=this._getPlayerInitScript();$.getScript(APISrc,function(){APILoaded.resolve();});return APILoaded.promise();},createNewPlayer:function(element,options){var playerReady=$.Deferred();if(typeof videojs!='undefined'){videojs(this.options._videoUniqueId).ready(function(){playerReady.resolve(this);});};return playerReady.promise();},_getPlayerInitScript:function(){return"//players.brightcove.net/"+this.playerAttrs['data-account']+"/"+this.playerAttrs['data-player']+"_default/index.min.js";},_showCaptions:function(){var tracks=this._bcPlayer.textTracks();for(var i=0;i<tracks.length;i++){var track=tracks[i];if(track.kind==='captions'&&this._trackLangMatchesPage(track.language)){track.mode='showing';}}},_trackLangMatchesPage:function(language){if(language){var trackLang=language.toLowerCase(),trackLangSplited=trackLang.split('-'),pageLang=$('html').attr('lang')?$('html').attr('lang').toLowerCase():'en-us';if(trackLangSplited.length>1){return trackLang===pageLang;}
return trackLangSplited[0]===pageLang.split('-')[0];}},play:function(cb){var self=this;this._playerInitialized.then(function(){self._bcPlayer.play();cb&&cb();});},pause:function(){var self=this;this._playerInitialized.then(function(){self._bcPlayer.pause();});},initMetrics:function(){var events=['playing','pause','ended'],videoTitle='',videoDurationInSeconds,videoQueuePointInSeconds,hasBeenEnded=true,self=this;this._bcPlayer.on('loadedmetadata',function(){videoDurationInSeconds=Math.floor(self._bcPlayer.duration()||0);videoTitle=self._bcPlayer.mediainfo?self._bcPlayer.mediainfo.name:'';});events.forEach(function(event){self._bcPlayer.on(event,handleEvent);});function handleEvent(event){if(videoDurationInSeconds){videoQueuePointInSeconds=Math.floor(self._bcPlayer.currentTime()||0);switch(event.type){case'playing':{if(hasBeenEnded){hasBeenEnded=false;send('open',videoTitle,videoDurationInSeconds);}
send('play',videoTitle,videoQueuePointInSeconds);break;}
case'pause':{(videoQueuePointInSeconds!=videoDurationInSeconds)&&send('stop',videoTitle,videoQueuePointInSeconds);break;}
case'ended':{hasBeenEnded=true;send('close',videoTitle,videoQueuePointInSeconds);break;}}}}
function send(eventType,title,duration){console.log(eventType,title,duration);try{trackVideoMetrics(eventType,title,duration);}catch(e){console.log('Metrics are NOT sent: '+e.message);}}}});}(jQuery,can,window.HP||(window.HP={})));(function($,HP){HP.BrightcoveBindEvents={init:function(player,wrapper){if(HP.Brightcove.queueVideoId&&HP.Brightcove.queueVideoId.length>1){if(HP.Brightcove.queueVideoId==player.experience.id){player.play();}}
function isPlayingHandler(result){return result;}
wrapper.on('pause-video-event',function(){try{player.pause();HP.Brightcove.queueVideoId=false;}catch(e){}});wrapper.on('play-video-event',function(){try{player.play();console.log('------------open------------'+wrapper.parent('.overlay-popup').attr('id'));}catch(e){}});wrapper.on('toggle-video-event',function(){try{if(player.getIsPlaying(isPlayingHandler)){player.pause();}
else{player.play();}}catch(e){}});}};})(jQuery,window.HP||(window.HP={}));(function($,HP){var hasFlash=function(version){return swfobject.hasFlashPlayerVersion(version);};HP.Brightcove={videoPlayer:null,APIModules:null,countOfPlayersOnPage:null,iterator:0,queueVideoId:' ',initPlayers:function(){if(!window.brightcove||typeof window.brightcove.createExperiences!='function'){$.getScript("//admin.brightcove.com/js/BrightcoveExperiences.js",HP.Brightcove.initPlayers);return;}
if(!window.brightcove.api){$.getScript("//admin.brightcove.com/js/api/SmartPlayerAPI.js",HP.Brightcove.initPlayers);return;}
brightcove.createExperiences();var oldPlayers=$(".js-brightcove-player").filter(function(){return!$(this).find('.bc-video-wrapper').length;})
if(oldPlayers.length){HP.Brightcove._processPlayersView(oldPlayers);}},_processPlayersView:function(brConainers){brConainers.each(function(index,el){var el=$(el);var object=el.find("iframe");if(object.length===0){object=el.find("object");}
el.css({"width":object.attr("width"),"height":object.attr("height")});if(el.attr("data-show-spooler")=="true"&&hasFlash('10')){HP.Control.init(HP.Spooler,el);(window.isFF)&&(window.setTimeout(function(){el.trigger('spoolerHide');},2500));}});},onTemplateReady:function(event){var playerId=event.target.experience.id,playerEl=$('#'+playerId),playerParent=playerEl.parents('.js-brightcove-player'),player=brightcove.api.getExperience(playerId),APIModules=brightcove.api.modules.APIModules,videoPlayer=player.getModule(APIModules.VIDEO_PLAYER),experienceModule=player.getModule(APIModules.EXPERIENCE),videoCaptionsModule=player.getModule(APIModules.CAPTIONS),playerContainerData=playerParent.find('object').attr('data'),resizeVideo=function(){if(experienceModule.experience.type==='html'&&playerEl.parents('.overlay-popup').length){var windowWidth=playerEl.width();experienceModule.setSize(windowWidth,windowWidth*9/16);}};if(isIE){playerContainerData=playerParent.find('object param[name="movie"]').attr('value');}
var enableCaptions=(HP.Utils.getUrlParamValue('enableCaptions',playerContainerData)||"").toLowerCase();var languageCaptions=HP.Utils.getUrlParamValue('languageCaptions',playerContainerData);var videoEmbededContainer=playerEl.closest(".video-embedded");var playerHidden=0;if(videoEmbededContainer.length>0&&!videoEmbededContainer.is(":visible"))playerHidden=1;if(playerHidden)videoEmbededContainer.css("display","block");var ratio=playerParent.outerHeight()/playerParent.width();videoPlayer.getCurrentRendition(function(renditionDTO){if(renditionDTO){var _ratio=renditionDTO.frameHeight/renditionDTO.frameWidth;ratio=ratio>_ratio?_ratio:ratio;}});if(playerHidden)videoEmbededContainer.css("display","none");if(videoPlayer){if(playerParent){playerParent.trigger('spoolerHide');if(languageCaptions){videoCaptionsModule.setLanguage(languageCaptions);}
if(enableCaptions==="true"){videoCaptionsModule.setCaptionsEnabled(true);}
HP.BrightcoveBindEvents.init(videoPlayer,playerParent);}
HP.Brightcove._bindMetricsOnReady(event);resizeVideo();$(window).on('resize',function(){resizeVideo();});}else{console.log("Error: BR video player not loaded!");}},onTemplateLoaded:function(id){var playerParent=$('#'+id).closest('.js-brightcove-player');if(playerParent){playerParent.trigger('spoolerHide');}
HP.Brightcove._bindMetricsOnLoaded();},onTemplateError:function(event){console.log("type: "+event.type);console.log("errorType: "+event.errorType);console.log("code: "+event.code);console.log("info: "+event.info);},_bindMetricsOnReady:function(event){var interval=null,bindMetric=function(){if(typeof VideoAnalytics!="undefined"&&typeof VideoAnalytics.Brightcove.onTemplateReady=="function"){clearInterval(interval);VideoAnalytics.Brightcove.onTemplateReady(event);console.log("READY!VideoAnalytics.Brightcove.onTemplateReady - done");}else{console.info("VideoAnalytics.Brightcove.onPlayerReady not defined. BR metrics will not work");}
if(HP.Brightcove.iterator++>=30){clearInterval(interval);}};interval=setInterval(bindMetric,500);},_bindMetricsOnLoaded:function(){var interval=null,bindMetric=function(){if(typeof VideoAnalytics!="undefined"&&typeof VideoAnalytics.Brightcove.onTemplateLoaded=="function"){clearInterval(interval);VideoAnalytics.Brightcove.onTemplateLoaded();console.log("LOADED!VideoAnalytics.Brightcove.onTemplateLoaded - done");}else{console.log("trackMetrics binding");}
if(HP.Brightcove.iterator++>=30){clearInterval(interval);}};interval=setInterval(bindMetric,500);}};}(jQuery,window.HP||(window.HP={})));(function($,can,HP,params){HP.YTPlayer=can.Control({defaults:{intranetAccess:false,embedType:null,forcedTimeout:5000,altText:""+"<div class='video-alt-text'>"+"<div>Your Flash Player is not installed or out of date.</div>"+"<div>So please update it or you can <a href='//www.youtube.com/watch?v=<%= videoInfo.videoId %>' target='_blank'>view that video on YouTube</a>.</div>"+"</div>",videoCntSelector:".js-youtube-player",videoFinishedClass:"video-finished",playerLastState:-1,iterator:0,events:{pause:"pause-video-event",play:"play-video-event",stop:"stop-video-event",toggle:"toggle-video-event",ready:"player-ready",toStart:"to-start-video-event"},forceReInit:false},vars:{videoCntWrapper:null,videoInfo:{},player:null}},{init:function(element,options){this.playerInit=$.Deferred();this.options.embedType=HP.YTPlayer.NOT_DEFINED;this.getVideoInfo();this.element.attr("id",this.videoInfo.cntId);var altHTML=this.element.html(),altText=this.element.text(),self=this;($.trim(altText)&&altText!="//")&&(this.options.altText=altHTML);this.generateEmbeddedIframe();if(typeof this.videoInfo.height==="string"&&this.videoInfo.height.indexOf("%")!==-1){this.setContainerDimensions(this.element);}
this.videoCntWrapper=this.element.closest(this.options.videoCntSelector);this.closeButton=this.videoCntWrapper.find(".js_pop_close");if(this.closeButton.length==0)this.closeButton=0;this.setContainerDimensions(this.videoCntWrapper);if(this.videoCntWrapper.attr("data-show-spooler")==="true"&&window.isSAFARI===false){if(this.element&&this.element.length){HP.Control.init(HP.Spooler,this.element);this.playerInit.done(function(){self.element.trigger('spoolerHide');});setTimeout(function(){self.element&&self.element.trigger('spoolerHide')},5000);}}
element.css("width",element.data("width"));element.css("height",element.data("height"));this.on();this.embedVideo();},buildVideoURL:function(videoId,autoplay,jsAPI,apiId,related){var videoURL="";videoURL+=("//www.youtube.com/v/"+this.videoInfo.videoId+"?hl=en_US&version=3");videoURL+=("&enablejsapi="+(jsAPI===true?"1":"0"));videoURL+=("&playerapiid="+(typeof apiId==="string"?apiId:(this.videoInfo.videoId+"_"+(new Date().getTime()))));videoURL+=("&autoplay="+(this.videoInfo.autoplay===1?"1":"0"));videoURL+=(this.videoInfo.related===0)?"&rel=0":"";return videoURL;},getVideoInfo:function(){var fullVideoUrl=this.element.parent().find('meta').attr('content'),htmlLang=$('html').attr('lang');this.videoInfo.height=this.element.data("height");this.videoInfo.width=this.element.data("width");this.videoInfo.videoId=this.element.data("id")||"";this.videoInfo.autoplay=this.element.data("autoplay");this.videoInfo.apiId=this.videoInfo.videoId+"_"+parseInt(Math.random()*1000000,10);this.videoInfo.related=fullVideoUrl&&Number(HP.Utils.getUrlParamValue('rel',fullVideoUrl))===0?0:1;this.videoInfo.url=this.buildVideoURL(this.videoInfo.videoId,this.videoInfo.autoplay,true,this.videoInfo.apiId,this.videoInfo.related);this.videoInfo.cntId=this.videoInfo.apiId+"_YT_CNT";this.videoInfo.playerId=this.videoInfo.apiId+"_player";this.videoInfo.pageLang=htmlLang.length?htmlLang==='zh-tw'?'zh_tw':htmlLang.split('-')[0]:'en';this.videoInfo.showSubtitles=this.element.data('subtitles');if(typeof this.videoInfo.autoplay==="number"){this.videoInfo.autoplay=this.videoInfo.autoplay===1?1:0;}
else if(typeof this.videoInfo.autoplay==="string"&&this.videoInfo.autoplay==="true"){this.videoInfo.autoplay=1;}
else{this.videoInfo.autoplay=0;}
if(typeof this.videoInfo.height==="undefined"||this.videoInfo.height===""){this.videoInfo.height="100%";}
if(typeof this.videoInfo.width==="undefined"||this.videoInfo.width===""){this.videoInfo.width="100%";}},embedVideo:function(){var self=this;if(typeof window.YT==="undefined"){this.loadYTIframeAPI();}else{HP.YTPlayer.YTIframeAPIReady=HP.YTPlayer.YTIframeAPIReady||$.Deferred();YT.ready(HP.YTPlayer.YTIframeAPIReady.resolve);}
HP.YTPlayer.YTIframeAPIReady.done(function(){self.embedIframe();});this.playerInit.done(function(){this.videoCntWrapper.trigger(self.options.events.ready);});},generateEmbeddedIframe:function(){this.element.text("");this.element.append($("<iframe/>",{"id":this.videoInfo.playerId,"frameborder":0,"allowfullscreen":1,"title":"Youtube video","height":this.videoInfo.height,"width":this.videoInfo.width,"type":"text/html","src":"https://www.youtube.com/embed/"+this.videoInfo.videoId+"?wmode=opaque&modestbranding=1&showinfo=0&hl="+
this.videoInfo.pageLang+"&cc_lang_pref="+
this.videoInfo.pageLang+"&rel=1&enablejsapi=1&origin="+document.location.origin}));},embedIframe:function(){var self=this,ready=$.proxy(function(event){this.options.embedType=HP.YTPlayer.IFRAME;this.onPlayerReady(event);this.player.addEventListener("onStateChange",onPlayerStateChange)},this),onPlayerStateChange=function(newState){console.log("==handed a newState:"+newState.data);self._metricsOnStateChange(newState);if(self.videoInfo.showSubtitles){self.player.loadModule("captions");self.player.loadModule("cc");}else{self.player.unloadModule("captions");self.player.unloadModule("cc");}};var player=YT.get(this.videoInfo.playerId);if(!this.options.forceReInit&&!this.player&&player){this.player=player;console.info("YT player already defined for id="+this.videoInfo.playerId);ready();}
else{console.info("YT init new player: "+this.videoInfo.playerId);this.player=new YT.Player(this.videoInfo.playerId,{events:{"onReady":ready}});}},loadYTIframeAPI:function(){var self=this,ytScript=document.createElement('script');ytScript.src="https://www.youtube.com/iframe_api";HP.YTPlayer.YTIframeAPIReady=HP.YTPlayer.YTIframeAPIReady||$.Deferred();ytScript.onload=function(){YT.ready(HP.YTPlayer.YTIframeAPIReady.resolve);};document.getElementsByTagName("head")[0].appendChild(ytScript);},onPlayerReady:function(event){this.playerInit.resolveWith(this);},_metricsOnStateChange:function(event){var self=this,bindMetric=function(){var videoDurationInSeconds=Math.floor((self.player.getDuration()-0.01)||0),videoQueuePointInSeconds=Math.round(self.player.getCurrentTime()||0),videoTitle=self.player.getVideoData().title;try{if(self.options.playerLastState==HP.YTPlayer.UNSTARTED){console.log('***********Homepage: Youtube player UNSTARTED **********','open'+','+videoTitle+','+videoDurationInSeconds);trackVideoMetrics('open',videoTitle,videoDurationInSeconds);}
if(event.data==HP.YTPlayer.PLAYING){console.log('***********Homepage: Youtube player PLAYING **********','play'+','+videoTitle+','+videoQueuePointInSeconds);trackVideoMetrics('play',videoTitle,videoQueuePointInSeconds);}else if(event.data==HP.YTPlayer.PAUSED){console.log('***********Homepage: Youtube player PAUSED **********','stop'+','+videoTitle+','+videoQueuePointInSeconds);trackVideoMetrics('stop',videoTitle,videoQueuePointInSeconds);}else if(event.data==HP.YTPlayer.ENDED){console.log('***********Homepage: Youtube player ENDED **********','close'+','+videoTitle);trackVideoMetrics('close',videoTitle);}}catch(e){console.log('%c Metrics are not working due to: '+e.message,'background: #222; color: #bada55');}
event.data==HP.YTPlayer.ENDED?self.options.playerLastState=HP.YTPlayer.UNSTARTED:self.options.playerLastState=event.data;};bindMetric();},setContainerDimensions:function(cnt){cnt.css({height:this.videoInfo.height,width:this.videoInfo.width});},triggerOnReady:function(eventToTrigger){var self=this;this.playerInit.done(function(){self.videoCntWrapper.trigger(eventToTrigger);});},"{_self.videoCntWrapper} {events.play}":function(){if(this.options.embedType===HP.YTPlayer.NOT_DEFINED){this.triggerOnReady(this.options.events.play);return;}
if(this.player&&typeof(this.player.playVideo)==="function"){this.player.playVideo();}},"{_self.videoCntWrapper} {events.pause}":function(){if(this.options.embedType===HP.YTPlayer.NOT_DEFINED){this.triggerOnReady(this.options.events.pause);return;}
if(this.player&&typeof(this.player.pauseVideo)==="function"){this.tryToPauseVideo();}},"{_self.videoCntWrapper} {events.stop}":function(){if(this.options.embedType===HP.YTPlayer.NOT_DEFINED){this.triggerOnReady(this.options.events.stop);return;}
if(this.player&&typeof(this.player.pauseVideo)==="function"){this.player.pauseVideo();}},"{_self.videoCntWrapper} {events.toggle}":function(){if(this.options.embedType===HP.YTPlayer.NOT_DEFINED){this.triggerOnReady(this.options.events.toggle);return;}
if(this.player&&typeof(this.player.pauseVideo)=='function'){if(!this.tryToPauseVideo())this.player.playVideo();}},"{_self.videoCntWrapper} {events.toStart}":function(){if(this.options.embedType===HP.YTPlayer.NOT_DEFINED){this.triggerOnReady(this.options.events.toStart);return;}
if(this.player&&typeof(this.player.seekTo)==="function"){this.player.seekTo(0);}},"{_self.videoCntWrapper} swf-player-ready":function(){this.player=this.videoCntWrapper.find("object").get(0);this.options.embedType=HP.YTPlayer.SWF;this.onPlayerReady();},tryToPauseVideo:function(){var state=this.player.getPlayerState();if(state!==HP.YTPlayer.PAUSED&&(state===HP.YTPlayer.PLAYING||state===HP.YTPlayer.BUFFERING||state===HP.YTPlayer.ENDED)){this.player.pauseVideo();return 1;}
return 0;}});HP.YTPlayer.YTIframeAPIReady=null;HP.YTPlayer.NOT_DEFINED=0;HP.YTPlayer.IFRAME=1;HP.YTPlayer.SWF=2;HP.YTPlayer.UNSTARTED=-1;HP.YTPlayer.ENDED=0;HP.YTPlayer.PLAYING=1;HP.YTPlayer.PAUSED=2;HP.YTPlayer.BUFFERING=3;HP.YTPlayer.CUED=5;}(can.$,can,window.HP||(window.HP={})));(function($,can,HP,params){HP.EmbeddedVideo=can.Control({defaults:{layerClass:'.layer',considerScroll:true,animateDurationShow:200,animateDurationHide:700,showSpoolerEvent:'spoolerShow',hideSpoolerEvent:'spoolerHide',spoolerShowOnStart:'true',iconType:'small',videoStartedClassName:"video-started"}},{'init':function(element,options){this.elementRel=this.element.attr('rel');this.embeddedVideoContainer=$('#'+this.elementRel);this.parentWrapper=this.embeddedVideoContainer.closest(".molecule-302, .molecule-hpi-302, .molecule-602, .molecule-814");this.youtubeContainer=this.embeddedVideoContainer.find(".js-youtube-player");this.brightcoveContainer=this.embeddedVideoContainer.find(".js-brightcove-player");this.isYTPlayer=0;if(this.youtubeContainer.length>0){this.videoContainer=this.youtubeContainer;this.isYTPlayer=1;}else{this.videoContainer=this.brightcoveContainer;}},"click":function(){this.startEmbeddedVideo();},startEmbeddedVideo:function(){var self=this;var isManuallyStarted=0;if(this.embeddedVideoContainer.css('display')=='none'){if(this.isYTPlayer&&HP.pageConfig.get('isOnMobile')){this.showEmbeddedVideo();}
else{this.embeddedVideoContainer.show(function(){self.videoContainer.trigger('play-video-event');});}}
else{if(this.isYTPlayer&&HP.pageConfig.get('isOnMobile')){isManuallyStarted=this.videoContainer.attr("data-started-manually");if(!isManuallyStarted){this.showEmbeddedVideo();return;}}
if(this.videoContainer.length!=0)this.videoContainer.trigger('toggle-video-event');}
if(this.parentWrapper.length>0){this.parentWrapper.addClass(this.options.videoStartedClassName);}},showEmbeddedVideo:function(){this.embeddedVideoContainer.css('display','block');}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.LogosSeparator=can.Control({defaults:{logosSelector:'.logos a',maxColsNumber:6,defaultSeparationType:'separateStreigth'},vars:{separatorTemplate:'<br/>'}},{'init':function(element,options){if(!this.element){return;}
this.logos=this.element.find('a');if(typeof this[options.separationType]=='function'){this[options.separationType]();}else{this[options.defaultSeparationType]();}},'separateStreigth':function(){var length=this.logos.length;var last_row_items=length%this.options.maxColsNumber;var tmp=(this.options.maxColsNumber+last_row_items)/2;var should_be_in_first_row=length/this.options.maxColsNumber>1?Math.floor(tmp):0;for(var i=0;i<length;i++){if((i-should_be_in_first_row+1)%this.options.maxColsNumber==0||i==should_be_in_first_row-1)
$(this.separatorTemplate).insertAfter(this.logos.eq(i));}}});})(can.$,can,window.HP||(window.HP={}));window.SCREENREADING_LABELS={'open_menu_prefix':'Open ','open_menu_suffix':' Menu','close_menu_prefix':'Close ','close_menu_suffix':' Menu','opened_state_menu_prefix':'Menu ','opened_state_menu_suffix':' is opened','closed_state_menu_prefix':'Menu ','closed_state_menu_suffix':' is closed','open_popup_prefix':'Open ','open_popup_suffix':' Dialog','close_popup_prefix':'Close ','close_popup_suffix':' Dialog','expand_prefix':'Expand ','expand_suffix':'List','collapse_prefix':'Collapse ','collapse_suffix':'List','search_box_suggestion_title':'Use arrow keys to select a search suggestion'};(function($,can,HP,params){HP.Dropdown=HP.Popup({defaults:{hideDelay:0,fxShow:null,fxHide:null,showEvent:'click',hideEvent:'click',itemsMaxLimit:null,container:null,inputSelector:'',labelSelector:'',itemSelector:'li>a',disabledClass:'disabled',hoveredClass:'hovered',selectedClass:'selected active',labelText:'',containerActiveClass:'',itemActiveClass:'',upsideActiveName:'',accessibilitySelectedItemText:'Selected item',accessibilityUnSelectedItemText:'Unselected item',cssStyles:{beforeCalcDimensions:{visibility:"hidden",display:"block",position:"relative"},afterCalcDimensions:{position:"absolute",visibility:"visible",display:"none"}},upsideName:'upside',isFacet:false,changedBreakPointEvent:"HP:Responsive:changed:breakpoint",breakpoint:496,breakpointFlex2:670,hasResponsiveBehavior:false,htmlClass:'dropdown-overlay'},vars:{input:null,label:null,dimensions:{targetHeight:0,triggerHeight:0,targetOffset:0}}},{'init':function(element,options){this.options.container=element;if(this.options.container.parents('.secondary-nav-widget').length){this.options.container.parents('.secondary-nav-widget').find('.molecule-406').addClass('fixed-width');}
this.itemsMaxLimit=this.options.itemsMaxLimit;this.accessibilitySelectedItemText=this.options.container.data("accessibility-selected")||this.options.accessibilitySelectedItemText;this.accessibilityUnSelectedItemText=this.options.container.data("accessibility-unselected")||this.options.accessibilityUnSelectedItemText;this.options.triggerEl=this.options.container.find(".js-dd-trigger");this.element=this.options.container.find(".js-dd-target");this.toggleButton=this.options.triggerEl.find(".dropdown-toggle").eq(0);this.toogleButtonHasFixedWidth=0;this.openOnClick=true;this.items=this.element.find(this.options.itemSelector);this.options.hasResponsiveBehavior=HP&&HP.meta&&HP.meta.pageType=="FLEX2"?false:this.options.hasResponsiveBehavior;if(this.toggleButton.hasClass('js-fixed-width')){this.toogleButtonHasFixedWidth=1;}
if(!this.options.labelText){var defaultKey=this.options.container.data("default-key");if(defaultKey){this.defaultResetItem=this.items.filter('[data-filter-value="'+defaultKey+'"]');}else{this.defaultResetItem=this.items.first();}
this.options.labelText=this.options.triggerEl.find(".label").text();}
this.addItemHoveredState();this.addItemSelectedState();this.setToggleButtonMaxWidth();if(HP.pageConfig.get('isOnMobile')){this.options.isFacet=1;}
if(HP.pageConfig.get('isResponsive')){this.addTouchHandlers();}
this.initAccessibility();if(this.options.inputSelector!=""){this.input=this.options.container.find(this.options.inputSelector);this.label=this.options.container.find(this.options.labelSelector);}
this.isAdaptedToBreakpointState=false;var moduleWidth=this.options.container.find('.dropdown-toggle.button').outerWidth();this.options.container.parents('.molecule-406.fixed-width').css("width",moduleWidth);if(this.options.container.parents('.molecule-406').length){this.options.container.parents('.molecule-406').find('>.dropdown').wrap('<div class="dd-wrapper"></div>');}
this.on();this._super();},initAccessibility:function(){var self=this;if(HP.Accessibility){var popAA=new HP.Accessibility.PopupMain(this);popAA.addSimpleAccessibility();popAA.addAutoCompleteAccessibility();}
this.toggleButton.on('focus',function(){setTimeout(function(){if(self.element.is(':hidden')){self.show();}},150);});this.options.triggerEl.on('keydown',function(event){if(event.which==HP.Keys.TAB){if(!event.shiftKey){self.hide();}}});},'{container} dropdown:select':function(el,ev,params){var defaultText=this.options.labelText,selectedClass=this.options.selectedClass,selectedItem=this.items.filter($(params.item));if(!selectedItem.length||selectedItem.hasClass(this.options.disabledClass)){return;}else{var itemText=selectedItem.text()+" - ";this.items.removeClass(selectedClass).attr("title",itemText+this.accessibilityUnSelectedItemText);selectedItem.addClass(selectedClass).attr("title",itemText+this.accessibilitySelectedItemText);this.options.triggerEl.find(".label").text(selectedItem.data("selectedLabel")||defaultText);this.toggleButton.attr('title',selectedItem.data("selectedLabel")||defaultText);}},'{triggerEl} {showEvent}':function(elements,event){if(this.options.container.hasClass(this.options.disabledClass))
return;this.toggle(this.options.showEvent!=this.options.hideEvent?true:!this.isVisible());},'{hideEvent}':function(){},'{triggerEl} {hideEvent}':function(elements,event){if(HP.pageConfig.get('isResponsive')&&HP.pageConfig.get('isOnMobile'))return;this.on();this._super();},'click':function(elements,event){if(this.input){var target=$(event.target),item=null;if(this.options.itemClass!=""){item=target.closest(this.options.itemSelector);if(item.length>0&&!target.hasClass("group_label")){this.setValue(target.data("value"),target.html());this.element.find(this.options.itemSelector).removeClass(this.options.itemActiveClass);target.closest(this.options.itemSelector).addClass(this.options.itemActiveClass);}}}
if(this.options.showEvent!="click"&&this.options.hideEvent!="click"){this._onHide();}},'show':function(){this._super();this.options.triggerEl.css("z-index",11);if(!this.toogleButtonHasFixedWidth&&!this.options.isFacet){this.toggleButton.css("width",this.dimensions.targetWidth);}
this.options.container.addClass(this.options.containerActiveClass);this.options.container.addClass(this.options.upsideActiveName);this.openState=true;if(this.itemsMaxLimit){this.countDropDownHeight(this.element);}
this.scrollToDropdown();this.setDropDownMaxWidth();this.updateDropdownPosition();var parentSlider=$(this.element).parents(".slider");if(parentSlider.length){parentSlider.addClass('inside-is-406');$('.body').addClass("hide-horr-scroll");}
var sectionAlign=$(this.element).parents(".section.align-cell-middle");if(sectionAlign.length){sectionAlign.addClass('dropdown-inside');}},'hide':function(){this._super();this.options.triggerEl.css("z-index",2);this.options.container.removeClass(this.options.containerActiveClass);this.options.container.removeClass(this.options.upsideActiveName);this.options.upsideActiveName='';this.element.css("margin-top","0");this.openState=false;var parentSlider=$(this.element).parents(".slider");if(parentSlider.length){parentSlider.removeClass('inside-is-406');$('.body').removeClass("hide-horr-scroll");}
var sectionAlign=$(this.element).parents(".section.align-cell-middle");if(sectionAlign.length){sectionAlign.removeClass('dropdown-inside');}},countDropDownHeight:function(dropDown){var $dropDownMenu=$(dropDown),items=$dropDownMenu.find('li'),dropDownHeight=0,ITEMS_MAX_LIMIT=this.itemsMaxLimit;if(items.length>ITEMS_MAX_LIMIT){$dropDownMenu.css({'max-height':'200px','overflow-y':'auto'});for(var i=0;i<ITEMS_MAX_LIMIT;i++){dropDownHeight+=$(items[i]).outerHeight();}
$dropDownMenu.css('max-height',dropDownHeight);}},setDropDownMaxWidth:function(){var module406=this.options.container.parents('.molecule-406'),dropdown=this.element,items=this.element.find('li'),maxWidthVal,widthValue;if(module406.parent().hasClass('module-align-center')){module406.addClass('module-align-center');}
dropdown.css('width','auto');maxWidthVal=this.getMaxWidthItem(items,dropdown);widthValue=this.getWidthvalue(maxWidthVal);if(dropdown.width()>0){dropdown.css('width',widthValue);}},getMaxWidthItem:function(items,dropdown){var maxWidthVal=0,itemWidth=0;items.addClass('item-width');for(var i=0;i<items.length;i++){itemWidth=Math.ceil(items[i].getBoundingClientRect().width);if(itemWidth>maxWidthVal){maxWidthVal=itemWidth;}}
items.removeClass('item-width');return maxWidthVal;},getWidthvalue:function(maxWidthVal){var dropdownBtnWidth=this.toggleButton.outerWidth(),widthValue;if(maxWidthVal>385){widthValue='385px';}else{widthValue=(maxWidthVal<dropdownBtnWidth?dropdownBtnWidth:maxWidthVal)+'px';}
if($(window).width()<425){widthValue='inherit';}
return widthValue;},setToggleButtonMaxWidth:function(){var module406=this.options.container.parents('.molecule-406');if(module406.outerWidth()>385){this.toggleButton.css('max-width','385px');}else{this.toggleButton.css('max-width','100%');}},updateDropdownPosition:function(){var module406=this.options.container.parents('.molecule-406'),dropdown=this.element,trigBtnPosLeft=this.options.triggerEl.get(0).getBoundingClientRect().left,dropDownPosRight=trigBtnPosLeft+dropdown.outerWidth(),dropDownPosLeft=trigBtnPosLeft-((dropdown.outerWidth()-dropdown.outerWidth())/2),windowWidth=$(window).width(),offsetValue={};init:if(windowWidth<dropDownPosRight){offsetValue={'left':'-'+(dropDownPosRight-windowWidth+20)+'px','transform':'translateX(0)'};break init;}else
if(module406.hasClass('module-align-center')){if(dropDownPosLeft<=20){offsetValue={'left':'0','transform':'translateX(0)'};}else{offsetValue={'left':'50%','transform':'translateX(-50%)'};}
break init;}else{offsetValue={'left':'auto','transform':'translateX(0)'};}
dropdown.css(offsetValue);},setValue:function(value,text){this.input.val(value);if(this.label.length>0){this.setLabelValue(text);}
this._onHide();},setLabelValue:function(text){var i=(text.length-1),defHeight=(this.label.height()+1);this.label.text(text);if(this.label.height()>=defHeight){while(this.label.height()>defHeight){i--;this.label.text(text.substr(0,i))}
this.label.text(text.substr(0,i-2)+"...");}},'{container} reset':function(){this.reset();},reset:function(){var text=this.options.labelText;if(this.defaultResetItem){text=this.defaultResetItem.text();this.defaultResetItem.addClass(this.options.selectedClass);}
this.options.triggerEl.find(".label").text(text);this.toggleButton.attr('title',text);},addItemHoveredState:function(){var _self=this;this.element.find('li').mouseover(function(el){$(this).addClass(_self.options.hoveredClass);});this.element.find('li').mouseleave(function(el){$(this).removeClass(_self.options.hoveredClass);});},addItemSelectedState:function(){var self=this;this.element.on('click','li > a',function(el){self.options.container.triggerHandler("dropdown:select",{dd:self,item:$(this)});});},"{window} load":function(){var _self=this;setTimeout(function(){var hiddenParents=HP.Utils.getHiddenParents(_self.element);if(hiddenParents)hiddenParents.addClass("force-display-block");if(hiddenParents)hiddenParents.removeClass("force-display-block");},10);},"{window} resize":function(){this.countDropDownHeight(this.element);this.setDropDownMaxWidth();this.setToggleButtonMaxWidth();this.updateDropdownPosition();},setPosition:function(){var fromTop=(this.options.triggerEl.offset().top-$(window).scrollTop()),fromBottom=($(window).height()-fromTop-this.dimensions.triggerHeight);if(this.dimensions.targetHeight>fromBottom&&this.dimensions.targetHeight<=fromTop){this.element.css("margin-top",this.dimensions.targetOffset);this.options.upsideActiveName=this.options.upsideName;}},scrollToDropdown:function(){var position=window.pageYOffset+window.innerHeight,pointsDown=0,scrollValue=this.options.triggerEl.offset().top+this.options.triggerEl.height();if(scrollValue>position){pointsDown=scrollValue-position+30;$('html,body').animate({scrollTop:(window.pageYOffset+pointsDown)});}},addTouchHandlers:function(){var self=this;this.toggleButton.swipe({tap:function(event,target){if(self.options.showEvent!="click"&&self.options.hideEvent!="click"){self.toggle(!self.isVisible());}},excludedElements:''});}});HP.ResponsiveDropdown=can.Control({defaults:{resizeEvent:"HP:dropdown:resize",breakpoint:800}},{'init':function(element,options){},"{window} HP:Responsive:changed:breakpoint":function(elt,evt){this.element.triggerHandler(this.options.resizeEvent);}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){HP.ApplicationGallery=can.Control({});HP.ApplicationGallery.init=function(elements,options){var moleculesSelector=['.molecule-824 .thumbs-container a','.molecule-hpi-824 .thumbs-container a'].join(',');$(elements).each(function(index){var agID='ag-'+new Date().getTime()+'-'+index;$(this).find('.thumbs-container > div').each(function(){$(this).find('a').eq(0).attr('rel',agID);$(this).find('a').eq(0).attr('href','javascript:;');});var target=$(this).find('.thumbs-container').next();$(target).attr('id',agID);});HP.Control.init(HP.LightBoxGallery,moleculesSelector,options||{});};})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.productGallery=can.Control({defaults:{overlaySelector:'.video-overlay',sliderSplits:3},vars:{itemSelector:'.js_tab_trigger',imageTagSelector:'.gallery-tagline',imageTitleSelector:'.gallery-title',tabContentSelector:'.js_tab_content',resizeTimeout:null}},{init:function(element,options){var _self=this;var itemsCount=element.find(this.itemSelector).length;var $title=element.parents('.molecule-825').find(this.imageTitleSelector);var $tagline=element.parents('.molecule-825').find(this.imageTagSelector);this.addSliders(element);if(itemsCount==1){this.element.find('.tabs').addClass('hidden');}
if($title.text().length>0){element.find(this.tabContentSelector+' h2').remove();this.addHeading(element,$title);}
if($tagline.text().length>0){element.find(this.tabContentSelector+' span').remove();this.addHeading(element,$tagline);}
element.on('click','.navigation, .slider-section>a',function(){element.find('.js-youtube-player').each(function(){$(this).trigger('pause-video-event');})});this.on();},detectSliderSplits:function(){var tapeWidth=this.element.width()-20,itemWidth=this.element.find('a.js_tab_trigger:first').width(),fitCount;fitCount=Math.floor((+tapeWidth+15)/(+itemWidth+15));this.options.sliderSplits=fitCount;},addSliders:function(element,immediateInit){var $item=element.find(this.itemSelector),_self=this;for(var i=0;i<$item.length;i+=this.options.sliderSplits){var $div=$("<div/>",{"class":'slider-section'});$item.slice(i,i+this.options.sliderSplits).wrapAll($div);}
if(!immediateInit){element.parents(this.options.overlaySelector).on({'show':function(){if(element.find('.tape').length==0){HP.Control.init(HP.Slider,element.find('.js-gallery-slider'),{duration:0});}}});}else{if(element.find('.slider-section').length>1){element.find('.slider-section').addClass('centered-items');if(element.find('.tape').length==0){HP.Control.init(HP.Slider,element.find('.js-gallery-slider'),{duration:0});}}}},addHeading:function(element,headElement){var headingType=headElement.get(0).tagName.toLowerCase();var headingText=headElement.text();var $headingTitle=$('<'+headingType+'/>',{"class":headElement.attr('class').split(' ')[0],text:headingText});element.find(this.tabContentSelector).prepend($headingTitle);}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.productSlider=can.Control({defaults:{sliderSplits:5,adjustItems:false},vars:{itemSelector:'a',resizeTimeout:0}},{init:function(element,options){var _self=this;var itemsCount=element.find(this.itemSelector).length;if(itemsCount>this.options.sliderSplits){this.addSliders(element);}
this.adjustElements();_self.reInitGallery();$(window).on('load',function(){_self.adjustElements();_self.reInitGallery();});$(window).on('resize.slider',function(){clearTimeout(_self.resizeTimeout);_self.resizeTimeout=setTimeout(function(){if(!$('html').hasClass('ie-8')){_self.reInitGallery();}},100);});this.on();},adjustElements:function(){if(this.options.adjustItems){var linkElements=this.element.find('a');linkElements.width("auto");var maxWidth=linkElements.eq(0).width()+1;linkElements.each(function(){if($(this).width()>maxWidth){maxWidth=$(this).width();}});linkElements.width(maxWidth);}},reInitGallery:function(){if(this.element.find('.slider-section').parent().hasClass('frame')){this.element.find('.slider-section').unwrap();}
if(this.element.find('.slider-section').parent().hasClass('tape')){this.element.find('.slider-section').unwrap();}
this.element.find('.slider-section>a').unwrap();this.element.find('.navigation').remove();this.element.find('#carousel-step-in-link').remove();this.detectSliderSplits();if(this.options.sliderSplits>0){this.addSliders(this.element,true);}},detectSliderSplits:function(){var tapeWidth=this.element.width(),itemWidth=this.element.find('>a:first').width(),fitCount;fitCount=Math.floor((+tapeWidth+10)/(+itemWidth+15));this.options.sliderSplits=fitCount;},addSliders:function(element){var activeItem=0;var $item=element.find(this.itemSelector);if(this.options.sliderSplits>=$item.length){return;}
for(var i=0;i<$item.length;i+=this.options.sliderSplits){var $div=$("<div/>",{"class":'slider-section'});if(this.options.sliderSplits==1||this.options.sliderSplits==2){$div.addClass('text-center');}
$item.slice(i,i+this.options.sliderSplits).wrapAll($div);}
element.find('.slider-section').each(function(index){if($(this).find('.current').length==1){activeItem=index;}});if(element.find('.tape').length==0){HP.Control.init(HP.Slider,element,{duration:10,slideTo:activeItem});}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.Select=HP.Dropdown({},{'init':function(element,options){this._super(element,options);this.toggleButton.off("focus");this.dimensions.triggerWidth=this.options.triggerEl.outerWidth();},'show':function(){this.element.parents('.row').css('z-index',3);this._super();this.element.css("margin-top","3px");},'hide':function(){this.element.parents('.row').css('z-index','auto');this._super();this.toggleButton.css("width",this.dimensions.triggerWidth);},'click':function(elements,event){var target=$(event.target),item=null,itemLink=null;if(this.options.itemClass!==""){item=target.closest(this.options.itemSelector);itemLink=this.isLink(target[0])?target:target.find("a");if(item.length>0){this.setValue(itemLink.data("value"),itemLink.html());}}
this._onHide();},isLink:function(element){return element.tagName=="A";},setLabelValue:function(value){var text=this.trim(value),labelLength=text.length-1,toggleButtonHeight=this.toggleButton.height()+1;this.label.text(text);if(this.toggleButton.height()>=toggleButtonHeight){while(this.toggleButton.height()>toggleButtonHeight){labelLength--;this.label.text(text.substr(0,labelLength));}
this.label.text(this.trim(text).substr(0,labelLength-3)+"...");}},trim:function(text){return text.replace(/^\s+|\s+$/g,'');}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.isInCart=can.Control({defaults:{cookieName:'iscscart_'+document.documentElement.lang.split("-")[1],inCart:false}},{'init':function(sku){var tempCookie=$.parseJSON(this.readCookie());var self=this;if(tempCookie!=null){tempCookie.pn.forEach(function(el,index){if(el){var longSku=el.sku;if(longSku&&(longSku.split('#')[0]===sku.selector))self.options.inCart=true;}});}},'readCookie':function(){var regex=new RegExp(this.options.cookieName+'=([^;]*)');return document.cookie.match(regex)?document.cookie.match(regex).pop():"";},'isIn':function(){return this.options.inCart;}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.addToCart=can.Control({defaults:{skunumSelector:'.js_skunum',containerParentSelector:'div.js_pricing',qtySelector:'input.js_qty',skuSelector:'input.js_skunum',cartbtn:'.js_add_to_cart'}},{'init':function(container,options){var self=this;var btn=self.options.cartbtn;if(container&&btn){var skuNum=$(container).find(self.options.skunumSelector).eq(0).attr('value');if(skuNum){var isInCart=new HP.isInCart(skuNum);if(isInCart.isIn())
$(container).find('.js_inCart').removeClass('hidden');}
$(btn).click(function(event){event.preventDefault();var parentEl,qty,uri,skuQty,newLinkUri;parentEl=$(this).parents(self.options.containerParentSelector);qty=$(parentEl).find(self.options.qtySelector).attr('value')||1;if(qty>99){$(parentEl).find(self.options.qtySelector).attr('value')=99;qty=99;}
uri=$(parentEl).find('a').eq(0).attr('href');skuQty=$(parentEl).find(self.options.skuSelector).eq(0).attr('value')+"|"+qty;newLinkUri=uri.replace("__MP2B__",skuQty);location.href=newLinkUri;});}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.detailPricing=can.Control({defaults:{isHPI:false,suppressBuyingOptionsClass:'enable_optional_features',buyTrigClass:'.js_buy_trg',buyTargClass:'.js_buy_target',buyCloseClass:'.js_acc_buy_pop_cls',tempOpt:{showStyles:{'display':'block','visibility':'visible','top':'80px'},hideStyles:{'display':'none','visibility':'hidden','top':''}},partnersClass:'.partners',partnersElements:{popupTrigger:'.js_buynowpop_trigger',popupTarget:'.js_buynowpop',popupClose:'.js_buynow_pop_cls'},partnersOpt:{showStyles:{'display':'block','visibility':'visible','z-index':'0'},hideStyles:{'display':'none','visibility':'hidden','z-index':''}},goNowElements:{goNowTrigger:'.js_gonow_trigger',goNowTarget:'.js_gonowpop',goNowBackBtn:'.back_btn',goNowCloseBtn:'.js_gonow_pop_cls',goNowOpt:{showStyles:{'display':'block','visibility':'visible','z-index':'10000'},hideStyles:{'display':'none','visibility':'hidden','z-index':''}}},cssStyles:{'position':'relative'}}},{'init':function(element){var self=this;this.el=element;this.clearSpaces(this.el,$('.price_description',element));this.wrapBottomBtns();if($(self.options.buyTrigClass,element)){$('.js_pricing',element).each(function(index,el){if(!self.element.hasClass(self.options.suppressBuyingOptionsClass)){if(!self.options.isHPI){$(el).find(self.options.buyTrigClass).click(function(event){$(el).find(self.options.buyTargClass).css(self.options.tempOpt.showStyles);});$(el).find(self.options.buyCloseClass).click(function(event){$(el).find(self.options.buyTargClass).css(self.options.tempOpt.hideStyles);});}else{self.initBuyingOptions();}}
$(self.options.partnersClass).each(function(indx,element){$(element).find(self.options.partnersElements.popupTrigger).click(function(event){$(element).find(self.options.partnersElements.popupTarget).eq(0).css(self.options.partnersOpt.showStyles);});$(element).find(self.options.partnersElements.popupClose).click(function(event){$(element).find(self.options.partnersElements.popupTarget).css(self.options.partnersOpt.hideStyles);});$(el).find(self.options.buyCloseClass).click(function(event){$(element).find(self.options.partnersElements.popupTarget).css(self.options.partnersOpt.hideStyles);});$(element).find(self.options.goNowElements.goNowTrigger).click(function(event){$(element).find(self.options.goNowElements.goNowTarget).css(self.options.goNowElements.goNowOpt.showStyles);});$(element).find(self.options.goNowElements.goNowBackBtn+','+self.options.goNowElements.goNowCloseBtn).click(function(event){$(element).find(self.options.goNowElements.goNowTarget).css(self.options.goNowElements.goNowOpt.hideStyles);});$(el).find(self.options.buyCloseClass).click(function(event){$(element).find(self.options.goNowElements.goNowTarget).css(self.options.goNowElements.goNowOpt.hideStyles);});});});}
this.initAddToCart();},initBuyingOptions:function(){var buyingOptionsTrigger=this.element.find(this.options.buyTrigClass+' .btn_indicator > a'),btnIndicatorWidth=this.element.find(this.options.buyTrigClass+' .btn_indicator').outerWidth(),buyingOptionsTarget=this.element.find(this.options.buyTargClass),buyingOptionsContainer=buyingOptionsTarget.parent(),allDrops=$('.molecule-hpi-929 .motionoverride'),self=this,resizeTimeout;if(buyingOptionsTrigger.length&&buyingOptionsTarget.length){buyingOptionsTarget.removeAttr('style');buyingOptionsTarget.css('min-width',btnIndicatorWidth+'px');buyingOptionsTrigger.on('click',function(){allDrops.not(buyingOptionsContainer).removeClass('show-options');if(buyingOptionsContainer.hasClass('show-options')){buyingOptionsContainer.removeClass('show-options');}else{buyingOptionsContainer.addClass('show-options');}});$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){btnIndicatorWidth=self.element.find(self.options.buyTrigClass+' .btn_indicator').outerWidth();buyingOptionsTarget.css('min-width',btnIndicatorWidth+'px');},200);});this.clearSpaces(buyingOptionsContainer);this.initCloseOnBodyClick(buyingOptionsContainer);}},clearSpaces:function(container,elementToClear){var descriptionBlock=elementToClear||container.find('.description');descriptionBlock.each(function(){var html=$(this).html();$(this).text(html?html.replace(/&nbsp;/ig,''):$(this).html());});},initCloseOnBodyClick:function(buyingOptionsContainer){$('body').on('click',function(e){if(!$(e.target).parents('.motionoverride').length){buyingOptionsContainer.removeClass('show-options');}})},initAddToCart:function(){var addToCartContainer=this.element.find('.js_add_to_cart');if(addToCartContainer.length){var cartBtn=addToCartContainer.find('a').eq(0);new HP.addToCart(this.element[0],{cartbtn:cartBtn});}},wrapBottomBtns:function(){if(this.element.parents('.fixed-bottom-button').length){this.element.find('.button').last().wrap('<div class="bottom-btn"></div>');}}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.HotSpots=can.Control({defaults:{arrows:{type1:{width:94,height:55,src:"line1.png"},type2:{width:83,height:33,src:"line2.png"}},collapsedText:'+ View more',expandedText:'- View less'},vars:{timerId:null,openState:false}},{'init':function(element,options){var self=this;this.$el=element;this.$hotSpots=$('.item',element);this.options.collapsedText=this.$el.data('collapsed-text')||this.options.collapsedText;this.options.expandedText=this.$el.data('expanded-text')||this.options.expandedText;this.$hotSpots.each(function(index){self.addSpotIndex($(this),++index);self.placeSpots($(this));});var spotsLength=this.$hotSpots.length;$('.hot-spots',element).after('<div class="col-right"></div>');for(var i=Math.ceil(spotsLength/2+1);i<=spotsLength;i++){$('.col-right',element).append(this.$hotSpots.eq(i-1));}
$('div.body').css('overflow','hidden');this.$el.parents('.section.full').addClass('wrap-on-1000 ignore-background-cover');$('.images>div',element).each(function(){if($(this).data('position')){var position=$(this).data('position').split(';'),left=position[0]+'px',top=position[1]+'px',right=(position.length==3)?position[2]+'px':'auto',width=$(this).data('width')?$(this).data('width')+'px':'auto';if(right!='auto'){left='auto';}
$(this).css({left:left,top:top,right:right,width:width})}})
this.initCollapsibleBehaviour();},'initCollapsibleBehaviour':function(){this.$hotSpots.find('.show-more, .show-less').on('click',function(){var collapsibleContent=$(this).parent().find('p'),showLess=$(this).parent().find('.show-less'),showMore=$(this).parent().find('.show-more');if(!collapsibleContent.is(':visible')){showMore.css('display','none');showLess.css('display','block');collapsibleContent.slideDown();}else{showMore.css('display','block');showLess.css('display','none');collapsibleContent.slideUp();}})},'addSpotIndex':function(spot,index){var spotTitle=spot.find('h3');shouldCollapse=spot.find('p').html()?'<a href="javascript:void(0)" class="show-more">'+this.options.collapsedText+'</a><a href="javascript:void(0)" class="show-less">'+this.options.expandedText+'</a>':false;spotTitle.html('<span class="spot-index">'+index+'</span>'+spotTitle.html());if(shouldCollapse){if(!spotTitle.length){spot.find('p').css({'display':'block','padding-top':'4px'});spot.prepend('<h3 class="font-lh3"><span class="spot-index">'+index+'</span></h3>');}
spotTitle.after(shouldCollapse);}},'placeSpots':function(spot){var position=spot.data('position')?spot.data('position').split(';'):[];var left=position[0]+'px',top=position[1]+'px',right=(position.length==3)?position[2]+'px':'auto',width=spot.data('width')?spot.data('width')+'px':'auto';if(right!='auto'){left='auto';}
spot.css({left:left,top:top,right:right,width:width});},'adjustTop':function(type,spot,shift){var firstItem=spot.find('>*').first(),itemHeight=spot.height();shift=shift||0;if(type=='top'){var lineHeight=firstItem.css('line-height')?parseFloat(firstItem.css('line-height')):22;firstItem.css({"margin-top":+shift+-lineHeight/2+'px'});}else{firstItem.css({'margin-top':+shift+itemHeight/2+'px'})}}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.Expander=HP.Popup({defaults:{hideDelay:0,showDelay:0,showEvent:'click',hideEvent:'click',triggerEl:null,triggerSelector:".js-more-less-toggler",triggerMoreSelector:".js-more",triggerLessSelector:".js-less",targetSelector:".js-expand-area",targetDotes:".js-more-dots",fixedHeightContainer:'.js_tab_content',onShow:null,onHide:null,fxShow:{effect:"slideDown",duration:600,easing:"swing",onComplete:null},fxHide:{effect:"slideUp",duration:600,easing:"swing",onComplete:null},addToPopupManager:false,open:false},vars:{expandTitles:{opened:"",closed:""}}},{"init":function(element,options){var _self=this;this.options.triggerEl=this.element.find(this.options.triggerSelector);this.options.triggerMoreEl=this.element.find(this.options.triggerMoreSelector);this.options.triggerLessEl=this.element.find(this.options.triggerLessSelector);this.options.triggerDotes=this.element.find(this.options.targetDotes);this.element=this.element.find(this.options.targetSelector);this.options.fxShow.onComplete=function(){_self.options.triggerMoreEl.hide();_self.options.triggerLessEl.show();_self.element.css("display","inline");}
this.options.fxHide.onComplete=function(){_self.options.triggerDotes.show();_self.options.triggerLessEl.hide();_self.options.triggerMoreEl.show();_self.fixedHeightContainer.length>0&&_self.fixedHeightContainer.trigger('changeHeight');}
this.options.onShow=function(){_self.options.triggerDotes.hide();}
this.fixedHeightContainer=this.element.closest(this.options.fixedHeightContainer);this._super();this.on();},'{triggerEl} {showEvent}':function(el,e){this.element.show();this.fixedHeightContainer.length>0&&this.fixedHeightContainer.trigger('changeHeight');this.element.hide();this._super(el,e);}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){var exports=HP.SlideShare||(HP.SlideShare={});exports.isEnable=function(){if(typeof window.slideshare_embed_show!=="undefined"){return!!window.slideshare_embed_show;}else if(typeof window.slideshare_video_embed_show!=="undefined"){return!!window.slideshare_video_embed_show;}
return false;};exports.Base=(function(){var StaticProps={defaults:{offClass:"slideshare-disabled",container:".slideshare-container",lazyInit:false,lazyInitEvent:"slideshare:show",startInitEvent:"slideshare:startInit",endInitEvent:"slideshare:endInit",showSpooler:true,width:0,height:0,spoolerSize:"small"},vars:{_state:0}},ProtoProps={'init':function(){var conf=this.options;this.element.css({width:conf.width,height:conf.height});this.element.addClass(this.isEnable()?"":conf.offClass);conf.showSpooler&&(HP.Control.init(HP.Spooler,this.element,{showSpoolerEvent:conf.startInitEvent,hideSpoolerEvent:conf.endInitEvent,iconType:conf.spoolerSize,spoolerShowOnStart:false}));(!conf.lazyInit)&&(this._initialization());this.on();},'getContainer':function(){return(typeof this.options.container==='string')?$(this.options.container,this.element):this.options.container;},'initOptions':function(){var conf=this.options;$.each(this.element.data(),function(key,val){(typeof conf[key]!=="undefined"&&val!=="")&&(conf[key]=val);});return conf;},'isEnable':exports.isEnable,'{lazyInitEvent}':'show','show':function(){this._initialization();}};return function(ParentClass,staticProps,proto){return ParentClass(StaticProps,ProtoProps)(staticProps,proto);}}());exports.Container=(function(popups){var fixDoubleInit=function(triggers,options){var self=this;options=options||{};triggers.each(function(){var $this=$(this),uid=$this.attr(options.relAttr||self.defaults.relAttr),targetElement=$("#"+uid);if(!targetElement.length){return;}
if(!popups[uid]){options.triggerEl=$this;popups[uid]=new self(targetElement,options);}else{popups[uid].options.triggerEl=popups[uid].options.triggerEl.add($this);popups[uid].on();}});},containerPrototype={'init':function(){this.on();this._super();},'{triggerEl} click':function(el,event){(this.isEnable())&&event.preventDefault();},'isEnable':exports.isEnable,'findSlideshareElements':function(){var selector=this.options.slideshareElements,elements=this.element.filter(selector);return elements.add(this.element.find(selector));},'show':function(){if(!this.isEnable()){return;}
this.findSlideshareElements().triggerHandler(this.options.lazyInitEvent);this._super();}},containerStatic={defaults:{relAttr:"rel",lazyInitEvent:"slideshare:show",slideshareElements:".js-slideshare-presentation, .js-slideshare-collection"}};return function(ParentClass,staticProps,proto){var Control=ParentClass(containerStatic,containerPrototype)(staticProps,proto);Control.init=fixDoubleInit;return Control;}}({}));})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){var exports=HP.SlideShare||(HP.SlideShare={});exports.Presentation=exports.Base(can.Control,{defaults:{id:null,size:null,startSlide:1,lang:"en",slideshareHost:"http://<%=lang %>.slideshare.net/slideshow/embed_code/<%=id %>?rel=0&startSlide=<%=startSlide %>",sizes:{"S":[344,292,"small"],"M":[429,357,"large"],"L":[514,422,"large"],"XL":[599,487,"large"]}}},{'init':function(){var conf=this.options;this.initOptions();if(conf.size.indexOf(':')>0){var proportion=conf.size.split(':');conf.proportion=parseInt(proportion[0],10)/parseInt(proportion[1],10);conf.width='100%';conf.height='auto';conf.spoolerSize='large';}if(this.element.parents('.slideshare-presentation-popup').length){var proportion=conf.size.split('x');conf.proportion=parseInt(proportion[0],10)/parseInt(proportion[1],10);conf.width=parseInt(proportion[0],10);conf.height='auto';conf.spoolerSize='large';}else{conf.width=conf.sizes[conf.size]?conf.sizes[conf.size][0]:parseInt(conf.size.split("x")[0],10);conf.height=conf.sizes[conf.size]?conf.sizes[conf.size][1]:parseInt(conf.size.split("x")[1],10);conf.spoolerSize=conf.sizes[conf.size]?conf.sizes[conf.size][2]:(conf.width<conf.sizes.M[0]?"small":"large");}
this.__updatePresentationHeight=jQuery.debounce(50,false,$.proxy(this.__updatePresentationHeight,this));this._super();},'{window} resize':function(){this.__updatePresentationHeight();},'__updatePresentationHeight':function(){var iframe=this.getContainer().children('iframe');if(this.options.height==='auto'){iframe.height(iframe.width()/this.options.proportion);}},'_initialization':function(){var self=this,options=this.options;if(!this._state){this._state+=1;try{options.url=can.view.ejs(options.slideshareHost).render(options);}catch(e){options.url=can.view.ejs(options.slideshareHost)(options);}
this.element.triggerHandler(options.startInitEvent);if(this.isEnable()){this.getContainer().html($("<iframe />").attr({src:options.url,width:options.width,height:options.height,frameborder:0,marginwidth:0,marginheight:0,scrolling:"no",allowfullscreen:true}).on("load",function(){self._state+=1;self.element.triggerHandler(options.endInitEvent);}));this.__updatePresentationHeight();}else{self._state+=1;self.element.triggerHandler(options.endInitEvent);return true;}
return false;}
return true;},'{startInitEvent}':function(){this.__updatePresentationHeight();},'{endInitEvent}':function(){this.__updatePresentationHeight();}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){var exports=HP.SlideShare||(HP.SlideShare={}),windowOnLoad=$.Deferred(),uid=(function(i){return function(){return"slideshare-collection-"+(++i);};})(0);$(window).on('load',windowOnLoad.resolve);exports.Collection=exports.Base(can.Control,{defaults:{uid:null,user:"hpsoftwaresolutions",tag:null,layout:"landscape",layouts:{"landscape":[538,341,"http://static.slidesharecdn.com/swf/egowidget2.swf"],"portrait":[355,542,"http://static.slidesharecdn.com/swf/egowidget2PT.swf"]},title:""}},{'init':function(){var conf=this.options;this.initOptions();conf.width=conf.layouts[conf.layout][0];conf.height=conf.layouts[conf.layout][1];if(!conf.uid){conf.uid=uid();this.getContainer().html($("<div></div>",{id:conf.uid}));}
this._super();},'_initialization':function(){var self=this,options=this.options;if(!this._state){this._state+=1;this.element.triggerHandler(options.startInitEvent);if(this.isEnable()){windowOnLoad.done(function(){swfobject.embedSWF(options.layouts[options.layout][2],options.uid,options.layouts[options.layout][0],options.layouts[options.layout][1],"8",null,{feedurl:self._getQuery(),widgettitle:options.title},{allowScriptAccess:'always',allowFullScreen:true,wmode:'opaque'},{},function(swf){if(swf&&swf.ref&&typeof swf.ref.PercentLoaded=='function'){var check=window.setInterval(function(){if(swf.ref.PercentLoaded()===100){window.clearInterval(check);self._state+=1;self.element.triggerHandler(options.endInitEvent);}},100);}else{self._state+=1;self.element.triggerHandler(options.endInitEvent);}});});return false;}else{self._state+=1;self.element.triggerHandler(options.endInitEvent);return true;}}
return true;},'_getQuery':function(){if(this.options.user){return this.options.tag?this.options.user+"/tags/"+this.options.tag:"user/"+this.options.user;}else{return"tag/"+this.options.tag;}}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){var exports=HP.SlideShare||(HP.SlideShare={});exports.Embedded=exports.Container(HP.Popup,{defaults:{showEvent:"click",closeOnBodyClick:false,hideEvent:"slideshare:hide"}},{});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){var exports=HP.SlideShare||(HP.SlideShare={});exports.Popup=exports.Container(HP.OverlayPopup,{defaults:{onInit:HP.Accessibility.Overlay}},{'show':function(){var width=0;this.findSlideshareElements().each(function(){width=Math.max(width,$(this).outerWidth(true));});this.element.css({width:width});this._super();}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.ShowHide=HP.Tree({defaults:{triggerActiveClass:'opened',fxShow:{effect:'slideDown',duration:400},fxHide:{effect:'slideUp',duration:400},hashName:'pd',expandAllSelector:'',collapseAllSelector:'',triggerAllInactiveClass:'disabled',expandAllCollapseAllContainer:'.js-prog-disc-controls',parentNestedClass:'prog-disc-nested',openedItemsAttribute:'opened-items',duplicate:false}},{'init':function(element,options){this.options.hashName+=++HP.ExtendedTree.treeCounter;var openIndex=this.getOpenedIndexes(true);if(openIndex[0]==-1){openIndex=this.getOpenedIndexes(false);}
this._super(element);if(openIndex[0]!=-1){for(var i=0;i<openIndex.length;i++){if(this.options.duplicate){this.duplicateControl($(this.element[openIndex[i]]));}
this.options.open=openIndex[i];this.show(this.options.open,true);}}
element.find('.item-container .item:last').addClass('last');},'{eventName}':function(trigger,e){if(this.options.duplicate){this.duplicateControl(trigger);}
return this._super(trigger,e);},'getOpenedIndexes':function(isFromUrl){var value;if(isFromUrl){value=HP.Utils.getUrlParamValue(this.options.hashName);}else{value=this.element.attr(this.options.openedItemsAttribute)||'';var triggers=this.element.find(this.options.triggerSelector);var separator='';if(value){separator="_";}
var _self=this;triggers.each(function(index,el){if($(el).hasClass(_self.options.triggerActiveClass)){value+=separator+(index+1);if(separator=='')separator="_";}})}
if(value){return jQuery.map(value.split('_'),function(el){return parseInt(el,10)-1;});}
return[-1];},'isButtonDisable':function(trigger){if(trigger.hasClass(this.options.triggerAllInactiveClass)){return true;}
return false;},'show':function(index,withoutAnimation){this.updatePageHash(index+1,true);this._super(index,withoutAnimation);var allItemsOpened=true;var _self=this;this.element.each(function(index,el){if(!$(el).hasClass(_self.options.triggerActiveClass)){allItemsOpened=false;return;}});},'hide':function(index){this.updatePageHash(index+1,false);return this._super(index);},'duplicateControl':function(trigger){var controlParent=trigger.parent('li');if(trigger.hasClass(this.options.triggerActiveClass)||trigger==controlParent.children().last()){controlParent.children(this.options.triggerSelector+'.clon').remove();}else{var elControl=trigger.clone();elControl.addClass(this.options.triggerActiveClass+" clon");elControl.click(function(e){trigger.click()});controlParent.append(elControl);}},'updatePageHash':function(index,add){if(index<1){return;}
var hash=(""+document.location.hash).replace(/(#!?&?)/,"").split("&"),isSet=false,q;for(q=0;q<hash.length;q++){var splitedHash=hash[q].split("=");if(splitedHash[0]==this.options.hashName){var splitedValues=splitedHash[1].split("_");hash[q]=this.updateSingleParam(splitedValues,index,add);if(hash[q]===''){hash.splice(q,1);}
isSet=true;}}
if(!isSet&&add){hash.push(this.options.hashName+"="+(index));}
if(hash.length>0)document.location.hash=hash.join("&")
else{history.pushState("",document.title,window.location.pathname
+window.location.search);}},'updateSingleParam':function(paramValues,value,add){var hash=(this.options.hashName+"="),separator='',newValueIsNotFound=true,allValuesDeleted=true;for(var i=0;i<paramValues.length;i++){if(paramValues[i]!=value){hash+=separator+paramValues[i];if(separator===''){separator='_';}
allValuesDeleted=false;}else if(add){hash+=separator+paramValues[i];if(separator===''){separator='_';}
newValueIsNotFound=false;}}
if(add&&newValueIsNotFound){hash+=separator+value;}
if(!add&&allValuesDeleted){hash='';}
return hash;}});HP.ExtendedTree.treeCounter=0;})(jQuery,can,window.HP||(window.HP={}));window.SCREENREADING_LABELS={'open_menu_prefix':'Open ','open_menu_suffix':' Menu','close_menu_prefix':'Close ','close_menu_suffix':' Menu','opened_state_menu_prefix':'Menu ','opened_state_menu_suffix':' is opened','closed_state_menu_prefix':'Menu ','closed_state_menu_suffix':' is closed','open_popup_prefix':'Open ','open_popup_suffix':' Dialog','close_popup_prefix':'Close ','close_popup_suffix':' Dialog','expand_prefix':'Expand ','expand_suffix':'List','collapse_prefix':'Collapse ','collapse_suffix':'List','search_box_suggestion_title':'Use arrow keys to select a search suggestion'};(function($,can,HP){var subMenu=HP.Popup({defaults:{hideDelay:0,hideEvent:'null',addToPopupManager:false,fxHide:{effect:'hide',duration:0},triggerActiveClass:'selected',onInit:HP.Accessibility.NavigationMenuSubItem}},{'init':function(element,options){this.on();this._super();}});HP.NavigationMenu=HP.Popup({defaults:{actveClass:'extend-expandable-area',triggerActiveClass:'selected',popupIdSelector:'a',currentElementClass:'current',onInit:HP.Accessibility.Popup,showKeys:[13],hideKeys:[27],onInit:HP.Accessibility.NavigationMenu},vars:{items:{},visibleItemId:''}},{'init':function(element,options){this.options.triggerEl=this.element.children(this.options.popupIdSelector);this.element=$('#'+this.options.triggerEl.prop('rel'),element);this.options.currentElementClass=options.currentElementClass?options.currentElementClass:this.options.currentElementClass;if(!this.element){this.destroy();}
this._initSubItems();this._selectCurrent();this.on();this._super();},'_initSubItems':function(){var el;var triggers=this.element.find('.level3 a');var _this=this;var onHideSubItem=$.proxy(this._hidePrevSubItem,this);triggers.each(function(index,el){el=$(el);var targetId=el.prop('rel');var targetEl=targetId&&$('#'+targetId);if(targetEl&&targetEl.length!=0){_this.items[targetId]=new subMenu('#'+targetId,{triggerEl:el.parent(),onShow:function(){_this._onShowSubItem.call(_this,targetId);}});}else{el.on('focus mouseenter',onHideSubItem);}});},'_onShowSubItem':function(targetId){if(this.visibleItemId){this.items[this.visibleItemId].hide();}else{this.element.addClass(this.options.actveClass);}
this.visibleItemId=targetId;},'show':function(){this._hidePrevSubItem();this._super();},'_hidePrevSubItem':function(){if(this.visibleItemId){this.items[this.visibleItemId].hide();this.element.removeClass(this.options.actveClass);this.visibleItemId='';}},'_selectCurrent':function(){if(this.element.find('.'+this.options.currentElementClass).length>0){this.element.parent().children(this.options.popupIdSelector).addClass(this.options.currentElementClass);this.element.find('.'+this.options.currentElementClass).removeClass(this.options.currentElementClass);}}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.SecondaryNavigationSelectableConfig=can.Control({defaults:{navCntSelector:".js_menu_holder a",configClass:'.js_navigation_configuration',navItemClass:'.js_navigation_active_item',navItemSelectorClass:'.js_navigation_selector',navItemCurrentClass:'.js_navigation_current_item',currentElementClass:"current",productNavClass:".js-product-slider"},vars:{navConf:null}},{'init':function(){$(this.options.productNavClass).css('display','block');this.navConf=$(this.options.configClass);if(this.navConf.length>0){var proxy=this;$.each(proxy.navConf,function(iConf,elConf){var navItems=$(elConf).find(proxy.options.navItemClass);$.each(navItems,function(index,el){var navItemSelector=$(el).find(proxy.options.navItemSelectorClass).text()+proxy.options.navCntSelector;var navItemCurrent=$(el).find(proxy.options.navItemCurrentClass).text();$(navItemSelector).each(function(i,eLink){var lnkTxt=$(eLink).contents(':not(span)').text();if(lnkTxt.replace(/^\s+|\s+$/g,'')==navItemCurrent){$(eLink).addClass(proxy.options.currentElementClass);}});});});this.disposeConf();}},'disposeConf':function(){$(this.options.configClass).remove();}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.AddFBLike=can.Control({defaults:{url:'http://www.facebook.com/plugins/like.php?',layout:'button_count',show_faces:'false',width:'125',height:'21',action:'like',font:'arial',colorscheme:'light',locale:null}},{'init':function(element,options){this.$el=$(this.element).find('.fb-like-wrapper');if(this.$el.length>0){this.updateDefaults();this.insertIframe();}},'updateDefaults':function(){var opts=this.options;opts.layout=this.$el.data('layout')||opts.layout;opts.show_faces=this.$el.data('show_faces')||opts.show_faces;opts.width=this.$el.data('width')||opts.width;opts.height=this.$el.data('height')||opts.height;opts.action=this.$el.data('action')||opts.action;opts.colorscheme=this.$el.data('color')||opts.colorscheme;opts.locale=this.$el.data('locale')||opts.locale;},'insertIframe':function(){var opts=this.options,href=location.href,locale=(opts.locale)?'&locale='+opts.locale:'';var full_url=opts.url+'layout='+opts.layout+'&show_faces='+opts.show_faces+'&width='+opts.width+'&action='+opts.action+'&colorscheme='+opts.colorscheme+'&height='+opts.height+'&href='+encodeURI(href)+locale;var iframe=$('<iframe frameBorder="0" style="border:none" src="'+full_url+'" width="'+opts.width+'" height="'+opts.height+'" title="lbiframe"></iframe>');this.$el.prepend(iframe);}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.SecondaryNavigationResponsive=can.Control({defaults:{navCntSelector:"nav",pinnedClass:"pinned",pinnable:false,navTriggerClass:"sec-nav-rd-icon"},vars:{navCnt:null,topExpandableTriggers:null,expandableTriggersLevel3:null,expandableItems:null,navOverlay:null,showEvent:'touchstart',resizeTimeout:null,expandedHeader:[]}},{init:function(element,options){var self=this;this.showEvent=HP.ResponsiveAdapter.isTouchSupport()?this.showEvent:'click';this.navCnt=this.element.find(this.options.navCntSelector);this.topExpandableTriggers=this.navCnt.find('.selectable>a');this.expandableTriggersLevel3=this.topExpandableTriggers.parent().find('.level3 a');this.expandableItems=this.navCnt.find('.expand-area');this.addExpandableContainer();this.correctIds();this.topExpandableContents=$();this.topExpandableTriggers.each(function(){self.topExpandableContents=self.topExpandableContents.add($('#'+$(this).attr('rel')));});this.initListeners();this.createTabContentContainer();this.selectCurrent();this.initSwipe();},createTabContentContainer:function(){var tabContainer=$('<div class="sec-nav-tab-content"></div>');this.topExpandableTriggers.each(function(){tabContainer.append($(this).parent().find('>div'));});tabContainer.insertAfter(this.navCnt);},addExpandableContainer:function(){var self=this;this.expandableTriggersLevel3.each(function(){var expandBlock=$('#'+$(this).attr('rel'),self.navCnt);if(expandBlock.length>0){var container=$('<div class="expandable-content"></div>');container.append(expandBlock);$(this).parent().append(container);}});},correctIds:function(){var self=this,links=this.navCnt.find('a[rel]');links.each(function(){var attrRel=$(this).attr('rel');if(attrRel==''){return;}
var correspBlock=$('#'+attrRel,self.navCnt);if(correspBlock.length>0){$(this).attr('rel',attrRel+'-responsive');correspBlock.attr('id',attrRel+'-responsive');if(correspBlock.parents('.expandable-content').length>0){correspBlock.css('display','block');}
$(this).addClass('expandable-link');$(this).prepend('<i class="expand-icon"></i>');}});},initListeners:function(){var self=this;this.initTopExpandableTriggers();this.initExpandableTriggersLevel3();this.detectCurrentItem();$('body').on(this.showEvent,function(){self.closeOpenedItems();});$('.responsive-sec-nav').on(this.showEvent,function(e){e.stopImmediatePropagation();})},initTopExpandableTriggers:function(){var self=this;this.topExpandableTriggers.swipe({tap:function(){var expandArea=$('#'+$(this).attr('rel'));self.topExpandableTriggers.removeClass('expanded');self.topExpandableContents.not(expandArea).hide();if(expandArea.is(':visible')){expandArea.hide();$(this).removeClass('expanded');self.expandedHeader=[];}else{expandArea.show();$(this).addClass('expanded');self.expandedHeader=$(this);}},excludedElements:''});},initExpandableTriggersLevel3:function(){var self=this;this.expandableTriggersLevel3.on(this.showEvent,function(){var href=$(this).attr('href');if(href.indexOf('void(0)')!=-1&&href!='#'){var expandBlock=$('#'+$(this).attr('rel'));if(expandBlock.length>0){self.slideChildExpandArea($(this));}}});this.expandableTriggersLevel3.find('.expand-icon').on(this.showEvent,function(e){e.stopImmediatePropagation();var parentLink=$(this).parent(),expandBlock=$('#'+parentLink.attr('rel'));if(expandBlock.length>0){self.slideChildExpandArea(parentLink);}
return false;});},detectCurrentItem:function(){var currentItem=this.navCnt.find('a.current');},slideChildExpandArea:function(trigger){var expandArea=trigger.parent().find('.expandable-content');if(expandArea.is(':visible')){expandArea.slideUp();trigger.removeClass('expanded');}else{expandArea.slideDown();trigger.addClass('expanded');}
this.navCnt.find('.expandable-content').not(expandArea).slideUp();},hideNav:function(){var self=this;this.element.slideUp(200,function(){self.navOverlay.hide();});this.expandableItems.slideUp();this.navCnt.find('.expandable-content').slideUp();this.navCnt.find('.expanded').removeClass('expanded');},closeOpenedItems:function(){this.element.find('.expandable-content, .expand-area').hide();this.element.find('.expanded').removeClass('expanded');self.expandedHeader=[];},initSwipe:function(){var currentActive=$('ul li a.current',this.navCnt);var currentLeft=0,minLeft,newLeft,self=this,width=0;$('>ul>li',this.navCnt).each(function(){width+=$(this).width()+20;});$('>ul',this.navCnt).width(width);$(window).on('load',function(){width=0;$('>ul>li',self.navCnt).each(function(){width+=$(this).width()+20;});$('>ul',self.navCnt).width(width);minLeft=parseInt(self.navCnt.outerWidth())-parseInt($('>ul',self.navCnt).outerWidth());minLeft=(minLeft>0)?0:minLeft;if(currentActive.length){swipeActiveItem();}else{$('>ul',self.navCnt).css('left',currentLeft);}});function swipeActiveItem(){var currentActiveLeft=0;if($(self.navCnt).width()<width&&currentActive.length){currentActiveLeft=-parseInt(currentActive.parent('li').position().left);}else{currentActiveLeft=0;}
if((currentActiveLeft<minLeft)&&minLeft<0){currentLeft=minLeft;}else{currentLeft=currentActiveLeft;}
$('>ul',self.navCnt).css('left',currentLeft);}
$(window).on('resize',function(){clearTimeout(self.resizeTimeout);self.resizeTimeout=setTimeout(function(){minLeft=parseInt(self.navCnt.width())-parseInt($('>ul',self.navCnt).width());swipeActiveItem();},100);});this.navCnt.addClass('ms-touch').swipe({swipeStatus:function(event,phase,direction,distance,duration,fingers){newLeft=(direction=='left')?+currentLeft-(+distance):(+currentLeft)+(+distance);minLeft=parseInt(self.navCnt.width())-parseInt($('>ul',self.navCnt).width());minLeft=(minLeft>0)?0:minLeft;if(phase=='move'&&direction=='left'||phase=='move'&&direction=='right'){if(minLeft<=newLeft&&newLeft<=0){$('.js_menu_holder>ul').css('left',newLeft);self.isExpandedHeaderVisible(newLeft)}
if(minLeft>newLeft){$('.js_menu_holder>ul').css('left',minLeft);self.isExpandedHeaderVisible(newLeft)}
if(newLeft>0){$('.js_menu_holder>ul').css('left',0);self.isExpandedHeaderVisible(0)}}
if(phase=='cancel'||phase=='end'){currentLeft=(newLeft<minLeft)?minLeft:(newLeft>0)?0:newLeft;}},excludedElements:''});},isExpandedHeaderVisible:function(left){var windowWidth=$(window).width(),headerWidth,headerLeft;if(this.expandedHeader.length>0){headerWidth=parseInt(this.expandedHeader.width());headerLeft=this.expandedHeader.position().left;if(((headerLeft+left)<0&&(headerLeft+left+headerWidth)<0)||((windowWidth-left)<headerLeft&&(windowWidth-left)<(headerLeft+headerWidth))){this.closeOpenedItems();}}},selectCurrent:function(){var self=this;this.topExpandableTriggers.each(function(){var refferenceId=$(this).attr('rel');if(refferenceId&&self.element.find('#'+refferenceId+' .current').removeClass('current').length>0){$(this).addClass('current');}})}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.MetricsParamsFLEX2={trackingParams:[]};})(jQuery,can,window.HP||(window.HP={}));(function($,window){var Parallax=window.Parallax={};Parallax.init=function(){Parallax.parallaxContainers=$('.section.bg-fixed');Parallax.isMobile=false;Parallax.parallaxSections=$('.molecule-970, .molecule-971, .molecule-hpi-311').parent().parent().parent();Parallax.parallaxEnabled=Parallax.parallaxContainers.length>0;if(!$('.bg-fixed').find('.row').hasClass('parallax-tracking')){$('.bg-fixed').find('.row').addClass('parallax-tracking');}
Parallax.adjustParallaxElements();Parallax.resizeHandler();$(window).scroll(function(event){var windowWidth=$(window).width()+(isIE===true?0:17);if(windowWidth>=497){if(Parallax.parallaxEnabled){Parallax.adjustParallaxElements();}}});$(window).resize(function(event){Parallax.resizeHandler();});$(window).load(function(){if(!Parallax.parallaxEnabled&&!browserSupports('object-fit')){addObjectFitFix();}});};function browserSupports(prop){var div=document.createElement('div');return(prop in div.style);}
function addObjectFitFix(){var VIDEO_MINIMUM_HEIGHT=770;var videoTags=Parallax.parallaxSections.find('.molecule-970, .molecule-971, .molecule-hpi-311').find('video'),reduce=Array.prototype.reduce,maxVideoWidth=reduce.call(videoTags,function(maxWidth,video){var value=video.videoWidth;return(value>maxWidth)?value:maxWidth;},0),maxVideoHeight=reduce.call(videoTags,function(maxHeight,video){var value=video.videoHeight;return(value>maxHeight)?value:maxHeight;},0);var breakpoint=Math.ceil(maxVideoWidth*VIDEO_MINIMUM_HEIGHT/maxVideoHeight);var style=document.createElement('style');style.textContent=''+'@media (max-width: '+breakpoint+'px) {'+'  .molecule-971 video, .molecule-hpi-311 video {'+'    comment: This code is generated in Javascript;'+'    height: 100%;'+'    width: auto;'+'  }'+'}';document.head.appendChild(style);}
Parallax.adjustParallaxElements=function(){$('.section.bg-fixed .parallax-tracking').each(function(){var header=$('#header');var headerHeight=0,offset,prevSibling,prevSiblingBottomEdgeInWindow=-$(window).scrollTop()+header.offset().top+header.height();if($('#everything').data('header-version')==='hf3.2'){headerHeight=0;}
if($(this).parent().parent().children().length<=3){if($(this).parent().parent().index()>2){prevSibling=$(this).parent().parent().prev();prevSiblingBottomEdgeInWindow=-$(window).scrollTop()+(prevSibling.offset().top+prevSibling.height());}}else{prevSibling=$(this).parent().prev();if(!prevSibling.length){if($(this).parent().parent().index()>2){prevSibling=$(this).parent().parent().prev();prevSiblingBottomEdgeInWindow=-$(window).scrollTop()+(prevSibling.offset().top+prevSibling.height());}}else{$('.bg-fixed').css('position','relative');prevSiblingBottomEdgeInWindow=-$(window).scrollTop()+(prevSibling.offset().top+prevSibling.height());}}
offset=Math.floor((prevSiblingBottomEdgeInWindow-(headerHeight))*-0.8);offset=(offset<0)?0:offset;Parallax.getAmbientVideoCloseLocation();if(Parallax.isMobile){$(this).parent().css('top','');$(this).css('top','');}else{$(this).parent().css('top',prevSiblingBottomEdgeInWindow-35);$(this).css('top',offset+'px');console.log(offset,'offset');}});};Parallax.getAmbientVideoCloseLocation=function(){if($('#cookieFormSubmit').length>0&&$('#cookie_privacy_popup').css('display')!=='none'){if($(window).scrollTop()<197){var calculatedheight=Math.floor((-$(window).scrollTop()+338)*0.8);$('#video-hero').find('.close').css('top',calculatedheight+30+'px');}
else{Parallax.getAmbientVideoOffset();}}
else{Parallax.getAmbientVideoOffset();}};Parallax.getAmbientVideoOffset=function(){$('.section.bg-fixed .parallax-tracking').each(function(){var header=$('#header');var headerHeight=0,offset,prevSibling,prevSiblingBottomEdgeInWindow=-$(window).scrollTop()+header.offset().top+header.height();if($('#everything').data('header-version')==='hf3.2'){headerHeight=0;}
if($(this).find('.molecule-971').length>0){if(($('#notice_holder').length>0)||($('#cookie_privacy_holder').length>0)){if($(this).parent().parent().index()>2){prevSibling=$(this).parent().parent().prev();prevSiblingBottomEdgeInWindow=-$(window).scrollTop()+(prevSibling.offset().top+prevSibling.height());}
offset=Math.floor((prevSiblingBottomEdgeInWindow-headerHeight)*-0.8);Parallax.adjustAmbientVideoPosition(offset);if($(window).height()<665&&$(window).height()>600){if($(window).innerWidth()>=497){var adjustedHeight=600+offset;$(this).find('#video-hero').css('height',adjustedHeight+'px');}
else if($(window).innerWidth()<497){$(this).find('#video-hero').css('height','400px');}}
else{if($(window).innerWidth()<497){$(this).find('#video-hero').css('height','400px');}
else{$(this).find('#video-hero').css('height','592px');}}}}});};Parallax.adjustAmbientVideoPosition=function(offset){var diffHeight=topPosition+62;var calculatedHeight=(-223-diffHeight)+"px";$('.molecule-971 #video-hero').css('top',calculatedHeight);};Parallax.resizeHandler=function(){var windowWidth=$(window).width();if(windowWidth<=800){Parallax.isMobile=true;Parallax.parallaxContainers.removeClass('bg-fixed');Parallax.parallaxContainers.each(function(index,el){var nextElement=$(el).next();$(el).css('top','').next().css('margin-top','');if(nextElement.hasClass('bkg-helper')){nextElement.next().css('margin-top','');}});$('.molecule-971 #video-hero').css('top','');$('.molecule-hpi-311 #video-hero').css('top','');if(!$('.molecule-971').hasClass('parent-color')){$('.molecule-971').addClass('parent-color')}
if(!$('.molecule-hpi-311').hasClass('parent-color')){$('.molecule-hpi-311').addClass('parent-color')}
if(!$('.molecule-971').closest('.section').hasClass('prevent-mobile-wrap')&&$('.molecule-hpi-311').closest('.section').data('secondary-background')){$('.molecule-971').closest('.row').css('background','none');}
if(!$('.molecule-hpi-311').closest('.section').hasClass('prevent-mobile-wrap')&&$('.molecule-hpi-311').closest('.section').data('secondary-background')){$('.molecule-hpi-311').closest('.row').css('background','none');}}else{$('.molecule-971 #video-hero').css('top','-190px');$('.molecule-hpi-311 #video-hero').css('top','-190px');if($('.molecule-971').hasClass('parent-color')){$('.molecule-971').removeClass('parent-color')}
if($('.molecule-hpi-311').hasClass('parent-color')){$('.molecule-hpi-311').removeClass('parent-color')}
if($('#mobile-video-hero iframe').length){$('#mobile-video-hero iframe').remove();$('#mobile-video-hero object').remove();$('#mobile-video-hero').hide();}
Parallax.isMobile=false;Parallax.parallaxContainers.addClass('bg-fixed');Parallax.adjustParallaxNotifyBar();if(Parallax.parallaxEnabled){$('.immersive-video-background video').css('position','absolute');}}
Parallax.parallaxSections.find('.row').each(function(index,el){if(Parallax.isMobile){var secondaryBackgroundUrl=$(el).parent().attr('data-secondary-background'),nowrap=$(el).closest('.section').hasClass('prevent-mobile-wrap')
$(el).parent().next().css('margin-top','');$(el).css('height','');if($(el).find('.molecule-970').length>0){$(el).css('position','static');$(el).css('height','770px');}
if($(el).find('.molecule-971').length>0||$(el).find('.molecule-hpi-311').length>0){if($(window).width()>800){$(el).css('height','770px');}
$(el).find('.molecule-971').find('video').hide();$(el).find('.molecule-hpi-311').find('video').hide();$(el).css('position','static');if(secondaryBackgroundUrl&&$(window).width>800){$(el).css('background','url("'+secondaryBackgroundUrl+'") 50% 50% / cover no-repeat scroll rgb(98, 112, 119)');}else{$(el).css('background','none');}}}else{$(el).find('.molecule-971').find('video').show();$(el).find('.molecule-hpi-311').find('video').show();if(Parallax.parallaxEnabled){var nextEl=$(el).parent().next();$(el).css('height','770px');if($(el).parent().hasClass('bg-fixed')&&!nextEl.hasClass('bg-fixed')){$(el).css('position','absolute');nextEl.css('margin-top',($(el).height()-77)+'px');if(nextEl.hasClass('bkg-helper')){nextEl.next().css('margin-top',($(el).height()-77)+'px');}}}else{$(el).css('position','relative');}}});if(Parallax.parallaxEnabled&&!Parallax.isMobile){Parallax.adjustParallaxElements();}
clearTimeout(Parallax.resizeHandlerTimeout);};Parallax.adjustParallaxNotifyBar=function(){var companyNotificationHeight;var windowWidth=$(window).width();$('.molecule-971 #video-hero').removeClass('video-hero-height-fix');if(windowWidth<=800){if($('#company-notification').is(':visible')){$('.molecule-971 #video-hero').addClass('video-hero-height-fix');}}
$('body').on('DOMNodeInserted','#company-notification',function(event){companyNotificationHeight=$('#company-notification').height()||0;if(Parallax.parallaxEnabled){Parallax.adjustParallaxElements();}});$('body').on('DOMNodeInserted','.header_container',function(event){if(Parallax.parallaxEnabled){Parallax.adjustParallaxElements();}});};$(document).ready(function(){Parallax.init();});}(jQuery,window));(function($,can,HP){HP.transformTileStructure=function(className,targetClass){targetClass=targetClass||'.span6';var elementsToProcess=$(className),propsToMove=["data-metrics-position","data-metrics-identifier","data-metrics-content","data-metrics-title","data-feed-id","data-template-type","data-subject-length","data-body-length","data-read-more-text","data-view-all-url","data-post-url-domain","data-target"];elementsToProcess.each(function(i,el){var spanNChilds=$(el).find(targetClass);if(spanNChilds.length!=0){if($(el).parent().is("[class*='span']")){$(el).parent().replaceWith($(el));}}});elementsToProcess.each(function(index,elt){var propValues={},molecule=$(elt),moleculeCnt=molecule.parent(),targets=molecule.find(targetClass);for(var q=0;q<propsToMove.length;q++){propValues[propsToMove[q]]=molecule.attr(propsToMove[q]);}
targets.each(function(index,elt){var targetItem=$(elt);for(var q=0;q<propsToMove.length;q++){if(propValues[propsToMove[q]]){targetItem.attr(propsToMove[q],propValues[propsToMove[q]]);}}
targetItem.addClass(molecule.get(0).className);moleculeCnt.append(targetItem);});if(targets.length>0){molecule.remove();}});}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP,params){HP.metricsFlex2=can.Control({defaults:{metricEvent:"click",trackPrefix:"2.0",trackName:"new.link",metaToCollect:[{name:"bu"},{name:"sub_bu"},{name:"simple_title"}],attrsToCollect:[{name:"identifier"},{name:"title"}]},vars:{metaValues:[],links:[],languageCode:'',countryCode:''}},{init:function(element,options){var meta=$("meta"),_self=this,metaValue='',selector='.flex2-molecule[data-metrics-identifier] '+'a[href]:not([href*="slideshare"], [href="#"], [href*="javascript:void(0)"]), '+'.flex2-molecule[data-metrics-identifier] a.js_overlay_trigger, '+'.flex2-molecule[data-metrics-identifier] a.iframe-popup-trigger, '+'.flex2-molecule[data-metrics-identifier] a.js_tab_trigger, '+'.js_menu_holder a[href]:not([href="#"], [href*="javascript:void(0)"])';this.timer=null;this.languageCode=document.documentElement.lang.split("-")[0];this.countryCode=document.documentElement.lang.split("-")[1];for(var q=0;q<this.options.metaToCollect.length;q++){metaValue=meta.filter("*[name='"+this.options.metaToCollect[q].name+"']").attr("content");if(metaValue){if(this.options.metaToCollect[q].name=='simple_title'){if(metaValue.length>40){metaValue=metaValue.substr(0,40);}}
this.metaValues.push(metaValue);}
if(this.options.metaToCollect[q].name=='sub_bu'){this.metaValues.push(this.countryCode);this.metaValues.push(this.languageCode);}}
$(document).on('click',selector,function(e){_self.handleEvent(e);});$(document).on('sendMetric',function(e){_self.sendMetric(e.$link);});$(document).on('mousedown touchstart','.metalocator-buy-wrapper',function(e){_self.handleEvent(e);});},handleEvent:function(e){if(!this.timer){var self=this;this.timer=setTimeout(function(){clearTimeout(self.timer);self.timer=null;},100);if(e.which!==3){self.sendMetric($(e.currentTarget));}}},sendMetric:function(elementToTrack){var metricTargetProps=[],metricsType='',metricValue="";var props=this.options.attrsToCollect;metricTargetProps=this.collectTrackingValue(elementToTrack,props);metricValue=(this.options.trackPrefix+"/"+this.metaValues.join("/")+"/"+metricTargetProps);metricsType=elementToTrack.attr('data-metrics-link-type')||'';if(elementToTrack.hasClass('js_overlay_trigger')||elementToTrack.hasClass('iframe-popup-trigger')){metricsType='link';}
if(metricsType){try{console.log("trackMetrics called with params:");console.log("track name:"+this.options.trackName);console.log("FLEX 2 metrics value: "+metricValue);console.log("FLEX 2 metrics value characters number: "+metricValue.length);console.log("Type: "+metricsType);trackMetrics(this.options.trackName,{name:metricValue,type:metricsType});}catch(excpt){console.log("FLEX 2 metrics error:");console.log(excpt);};}else{console.log('trackMetrics has NOT beet called cause data-metrics-link-type param is not set to a link');}
return true;},collectTrackingValue:function(target,props){var valueArray=[],value="";if(target.length===0)
return value;for(var i=0;i<props.length;i++){var metricCnt='';if(props[i].name=='identifier'){if(target.parents('.flex2-molecule[data-metrics-identifier]').length){metricCnt=target.parents('.flex2-molecule[data-metrics-identifier]').attr("data-metrics-"+props[i].name);}else{metricCnt='';}}
if(props[i].name=='title'){if(target.parents('.flex2-molecule').length){metricCnt=target.parents('.flex2-molecule').attr("data-metrics-"+props[i].name)}else if(target.parents('.js_menu_holder').length){metricCnt=target.parents('.js_menu_holder').attr("data-metrics-"+props[i].name);}
var targetTitle=target.attr("data-metrics-"+props[i].name);if(targetTitle){if(target.hasClass('js_overlay_trigger')||target.hasClass('iframe-popup-trigger')){if(targetTitle.length>20){targetTitle=targetTitle.substr(0,20);}}else{if(targetTitle.length>35){targetTitle=targetTitle.substr(0,35);}}
if(metricCnt){metricCnt=metricCnt+'/'+targetTitle;}else{metricCnt=targetTitle;}}}
if(metricCnt){valueArray.push(metricCnt);}}
if(valueArray.length){value=valueArray.join('/');}
return value;}});})(jQuery,can,window.HP||(window.HP={}));(function($,HP){HP.HomepageMetrics={options:{metricEvent:"click",promoImpressionEventType:"promoClosedImpression",attrsToCollect:[{name:"position"},{name:"title"}],ccLLCodeValues:[],links:[],languageCode:'',countryCode:''},init:function(element){var self=this;this.options.languageCode=document.documentElement.lang.split("-")[0];this.options.countryCode=document.documentElement.lang.split("-")[1];this.options.ccLLCodeValues.push(this.options.countryCode);this.options.ccLLCodeValues.push(this.options.languageCode);this.options.links=this.gatherLinks(element);this.sendBannerImpressionMetric(element);$.each(this.options.links,function(index,ele){$(ele).on(self.options.metricEvent,function(){self.sendLinkMetric($(this));});});},gatherLinks:function(element){var linksArr=element.find('.flex-content .flex2-molecule:not([data-metrics-identifier]) a[data-metrics-link-type]');console.log(linksArr);return linksArr;},gatherBanners:function(element){var BannerArr=[];element.find('.flex-content').filter(function(i,ele){var list=$(ele).find('.flex2-molecule:not([data-metrics-identifier]) a[data-metrics-link-type]');for(var j=0;j<list.length;j++){var x=$(list[j]).parents('div.section').hasClass('no-impression');if(!x){BannerArr.push($(ele));break;}}});return BannerArr;},sendBannerImpressionMetric:function(element){var bannerArr=this.gatherBanners(element),messages=[],props=this.options.attrsToCollect,impressionMetricValue,self=this;$(bannerArr).each(function(index,ele){var bannerMetricsMsg=self.impressionTrackingValue($(ele),props),impressionMetricValue=(self.options.ccLLCodeValues.join("_")+"_"+bannerMetricsMsg);messages.push(impressionMetricValue);});console.log("********Flex 2 Homepage :Banner Impression metrics triggered:",this.options.promoImpressionEventType+":"+messages);trackMetrics(this.options.promoImpressionEventType,{'messages':messages});},sendLinkMetric:function(elementToTrack){var metricTargetProps=[],metricLinkType='',metricValue="";var props=this.options.attrsToCollect;metricTargetProps=this.linkTrackingValue(elementToTrack,props);metricValue=(this.options.ccLLCodeValues.join("_")+"_"+metricTargetProps);metricLinkType=elementToTrack.attr('data-metrics-link-type')||'';if(metricLinkType!=""){try{if(metricLinkType=="promo"){console.log("********Flex 2 Homepage : promoClick Event triggered:",metricValue);trackMetrics('promoClick',{'type':metricLinkType,'id':metricValue,'url':elementToTrack.attr('href')});}else if(metricLinkType=="link"){console.log("********Flex 2 Homepage :newLink Event triggered",metricValue);trackMetrics('newLink',{'type':metricLinkType,'id':metricValue});}}
catch(excpt){console.log("FLEX 2 metrics error:");console.log(excpt);};}else{console.log('trackMetrics has NOT beet called cause data-metrics-link-type param is not set to a link');}
return true;},impressionTrackingValue:function(target,props){var valueArray=[],value="",titleAttr,validRows;if(target.is('a')){validRows=$(target.parents('.flex-content').find('.section:has(".flex2-molecule")')[0]);}else{validRows=$(target.find('.section:has(".flex2-molecule")')[0]);}
titleAttr=$(validRows.find('.flex2-molecule')[0]).attr('data-metrics-title');if(target.length===0)return value;for(var i=0;i<props.length;i++){var metricCnt='';if(props[i].name=='position'){if(target.length){if(target.is('a')){metricCnt=target.parents('.flex-content').attr("data-metrics-"+props[i].name);}else{metricCnt=target.attr("data-metrics-"+props[i].name);}}else{metricCnt='';}}
if(props[i].name=='title'){if(target.length&&(typeof titleAttr!==typeof undefined&&titleAttr!==false)){if(titleAttr.indexOf(' ')>=0){titleAttr=titleAttr.split(' ').join('-');metricCnt=titleAttr;}else{metricCnt=titleAttr;}}else{var tcmid="banner"+"-"+$(validRows.find('.flex2-molecule')[0]).attr('data-metrics-tcmid');metricCnt=tcmid;}}
if(metricCnt){valueArray.push(metricCnt);}}
if(valueArray.length){value=valueArray.join('_');}
return value;},linkTrackingValue:function(eleToTrack,props){var trackingValue=this.impressionTrackingValue(eleToTrack,props),linkIdentifier=eleToTrack.attr("data-metrics-title");if(linkIdentifier.indexOf(' ')>=0){linkIdentifier=linkIdentifier.split(' ').join('-');}
trackingValue=trackingValue+'_'+linkIdentifier;return trackingValue;}}})(jQuery,window.HP||(window.HP={}));(function($,window){'use strict';HP.Anchors=Anchor;function Anchor(context){var self=this,urlAnchor,standardPinnedSecNavHeight=44;this.navigate=function(hash){var $el,dataAnchorEl,parentSlider,top,marginTop,updatedNavHeihgt,newTop;hash=hash.replace('#','');dataAnchorEl=$('div[data-anchor="'+hash+'"]');if(hash.indexOf('&')!=0||hash.indexOf('=')!=0){hash='';}
$el=dataAnchorEl.length?dataAnchorEl:$('#'+hash);if($el.length){top=Math.floor($el.offset().top+1);marginTop=$el.css('margin-top');marginTop=marginTop?marginTop.replace('px',''):0;updatedNavHeihgt=$('.molecule-835, .molecule-hpi-835').length?$('.molecule-835, .molecule-hpi-835').outerHeight():$('[data-pinnable="true"]').length&&$('.secondary-nav:not(.responsive-sec-nav)').is(':visible')?standardPinnedSecNavHeight:0;newTop=+top-+marginTop-+updatedNavHeihgt;parentSlider=$el.parents('.slider.js-slider');if(parentSlider.length){var frame=$el.parents('.frame');var frameIndex=parentSlider.find('.frame').index(frame)||0;console.log('Index: ',frameIndex);$(window).trigger({type:'slideTo',frame:frameIndex});}
$("html, body").stop().clearQueue().animate({scrollTop:newTop+'px'},1000);return true;}
return false;};this.checkAnchorInUrl=function(){urlAnchor=window.location.hash;var self=this;if(urlAnchor){urlAnchor=urlAnchor&&urlAnchor.replace(/^#!&/,'#').replace(/^#!/,'#').split('=')[0];$(window).on('load',function(){self.navigate(urlAnchor);});}};this.initListeners=function(){var $triggers=$('.molecule-300 a, .molecule-hpi-300 a, .molecule-304 a, .molecule-hpi-304 a, .molecule-hpi-302 a, .molecule-302 a');$triggers.on('click',function(e){var href=$(this).attr('href');if(href&&href.indexOf('http')===-1&&href.indexOf('javascript:void(0);')===-1&&href.indexOf('#')===0){href=href.replace('#','');if(self.navigate(href)){e.preventDefault();}}});};this.checkAnchorInUrl();$(function(){self.initListeners();});}})(jQuery,self);(function($,can,HP){'use strict';HP.BreadCrumbs=can.Control({defaults:{holder:'.js-breadcrumbs-holder:first'}},{'init':function(){this.__moveInToHolder();},'__moveInToHolder':function(){var holder=$(this.options.holder);if(holder.length){holder.prepend(this.element.clone().addClass('cloned').wrap('<div class="breadcrumbs-wrapper visible-xxxl visible-xxl visible-xl visible-l"/>').parent());this.element.addClass('cloned-to-breadcrumbs-holder hidden-xxxl hidden-xxl hidden-xl hidden-l');}}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){HP.trackNonGatedLinks=function(){var templateName=$("meta[name='analytics_template_name']").attr("content")||"",metaContent=$("meta[name='metrics_asset_value']"),assetContent=(metaContent.length&&metaContent.attr('content')!='')?metaContent.attr('content'):'Software';function extractUrlValue(key,url){if(typeof(url)==='undefined')
return null;if(url.toLowerCase().indexOf('getpdf')>-1){return url.split('/').pop().split('.')[0];}
var match=url.match('[?&]'+key+'=([^&]+)');return match?match[1]:null;}
$('.non-gated').each(function(i,el){var trigger=$(el);trigger.on('click',function(event){var url_value=trigger.attr('href').trim();var assetID=extractUrlValue('docname',url_value);var pageId=hpmmd.page.country+"/"+hpmmd.page.sub_business_unit+"/"+hpmmd.page.name+"/"+(hpmmd.metatags?hpmmd.metatags.simple_title:'');if(assetID!=undefined){try{trackMetrics('new.page',{name:(HP.meta.pageType==="FLEX2 SW3"?templateName:hpmmd.page.sub_business_unit)+'/PDF/NonGatedDownload/'+assetID+':'+url_value,assets:[assetContent+':'+hpmmd.page.country+':'+hpmmd.page.sub_business_unit+':Unprotected:PDF:'+assetID],events:["Mktg Download Click"],parent_page:pageId});}catch(e){if(console&&console.log){console.log("FLEX2 METRICS ERROR (NON GATED)");}}}});});}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.removeInappropriateSpan24=function(className,targetClass){targetClass=targetClass||".span24";$(className).each(function(i,el){if($(el).parent().is(targetClass)){$(el).parent().replaceWith($(el));}});}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.setSliderPosition=function(className){$(className).each(function(i,el){var slider=$(el).closest(".js-slider");if(slider.length!=0){if($(className).hasClass('molecule-201')){slider.attr('data-nav-position','aside outline-left');}}});}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.setOneHeightForMolecules=function(className){var molecules=$(className).not('.resized-by-vertical-ruler');var maxHeight=0;var tmp;for(var i=0;i<molecules.length;i++){tmp=$(molecules[i]).height();if(maxHeight<tmp){maxHeight=tmp;}}
for(var i=0;i<molecules.length;i++){$(molecules[i]).height(maxHeight);}}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.oneHeightModulesInOneRow=function(wrapperSelector,itemsSelector,forcedRun,recalcOnResize){var $wrappers=$(wrapperSelector);forcedRun=forcedRun;$wrappers.each(function(){if($(this).find(wrapperSelector).length){return;}
var $wrapper=$(this),$items=$(itemsSelector,$wrapper);if($items.length==0){return;}
$wrapper.parents('.js_tab_content').on('show',function(){setMinHeight($items,$wrapper);});if(recalcOnResize){bindOnResize($items,$wrapper);}
if($wrapper.hasClass('fixed-bottom-button')){if(itemsSelector=='.molecule-hpi-511'){setMinHeight($items,$wrapper);return;}
heightWithFixedButtons($items,$wrapper);wrapCTAForCenter($items);return;}
if(!$wrapper.hasClass('one-height-boxes')&&(!$wrapper.hasClass('.molecule-831'))){if(!forcedRun){return;}}
setMinHeight($items,$wrapper);})
function bindOnResize($items,$wrapper){var resizeTimeout;$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){setMinHeight($items,$wrapper);},200);});}
function setMinHeight($items,$wrapper){if($wrapper.hasClass('fixed-bottom-button')&&$items.first().attr('class').indexOf('-929')===-1){return heightWithFixedButtons($items,$wrapper);}
var length=$items.length,maxHeight;$items.css('min-height',0);if(length>0){maxHeight=$items.first().outerHeight();for(var i=1;i<length;i++){var itemHeight=$items.eq(i).outerHeight();if(itemsSelector=='.molecule-hpi-511'){var $link=$items.eq(i).find('.cta-wrapper');itemHeight+=$link.outerHeight();}
maxHeight=Math.max(maxHeight,itemHeight);}
if(isIE8&&$wrapper.hasClass('.molecule-831')){maxHeight=maxHeight-12;}
$items.css('min-height',maxHeight);}}
function wrapCTAForCenter($items){$items.filter('.text-center').find('.link-lists > a').wrap('<div class="center-wrapper"></div>');}
function heightWithFixedButtons($items,$wrapper){if(!$items.length){return}
var fourColumns=$('.span6',$wrapper),calculate=function(){var maxHeight=0,maxButtonHeight=0;$items.css('min-height',0);if(fourColumns.length&&$(window).width()>479&&$('body.responsive').length>0){$items.attr('style','min-height:0 !important');}
maxHeight=Math.max.apply(Math,$.map($items,function(v){return $(v).outerHeight();}));maxButtonHeight=Math.max.apply(Math,$.map($items,function(v){var $link=$(v).find('.link-lists > a,.link-lists .center-wrapper > a'),bottom=$link.css('bottom');bottom=(function(){var temp=bottom?/\d*/.exec(bottom):[];return temp.length?(temp[0].length?temp[0]*1:0):0;})();return $link.outerHeight()+bottom;}));maxHeight=maxHeight+maxButtonHeight+(window.innerWidth>800?30:0);if(fourColumns.length&&$(window).width()>479&&$('body.responsive').length>0){$items.attr('style','min-height:'+maxHeight+'px !important');}else{if(!$items.eq(0).parents('.js-slider').length&&window.innerWidth<=800){$items.css('min-height',0);}else{$items.css('min-height',maxHeight);}}
return maxHeight;};calculate();}};}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.addClassFullToTheSection=function(className,targetClass){targetClass=targetClass||".section";$(className).each(function(i,el){if($(el).parent().is(targetClass)){$(el).parent().addClass("full");}});}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.ignoreInlineHeight=function(){var items=$('.ignore-inline-height');items.each(function(){var style=$(this).attr('style')?$(this).attr('style').replace(/\s/g,''):'',height=/height:(.*?)px/.exec(style);height=height?height[1]:0;if(height){$(this).css('min-height',height+'px').addClass('auto-height');}else{$(this).removeClass('ignore-inline-height')}})}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.RulerVerticalContent=can.Control({vars:{items:null}},{'init':function(element,options){var selector,molecules,isResizeRequired=false,self=this;if(element.hasClass('row')){selector='> [class*="span"] > [class*="molecule-"]';}else{selector='> .row > [class*="span"] > [class*="molecule-"]';}
this.items=element.find(selector);molecules=this.items.map(getMoleculeName);for(var i=0;i<molecules.length;i++){for(var j=i+1;j<molecules.length;j++){if(molecules[i]!==molecules[j]){isResizeRequired=true;break;}}}
if(isResizeRequired){this.items.addClass('resized-by-vertical-ruler');this.resizeFunction();$(window).resize(function(){clearTimeout(self.resizeTimer);self.resizeTimer=setTimeout(function(){self.resizeFunction();},250);});}
function getMoleculeName(index,elem){var molecule,classes=$(elem).attr('class').split(' ');for(var i=0;i<classes.length;i++){if(classes[i].indexOf('molecule-')===0){molecule=classes[i];}}
return molecule;}},'resizeFunction':function resizeFunction(){var currentHeight,maxHeight=0,windowWidth=$(window).width()+17;if(windowWidth<=800)return;this.items.height('auto').each(function(i,elem){currentHeight=$(elem).outerHeight();if(maxHeight<currentHeight){maxHeight=currentHeight;}});this.items.css("height",maxHeight);}});}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.restoreOriginalTitle=function(){if(isIE){var originalTitle=document.title.split("#")[0];document.attachEvent('onpropertychange',function(evt){if(evt.propertyName==='title'&&document.title!==originalTitle){setTimeout(function(){document.title=originalTitle;},1);}});}}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.adjustDurationIndicator=function(className){$(className).each(function(i,el){var targetElement=$(el).find('.video-thumbnail');targetElement.each(function(i,e){var imageElement=$(e).find('img')[0];if(imageElement!=''){var imageHeight=imageElement.getAttribute('height');var imageWidth=imageElement.getAttribute('width');$(e).css('height',imageHeight+'px');$(e).css('width',imageWidth+'px');}});});}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.responsiveBehaviour=function(){initMolecule200();initMoleculeHPI300();initMolecule311();initModule430();initMolecule431();initMolecule506();initMolecule511();initMolecule811and825({moduleSelector:'.molecule-hpi-811',overlaySelector:'.overlay-popup.video-overlay',sliderSelector:'.js-gallery-slider',contentContainerSelector:'.video-container'});initMolecule811and825({moduleSelector:'.molecule-825',overlaySelector:'.overlay-popup.image-overlay',sliderSelector:'.js-gallery-slider',contentContainerSelector:'.image-container'});initMolecule800pairedWith5XXModules();initReseller();initModules801();initModules802();initMolecule802pairedWith501();initMolecule804();initMolecule970();initMolecule971('.molecule-971');initMolecule975();initMoleculeHpi837();function responsiveMolecule300And304(){var $molecule300=$('.molecule-300, .molecule-hpi-300');var $molecule304=$('.molecule-304, .molecule-hpi-304');var $bothMolecule=$('.molecule-300, .molecule-hpi-300, .molecule-304, .molecule-hpi-304');function isElementHasTextAlignClasses($el){return($el.hasClass('text-left')||$el.hasClass('text-center')||$el.hasClass('text-right'))?true:false;}
function getTextAlignClassFromElement($el){if($el.hasClass('text-left')){return'text-left';}
if($el.hasClass('text-center')){return'text-center';}
if($el.hasClass('text-right')){return'text-right';}}
function resize(){var width=$(window).width();if(width<=800){if(isElementHasTextAlignClasses($molecule300)){$molecule300.parent().find('.molecule-ocmhpitag').addClass(getTextAlignClassFromElement($molecule300));}
if(isElementHasTextAlignClasses($molecule304)&&$molecule304.hasClass('nowrap')){var alignClass=getTextAlignClassFromElement($molecule304);$molecule304.parent().find('.molecule-ocmhpitag').addClass(alignClass);}}}
$(window).on('resize',function(){setTimeout(function(){},100);});resize();}
if(isIE8||isIE7){ie8SecNavFix();initMolecule302();initMolecule501();}
if($('body.responsive').length==0){return;}
$('body').append('<div class="trigger-800"></div><div class="trigger-1000"></div>');$(window).on('windowLoaded',function(){initMolecule503();});$(window).on('mainJs.loaded',function(){initWrapBehaviour();if(!isIE8){initMolecule302();}});$(window).on('resize',function(){setTimeout(function(){setOneHeightForPairMolecule503();oneHeightModules();},100);});if(!isIE8){initMolecule303();}
initMolecule501();cloudInitMolecule800();initMolecule920();initMoleculeHpi920();initMolecule925();initMoleculeHpi925();initModule831and926();initMoleculeHpi929();initSuppressInlineStyles();initMolecule976();initResponsiveBackground();function initResponsiveBackground(){if("matchMedia"in window){var selector='.section.full'
+'[style*="url"]'
+'[data-secondary-background]'
+':not(.suppress-bkg-image-mobile)'
+':not(div[class^="row-overlay-img-type"])'
+':not(div[class*=" row-overlay-img-type"])',sections=$(selector),mobileQuery=window.matchMedia('screen and (max-width: 800px)');sections.each(function(){var t=$(this),url=t.css('background-image').replace(/url\(['"]*(.*?)['"]*\)/,'$1');$(this).attr('data-primary-background',url);});changeBackgrounds(mobileQuery);mobileQuery.addListener(changeBackgrounds);}
function changeBackgrounds(mql){var image='data-primary-background';if(mql.matches){image='data-secondary-background';}
sections.each(function(){$(this).css('background-image','url("'+$(this).attr(image)+'")');});}}
function initWrapBehaviour(){var allSections=typeof $.fn.centerPlayIcon!='function'?$('.section.full:not(div[class^="row-overlay-img-type"]):not(div[class*=" row-overlay-img-type"])'):$('.section.layout-1280, .section.layout-1200, .section.layout-1000'),wrappableItems;allSections=allSections.filter(function(){var section=$(this);return section.attr('style')&&section.attr('style').indexOf('url')!=-1;});allSections.each(function(){var $section=$(this),$backgroundHelper,backgroundUrl,preserveRatioClass,shouldWrap;if($section.data('secondary-background')){backgroundUrl=$section.data('secondary-background');}else{backgroundUrl=/url\((.*?)\)/.exec($section.attr('style'))[1];backgroundUrl=backgroundUrl.replace(/(?:\'|")/g,'');}
preserveRatioClass=$section.hasClass('preserve-ratio')?'preserve-ratio-16-9':'img-bkg';shouldWrap=!($section.hasClass('prevent-mobile-wrap')||$section.hasClass('suppress-bkg-image-mobile'));if(shouldWrap){$backgroundHelper=$('<div class="section full bkg-helper"><img src="'+backgroundUrl+'"/></div>').addClass(preserveRatioClass).css('background','url('+backgroundUrl+') no-repeat 50% 0 transparent');$section.addClass('wrappable-section');if($section.hasClass('slider-content-above')){$section.after($backgroundHelper);}else{$section.before($backgroundHelper);}}else{$section.addClass('auto-height');if($section.hasClass('preserve-ratio')){$section.removeClass('preserve-ratio');$section.addClass('preserve-ratio-16-9');}}
if(shouldWrap){$section.find('div.font-color-theme1').attr('data-color-theme','font-color-theme1');if($section.hasClass('font-color-theme1')){$section.attr('data-color-theme','font-color-theme1');}}});wrappableItems=$('.wrappable-section, .suppress-bkg-image-mobile');if(wrappableItems.length){(function(sections){var resizeTimeout,sectionsWithWhiteFont=sections.filter(function(){return $(this).attr('data-color-theme')=="font-color-theme1"&&!$(this).hasClass('wrap-on-1000');})
sectionsWithWrapOn1000=sections.filter(function(){return $(this).attr('data-color-theme')=="font-color-theme1"&&$(this).hasClass('wrap-on-1000');})
$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(resize,200);});function resize(){if(!$('.trigger-800').is(':visible')){sections.each(function(){if(!$(this).hasClass('wrap-on-1000')){$(this).find('div[data-color-theme="font-color-theme1"]').addClass('font-color-theme1');}});sectionsWithWhiteFont.addClass('font-color-theme1');}else{sections.each(function(){if(!$(this).hasClass('wrap-on-1000')){$(this).find('div.font-color-theme1').removeClass('font-color-theme1');}})
sectionsWithWhiteFont.removeClass('font-color-theme1');}
if(!$('.trigger-1000').is(':visible')){sectionsWithWrapOn1000.each(function(){$(this).find('div[data-color-theme="font-color-theme1"]').addClass('font-color-theme1');});$('.wrap-on-1000').each(function(){$(this).find('div[data-color-theme="font-color-theme1"]').addClass('font-color-theme1');})
sectionsWithWrapOn1000.addClass('font-color-theme1');}else{sectionsWithWrapOn1000.each(function(){$(this).find('div.font-color-theme1').removeClass('font-color-theme1');})
$('.wrap-on-1000').each(function(){$(this).find('div.font-color-theme1').removeClass('font-color-theme1');})
sectionsWithWrapOn1000.removeClass('font-color-theme1');}};resize();})(wrappableItems);}}
function ie8SecNavFix(){var body=$('body'),timeout;body[$(window).width()<1000?'addClass':'removeClass']('static-sec-nav');$(window).on('resize',function(){clearTimeout(timeout);timeout=setTimeout(function(){body[$(window).width()<1000?'addClass':'removeClass']('static-sec-nav');},100);})}
function ie8SectionCoverFix(){var allSections=$('.section.full:not(.ignore-background-cover)');allSections=allSections.filter(function(){var section=$(this);return section.attr('style')&&section.attr('style').indexOf('url')!=-1;});allSections.each(function(){var $el=$(this),bckgUrl=/url\((.*?)\)/.exec($el.attr('style'))[1],ie8Fix='progid:DXImageTransform.Microsoft.AlphaImageLoader(src='+bckgUrl+', sizingMethod="scale")';$el.css('filter',ie8Fix);});}
function moreLess(element,description){var rawText=description.text(),arrText=[],magicNumberOfWords=30,inlineLinks,paragraphs,notHidArr=[],hidArr=[],start,end,arrLinks=[],begin,finish,arrParagraphs=[],rawHTML=[],arrHTML=[],notHidText="",hidText="",matchOpen,matchClosed,closenTag="",collapseTitle=element.data('collapsed-text')||'Read more',expandTitle=element.data('expanded-text')||'Read less',partText="";if(element.is("[data-visible-count]")&&element.attr("data-visible-count")){magicNumberOfWords=parseInt($.trim(element.attr("data-visible-count")),10);}
rawText=$.trim(rawText.replace(/\s{2,}/g,' '));arrText=rawText.split(' ');if(arrText.length>magicNumberOfWords){inlineLinks=description.html().toLowerCase().indexOf('<\/a>')>-1?true:false;paragraphs=description.html().toLowerCase().indexOf('<\/p>')>-1?true:false;if(inlineLinks){arrLinks=$(description).find('a');for(var l=0;l<arrLinks.length;l++){var clean=$.trim($(arrLinks[l]).html());$(arrLinks[l]).html(clean);}}
if(paragraphs){arrParagraphs=$(description).find('p');for(var l=0;l<arrParagraphs.length;l++){var clean=$.trim($(arrParagraphs[l]).html());$(arrParagraphs[l]).html(clean);}}
rawHTML=description.html().replace(/<\/?[A-Z]+.*?>/g,function(m){return m.toLowerCase();});rawHTML=$.trim(rawHTML.replace(/\s{2,}/g,' '));arrHTML=rawHTML.split(' ');if(inlineLinks){for(var j=0;j<arrHTML.length;j++){if(arrHTML[j].indexOf('<a')!=-1){start=j+1;for(var i=j+1;i<arrHTML.length;i++){arrHTML[j]+=' '+arrHTML[i];if(arrHTML[i].indexOf('>')>-1){end=i+1;break;}}
arrHTML.splice(start,(end-start));}}}
if(paragraphs){for(var j=0;j<arrHTML.length;j++){if(arrHTML[j].indexOf('</p><p>')!=-1){var rest=arrHTML[j].substring(arrHTML[j].indexOf('>')+1);arrHTML[j]=arrHTML[j].substring(0,arrHTML[j].indexOf('>')+1);arrHTML.splice(j+1,0,rest);}}
for(var j=0;j<arrHTML.length;j++){if(arrHTML[j].indexOf('<p>')!=-1&&arrHTML[j].indexOf('<p>')>0){begin=j+1;for(var i=j+1;i<arrHTML.length;i++){arrHTML[j]+=arrHTML[i];finish=i+1;break;}
arrHTML.splice(begin,(finish-begin));}}}
for(var i=0;i<arrHTML.length;i++){if(i<magicNumberOfWords){notHidArr.push(arrHTML[i]);}else{hidArr.push(arrHTML[i]);}}
notHidText=notHidArr.join(' ');hidText=hidArr.join(' ');if(inlineLinks){matchOpen=notHidText.match(/<\s*a/ig);matchClosed=notHidText.match(/\s*\/a\s*>/ig);if((matchOpen&&matchOpen.length)>(matchClosed&&matchClosed.length)){var a=hidText.indexOf('<\/a>');var pos=a+4;var b=hidText.indexOf(' ',pos);if(b>a&&a!=-1){var linkPart=hidText.substring(0,hidText.indexOf(' ',pos));hidText=hidText.slice(pos+1);notHidText=notHidText+' '+linkPart;}}}
if(paragraphs){var openTag=notHidText.match(/<\s*p>/ig);var closedTag=notHidText.match(/<\s*\/p\s*>/ig);if((openTag&&openTag.length)>(closedTag&&closedTag.length)){closenTag='</p>';hidText=hidText.replace('</p>','');}}
hidText=' '+hidText;partText='<span class="not-hidden-text" style="display: block">'+notHidText+'<span class="dots">&nbsp;...</span>'+closenTag+'</span>'+'<span class="hidden-text" style="display:none">'+hidText+'</span>';$('.description',element).html(partText);element.find('.description').after('<a class="collapse-expand-trigger" href="javascript:void(0)">'+collapseTitle+'</a>');$('a.collapse-expand-trigger',element).off('click').on('click',function(){var hiddenContent=$('.hidden-text',element);if(hiddenContent.hasClass('opened')){hiddenContent.removeClass('opened').slideUp({done:function(){$('.dots',element).show();}});$('.description',element).html(partText);$(this).html(collapseTitle);}else{hiddenContent.slideDown();$('.description',element).html('<span class="not-hidden-text" style="display: none">'+notHidText+'<span class="dots">&nbsp;...</span>'+closenTag+'</span>'+rawHTML+'<span class="hidden-text opened" style="display:none">'+hidText+'</span>');$(this).html(expandTitle);$('.dots',element).hide();}});}}
function removeOptionalItems(module,tag){var $module=$(module);$module.each(function(){var $molecule=$(this),$tagInModule=$molecule.find(tag),tagText=$tagInModule.text();if($.trim(tagText).length>0&&(tagText.indexOf("$$")!=-1||tagText.indexOf("@@")!=-1)){$tagInModule.remove();}});}
function initMolecule200(){$('.molecule-200, .molecule-hpi-200').each(function(){var element=$(this);if(element.hasClass('readmore-description')){var description=element.find('.description').eq(0);if(description.length&&description.text()){moreLess(element,description);}}});}
function initMoleculeHPI300(){$('.molecule-hpi-300').each(function(){var links=$('>a',this);if(links.length>1&&$(this).hasClass('swap-ctas')){links.first().insertAfter(links.last());}});}
function initMolecule302(){$('.responsive .molecule-302, .responsive .molecule-hpi-302').each(function(){var element=$(this),CTAs=$('.text-block > a',element);if(CTAs.length>1){element.hasClass('swap-ctas')&&CTAs.first().insertAfter(CTAs.last());element.addClass('buttons-separated');}
var inlineVideo=$(this).find('.image-holder .youtube-video-template'),headerImage=$(this).find('.h-image img'),contentWrapper=$(this).find('.content-wrapper'),hasAnyTextContent=contentWrapper.find('>*').length,contentCopy=contentWrapper.clone(true,true).addClass('cloned hidden-container'),ulButtomLinks;contentCopy.find('.overlay-popup').detach();if(inlineVideo.length>0){inlineVideo.parents('.molecule-302, .molecule-hpi-302').addClass('inline-video');}
if(hasAnyTextContent){element.append(contentCopy);}else{contentWrapper.remove();element.addClass('empty-content');}
if(element.hasClass('collapse-mobile-content')&&!element.hasClass('readmore-description')){var collapsedTitle=element.data('collapsed-text')||'Read more',expandedTitle=element.data('expanded-text')||'Read less',moduleTitle=element.find('.text-block h3');if(moduleTitle.length&&moduleTitle.html().trim().length!=0){contentCopy.find('>*:not(h3)').wrapAll('<div class="collapsible-content"><div>')}
$('<a class="expand-trigger" href="javascript:void(0)">'+collapsedTitle+'<span> +</span></a>').insertBefore(contentCopy.find('.collapsible-content'));$('a.expand-trigger',contentCopy).on('click',function(){if(window.innerWidth>690){return;}
var collapsibleContent=$(this).parent().find('.collapsible-content');if(collapsibleContent.is(':visible')){collapsibleContent.slideUp();$(this).html(collapsedTitle+'<span> +</span>');}else{collapsibleContent.slideDown();$(this).html(expandedTitle+'<span> -</span>');}});}
if(element.hasClass('readmore-description')){var description=element.find('.content-wrapper .description').eq(0);if(description.length&&description.text()){moreLess(element,description);}}
if(headerImage.length){$(this).find('.content-wrapper:not(.cloned)').find('.font-lh3, .h-image').wrapAll('<div class="middle-vetrical-aligned-cells"></div>');}
if($(headerImage).height()===60&&$(headerImage).width()===60){$(this).find('.cloned').addClass('image-not-move');}
if(element.hasClass('video-link-with-arrow')){ulButtomLinks=element.find('ul.bottom-links');if(ulButtomLinks.length){ulButtomLinks.each(function(){checkLinkClass(this);})}
function checkLinkClass(ul){var buttomLinks=$(ul).find('> li > a.bottom-link');if(buttomLinks.length){setLinkCurrentClasses(ul);}}
function setLinkCurrentClasses(ul){var links=$(ul).find('li > a'),classesList;links.each(function(){var link=$(this);if(!link.hasClass('bottom-link')){classesList=$(ul).find('li > a.bottom-link').attr('class');link.addClass(classesList);}})}}});$('body:not(.responsive) .molecule-302, body:not(.responsive) .molecule-hpi-302').each(function(){var element=$(this);if(element.hasClass('readmore-description')){var description=element.find('.content-wrapper .description').eq(0);if(description.length&&description.text()){moreLess(element,description);}}});}
function initMolecule303(){$('.responsive .molecule-303').each(function(){var contentCopy=$(this).find('.content-wrapper').clone(true,true).addClass('cloned hidden-container'),element=$(this);element.append(contentCopy);});}
function initMolecule311(){initMolecule971('.molecule-hpi-311');removeOptionalItems('.molecule-hpi-311','h3');}
function initModule430(){$('.molecule-430').each(function(){var $el=$(this),nav=$el.find('.tiles-container'),navWidth=0,currentLeft=0,navWidth=0,isTouchMove=false,minLeft=0,newLeft,movableArea,resizeTimeout;nav.find('.nav-slider > a').each(function(){navWidth+=Math.floor($(this).outerWidth()+18);})
updateMovableArea();updateMinLeft();initListeners();nav.swipe({swipeStatus:function(event,phase,direction,distance,duration,fingers){newLeft=(direction=='left')?+currentLeft-(+distance):(+currentLeft)+(+distance);minLeft=parseInt(nav.width())-parseInt(navWidth);minLeft=(minLeft>0)?0:minLeft;if(phase=='move'&&direction=='left'||phase=='move'&&direction=='right'){if(minLeft<=newLeft&&newLeft<=0){movableArea.css('left',newLeft);}
if(minLeft>newLeft){movableArea.css('left',minLeft);}
if(newLeft>0){movableArea.css('left',0);}}
if(phase=='cancel'||phase=='end'){currentLeft=(newLeft<minLeft)?minLeft:(newLeft>0)?0:newLeft;if(isTouchMove){setTimeout(function(){$(window).trigger('enableTabClick');isTouchMove=false;},50);adjustCenterItem(currentLeft);}}
if(phase=='move'&&!isTouchMove&&newLeft!=currentLeft){isTouchMove=true;$(window).trigger('disableTabClick');}},excludedElements:''})
function updateMovableArea(){movableArea=nav.find('.nav-slider');movableArea.width(navWidth);}
function adjustCenterItem(left){var navWidth=nav.width(),navCenter=Math.round(nav.width()/2),firstItem=movableArea.find('>a:first'),closestCenterDistance=navCenter-(firstItem.position().left+(firstItem.outerWidth()+20)/2+left);movableArea.find('>a:not(:first)').each(function(i){var currentItemCenterDistance=navCenter-($(this).position().left+($(this).outerWidth()+20)/2+left);if(Math.abs(currentItemCenterDistance)<Math.abs(closestCenterDistance)){closestCenterDistance=currentItemCenterDistance}});currentLeft=(minLeft>=left)?minLeft:(left>=0)?0:(left+closestCenterDistance);currentLeft=(currentLeft<minLeft+5)?minLeft:(currentLeft>-5)?0:currentLeft;movableArea.animate({"left":currentLeft},150);updateArrows(400);}
function updateArrows(duration){if(currentLeft==minLeft){$el.find('.next').fadeOut();nav.addClass('no-right-slide');}else{nav.removeClass('no-right-slide');$el.find('.next').fadeIn();}
if(currentLeft==0){$el.find('.prev').fadeOut();nav.addClass('no-left-slide');}else{$el.find('.prev').fadeIn();nav.removeClass('no-left-slide');}}
function updateMinLeft(){minLeft=nav.outerWidth()-navWidth;minLeft=(minLeft<=0)?minLeft:0;}
function initListeners(){$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){centerActiveItem(0);updateMinLeft();})});$el.find('.nav-arrow').on('click',function(){updateMinLeft();$(this).hasClass('prev')?slidePrev():slideNext()})
nav.find('.nav-slider > a').on('click',function(e){if(isTouchMove){e.preventDefault();return false;}})
updateArrows(400);}
function centerActiveItem(centerPosLeft){var navCenter=Math.round(nav.width()/2);dx=navCenter-(currentLeft+centerPosLeft);currentLeft=(dx+currentLeft<=minLeft)?minLeft:(dx+currentLeft>=0)?0:dx+currentLeft;movableArea.animate({"left":currentLeft},150);updateArrows(400);}
function slideNext(){adjustCenterItem(currentLeft-100);}
function slidePrev(){adjustCenterItem(currentLeft+100);}})}
function initMolecule431(){if(HP.Utils.cookie.isEnabled()){$('.molecule-431').each(function(){var context=$(this),links=$('.steps-list>li>a',context);links.each(function(){var href=$(this).attr('href').indexOf('javascript:void(0)')==-1?$(this).attr('href'):$(this).attr('rel');if(HP.Utils.cookie.get(href)){$(this).addClass('checked');}})
links.on('click',function(e){$(this).addClass('checked');var identificator=$(this).attr('href').indexOf('javascript:void(0)')==-1?$(this).attr('href'):$(this).attr('rel');HP.Utils.cookie.set(identificator,true);})})}else{$('.molecule-431').addClass('disabled-cookie');}
$('.molecule-431').each(function(){$(this).addClass('inner-items-'+$(this).find('.steps-list li').length);if($(this).find('.steps-list li').length>2){$(this).find('.steps-list li').eq(1).after('<li class="hor-rul"></li>');}})}
function oneHeightModules(){var selectorArr=[".molecule-800 .molecule-501",".molecule-800 .molecule-hpi-501",".molecule-800 .molecule-302",".molecule-800 .molecule-hpi-302",".molecule-800 .molecule-hpi-quote,.molecule-501",".molecule-800 .molecule-hpi-quote,.molecule-hpi-501"];for(var i=0;i<selectorArr.length;i++){var items=$(selectorArr[i]);if(items.length){var arr=selectorArr[i].split(" ");new HP.oneHeightModulesInOneRow(arr[0],arr[1]);}else{continue;}}}
function initMolecule501(){$('.responsive .molecule-501:not(.collapsible), '+'.responsive .molecule-hpi-501:not(.collapsible)').each(function(){var element=$(this);if(element.hasClass('collapse-mobile-content')&&!element.hasClass('readmore-description')){var collapsedTitle=element.data('collapsed-text')||'Read more',expandedTitle=element.data('expanded-text')||'Read less',moduleTitle=element.find('h3'),ulLinkLists;if(moduleTitle.length&&moduleTitle.html().trim().length!=0){element.find('>*:not(h3):not(.clf):not(.videoitem):not(.small-caption)').wrapAll('<div class="collapsible-content"></div>')}
$('<a class="expand-trigger" href="javascript:void(0)">'+collapsedTitle+'<span> + </span></a>').insertBefore(element.find('.collapsible-content'));$('a.expand-trigger',element).on('click',function(){if(window.innerWidth>690){return;}
var collapsibleContent=$(this).parent().find('.collapsible-content');if(collapsibleContent.is(':visible')){collapsibleContent.slideUp({complete:function(){$(this).css('display',"");}});$(this).html(collapsedTitle+'<span> +</span>');}else{collapsibleContent.slideDown();$(this).html(expandedTitle+'<span> -</span>');}});}
if(element.hasClass('readmore-description')){var description=element.find('.description').eq(0);if(description.length&&description.text()){moreLess(element,description);}}
if(element.hasClass('video-link-with-arrow')){ulLinkLists=element.find('div.link-lists ul');if(ulLinkLists.length){ulLinkLists.each(function(){checkLinkClass(this);})}
function checkLinkClass(ul){var buttomLinks=$(ul).find('> li > a.bottom-link');if(buttomLinks.length){setLinkCurrentClasses(ul);}}
function setLinkCurrentClasses(ul){var videoLink=$(ul).find('.icn_vid');if(videoLink.length){videoLink.each(function(){$(this).find('a').addClass('bottom-link');})}}}});$('body:not(.responsive) .molecule-501:not(.collapsible), '+'body:not(.responsive) .molecule-hpi-501:not(.collapsible)').each(function(){var element=$(this);if(element.hasClass('readmore-description')){var description=element.find('.description').eq(0);if(description.length&&description.text()){moreLess(element,description);}}});}
function initMolecule503(){$('.span6 .molecule-503').parents('.row').addClass('four-cols');var molecules=$(".span6 .molecule-503:not(.molecule-803 .molecule-503)");var windowWidth=$(window).width()+17;if(molecules.length&&windowWidth>=496&&windowWidth<=800){setOneHeightForPairMolecule503();}}
function setOneHeightForPairMolecule503(){var molecules=$(".span6 .molecule-503:not(.molecule-803 .molecule-503)");var windowWidth=$(window).width()+17;if(molecules.length){if(windowWidth>=496&&windowWidth<=800){var arr=[];for(var i=0;i<molecules.length;i++){arr.push(molecules[i]);if(arr.length==2){getOneHeight(arr);arr=[];}}}else{new HP.setOneHeightForMolecules(".molecule-503:not(.molecule-803 .molecule-503)");}}}
function getOneHeight(array){var maxHeight=0;var tmp;for(var i=0;i<array.length;i++){$(array[i]).height('auto');tmp=$(array[i]).height();if(maxHeight<tmp){maxHeight=tmp;}}
for(var i=0;i<array.length;i++){$(array[i]).height(maxHeight);}}
function initMolecule506(){$('.molecule-506').each(function(){var $wrapper=$(this),$img=$('.gradient-image>img',$wrapper).length>0?$('.gradient-image>img',$wrapper):$('> img',$wrapper),ie8Styles=isIE8?'filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+$img.attr("src")+'", sizingMethod="scale");-ms-filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+$img.attr("src")+'", sizingMethod="scale")':'',imgHeight=$img.attr("height").replace('px','').replace(/\s/ig,''),style='background: url('+$img.attr("src")+') 50% 50% no-repeat; height: '+imgHeight+'px; '+ie8Styles,resizeTimeout;if($wrapper.hasClass('font-color-theme1')&&!($wrapper.hasClass('bkg-color-type3')||$wrapper.hasClass('bkg-color-type9'))){$wrapper.attr('data-color-theme','font-color-theme1');}
if($(this).hasClass('full-width-background')){$(this).parent('[class*="span"]').addClass('center-responsive-506');$img=$('>img',$wrapper);$wrapper.height($img.attr('height'));}
$wrapper.attr('style',style);if($('.gradient-image',$wrapper).length>0){$wrapper.addClass('custom-bkg');$('.gradient-image',$wrapper).remove();}
$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){if(window.innerWidth<=496){if($wrapper.attr('data-color-theme')==='font-color-theme1')$wrapper.removeClass('font-color-theme1');}else{if($wrapper.attr('data-color-theme')==='font-color-theme1')$wrapper.addClass('font-color-theme1');}},200);});});}
function initMolecule511(){$('.molecule-hpi-511').each(function(){var element=$(this);var iconOn=element.find('.icon-on');var iconOff=element.find('.icon-off');function mouseEnterHandler(){element.off('mouseenter',mouseEnterHandler);if(iconOff.length){iconOff.fadeOut(50,function(){if(iconOn.length){iconOn.fadeIn(50,function(){element.on('mouseleave',mouseLeaveHandler);});}else{element.on('mouseleave',mouseLeaveHandler);}});}else if(iconOn.length){iconOn.fadeIn({always:function(){element.on('mouseleave',mouseLeaveHandler);}});}else{element.on('mouseleave',mouseLeaveHandler);}}
function mouseLeaveHandler(){element.off('mouseleave',mouseLeaveHandler);if(iconOn.length){iconOn.fadeOut(50,function(){if(iconOff.length){iconOff.fadeIn(50,function(){element.on('mouseenter',mouseEnterHandler);});}else{element.on('mouseenter',mouseEnterHandler);}});}else if(iconOff.length){iconOff.fadeIn(50,function(){element.on('mouseenter',mouseEnterHandler);});}else{element.on('mouseenter',mouseEnterHandler);}}
element.on('mouseenter',mouseEnterHandler);});}
function cloudInitMolecule800(){$('.molecule-800.mobile_cloud_map_style').each(function(){var $el=$(this),content=$el.find('> .row > .span24 > .molecule-801 .item-container .molecule-800 .molecule-801 ul.prog-disc-content'),parentTriggerEl=$el.find('> .row > .span24 > .molecule-801 > .span24 > ul.prog-disc-content > li > .js_prog_disc_trigger');parentTriggerEl.on('click',function(){var el=$(this),ul=el.parent('li').find('.molecule-800 .molecule-801 ul.prog-disc-content'),lastIcon=ul.find(':last-child .js_prog_disc_trigger i');setTimeout(function(){setExpandLineHeight(ul,lastIcon);},50);});content.each(function(){var ul=$(this),triggerEl=ul.find('.js_prog_disc_trigger'),lastIcon=ul.find(':last-child .js_prog_disc_trigger i');triggerEl.on('click',function(){setTimeout(function(){setExpandLineHeight(ul,lastIcon);},500);});$(window).on('resize',function(){setTimeout(function(){setExpandLineHeight(ul,lastIcon);},400);});ul.prepend('<div class="expandLine"></div>');});function setExpandLineHeight(ul,lastIcon){var expandLineHeight=($(lastIcon).offset().top-$(ul).offset().top)+'px';var expandDiv=$(ul).find('.expandLine');$(expandDiv).hide();$(expandDiv).css({'height':expandLineHeight});$(expandDiv).show();}});}
function initReseller(){var resellerRows=$('.reseller-row');if(resellerRows.length){var popup=createPopup();init();}
function init(){resellerRows.each(function(){var module820=$(this).find('.molecule-820'),primaryButton=$(this).find('a.button.primary');if(!primaryButton.parents('.molecule-hpi-501').length){primaryButton.wrap('<div class="molecule-hpi-501"/>');}
addClassResellerModule(module820);primaryButton.parents('.molecule-hpi-501').addClass('reseller-opener');});popup.on('click',function(e){var targetEl=$(e.target);if(!targetEl.hasClass('claim-popup')&&targetEl.parents('.claim-popup').length===0||targetEl.hasClass('close')){hidePopup();}})}
function addClassResellerModule(module820){module820.each(function(){$(this).parents('.molecule-hpi-800').eq(0).addClass('reseller-module');})}
function createPopup(){var wrapper=$('<div />',{class:'overlay-800-paired-501 extended reseller-wrapper'}),inner=$('<div />',{class:'claim-popup reseller-popup'}),closeBtn=$('<i />',{class:'close'}),popup;inner.append(closeBtn);wrapper.append(inner);$('body').append(wrapper);return wrapper;}
var resellerObj={};resellerRows.each(function(index,el){var resellerDataClassName=$.grep($(el).attr('class').split(/\s+/),function(v,i){return/reseller-data-\d/.test(v);}),additionalValues={triggers:[],contents:[],switcherModules:[]};if(resellerDataClassName.length){if(!resellerObj.hasOwnProperty(resellerDataClassName[0])){resellerObj[resellerDataClassName[0]]=additionalValues;}
addValues(resellerObj[resellerDataClassName[0]],$(el));}else{resellerObj['resellerRow-'+index]=additionalValues;addValues(resellerObj['resellerRow-'+index],$(el));}});function addValues(rowObj,resellerRow){var triggers=resellerRow.find('.reseller-opener'),contents=resellerRow.find('.reseller-module'),switcherModules=contents.find('.molecule-hpi-302');addElements(rowObj.triggers,triggers);addElements(rowObj.contents,contents);addElements(rowObj.switcherModules,switcherModules);}
function addElements(arr,elements){elements.each(function(i,el){arr.push(el);})}
Object.keys(resellerObj).forEach(function(key){var triggers=$(resellerObj[key].triggers),contents=$(resellerObj[key].contents),switcherModules=$(resellerObj[key].switcherModules);contents.each(function(){var additional820=$(this).find('>.row:first-child .molecule-820');if(additional820){var links=additional820.find('.logos > a'),tpl='<ul class="bottom-links images">';additional820.hide();links.each(function(){tpl+='<li>'+this.outerHTML+'</li>';});tpl+='</ul>';$(this).find('.molecule-hpi-302 .text-block').append(tpl);}});triggers.each(function(index,element){$(this).on('click','.button',function(e){e.preventDefault();showPopupWithContentIndex(contents.eq(index));});});switcherModules.on('click','.bottom-links a',function(e){var index=$(this).closest('li').index();e.preventDefault();e.stopImmediatePropagation();showPopupWithContentIndex(contents.eq(index),'noanimate');});switcherModules.find('.bottom-links a').each(function(){var el=$(this),content=el.html(),bgColor;if(!el.find('img').length&&content){el.closest('.bottom-links').addClass('circles');content=content.split('|');bgColor=$.trim(content[0]);bgColor&&el.css('background',bgColor);($.trim(content[1])=='active')&&el.addClass('active');}else{el.closest('.bottom-links').addClass('images');isActive=$.trim(el.attr('href').replace('#',''))=='active';isActive&&el.addClass('active')}});});function showPopupWithContentIndex(content,noanimate){popup.find('.claim-popup > *:not(.close)').remove();popup.find('.claim-popup').append(content.clone(true));if(!noanimate){popup.addClass('show-overlay');$('html').addClass('overlay-lightbox');}}
function hidePopup(){popup.addClass('hide-overlay').removeClass('show-overlay');setTimeout(function(){popup.removeClass('hide-overlay');},400);$('html').removeClass('overlay-lightbox');}}
function initMolecule800pairedWith5XXModules(){var molecule800Pair5XXSlider=$('.molecule-800.pair-501-slider, .molecule-hpi-800.pair-501-slider, .molecule-800.pair-510-slider, .molecule-hpi-800.pair-510-slider').filter(':odd');molecule800Pair5XXSlider.each(function(index,molecule800){var section=$(molecule800).parents('.section:first');initSection(section);});function initSection(section){var molecule5XX=section.find('.molecule-501, .molecule-hpi-501, .molecule-hpi-510, .molecule-hpi-tile'),molecule5XXButton=molecule5XX.find('.link-lists a, .content a'),molecule800WithSlider=section.find('.slider').parents('.pair-501-slider, .pair-510-slider'),pairClassName=$.grep(molecule800WithSlider.attr('class').split(/\s+/),function(v,i){return/pair-\d{3}-slider/.test(v);}),overlayClassNum=Number(pairClassName[0].split('-')[1]),popup=createPopup(molecule800WithSlider,overlayClassNum);initButtons5XXIndex(molecule5XXButton);initEvents(molecule5XX,molecule5XXButton,molecule800WithSlider,popup);checkExtendedModule(popup);}
function initButtons5XXIndex(molecule5XXButton){molecule5XXButton.each(function(index,link){$(link).attr('data-index',index);});}
function createPopup(molecule800,num5xx){var overlayClassName='overlay-800-paired-'+num5xx,wrapper=$('<div class="'+overlayClassName+'">'+'<div class="claim-popup"/>'+'</div>'),popup;molecule800.wrap(wrapper);$('<i class="close"></i>').insertBefore(molecule800);popup=molecule800.parents('.'+overlayClassName);$('body').append(popup);return popup;}
function initEvents(molecule500,button501,slider,popup){button501.on('click',function(e){openPopup($(this).attr('data-index'),slider,popup);});if(molecule500.hasClass('molecule-hpi-tile')||molecule500.hasClass('molecule-hpi-510')){molecule500.on('click',function(e){openPopup($(this).find('a').attr('data-index'),slider,popup);})}
popup.on('click',function(e){if(!$(e.target).hasClass('claim-popup')&&$(e.target).parents('.claim-popup').length===0||$(e.target).hasClass('close')){hideClaimPopup(popup);}})}
function openPopup(index,slider,popup){var slideIndex=Number(index);slider.trigger({type:'slideTo',frame:slideIndex});slider.trigger('resize');showClaimPopup(popup);}
function showClaimPopup(popup){popup.addClass('show-overlay');$('html').addClass('overlay-lightbox');}
function hideClaimPopup(popup){popup.addClass('hide-overlay').removeClass('show-overlay');setTimeout(function(){popup.removeClass('hide-overlay');},400);$('html').removeClass('overlay-lightbox');}
function checkExtendedModule(popup){popup.each(function(ind,elem){if($(elem).find('.molecule-999').length>0||$(elem).find('.overlay-video').length>0){$(elem).addClass('extended');}})}}
function initModules801(){$('.molecule-801').each(function(){$molecule801=$(this);$molecule801.find('.item-container').each(function(){$(this).children().removeClass('mtop-mol').removeClass('mbot-mol')});})}
function getParameterByName(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g," "));}
function getAllParamsFromUrl(){var urlParams;(window.onpopstate=function(){var match,pl=/\+/g,search=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s.replace(pl," "));},query=window.location.search.substring(1);urlParams={};while(match=search.exec(query))
urlParams[decode(match[1])]=decode(match[2]);})();return urlParams;}
function initModules802(){$('.molecule-802, .molecule-hpi-802').each(function(key,value){var $el=$(this),nav=$el.find('.tabs'),navWidth=0,currentLeft=0,movableArea,isTouchMove=false,isRtlPage=$('html').attr('dir')==='rtl',marginRight=getMarginRightValue(),minLeft=0,newLeft,resizeTimeout,items=[],elmsNotAdded=true;function getMarginRightValue(){var tabs=nav.find('.js_tab_trigger'),tabElem=isRtlPage?tabs.last():tabs.first();try{return tabElem.css('margin-right').slice(0,-2)*1;}catch(e){return 8;}}
var moleculeNumber=getParameterByName('m802');var tabnumber=parseInt(getParameterByName('tab'),10);if(parseInt(moleculeNumber,10)===key+1){if(!isTouchMove){var activeTab=$($(this).find('.js_tab_trigger')[tabnumber-1]);setTimeout(function(){var body=$("html, body");body.stop().animate({scrollTop:$el.offset().top},500,'swing',function(){});activeTab.trigger('click');},3*1000)}}
items=nav.find('.js_tab_trigger').not('.molecule-825 .js_tab_trigger');if(items.length<=6&&$('body.responsive').length==0){if(!isIE8){return;}else{if(items.length<=6){return;}}}
nav.find('.js_tab_trigger').not('.molecule-825 .js_tab_trigger').wrapAll('<div class="nav-slider"></div>');getNavItemsWidth();$el.find('.tabs-wrapper').addClass('ms-touch').append('<div class="slider-border"></div>');if($el.find('.js-tabs-content-wrapper').length==0){$el.find('.js_tab_content').wrapAll('<div class="js-tabs-content-wrapper"></div>');}
updateMovableArea();updateMinLeft();initListeners();nav.swipe({swipeStatus:function(event,phase,direction,distance,duration,fingers){newLeft=(direction=='left')?+currentLeft-(+distance):(+currentLeft)+(+distance);minLeft=parseInt(nav.width())-parseInt(navWidth);minLeft=(minLeft>0)?0:minLeft;if(phase=='move'&&direction=='left'||phase=='move'&&direction=='right'){if(minLeft<=newLeft&&newLeft<=0){movableArea.css('left',newLeft);}
if(minLeft>newLeft){movableArea.css('left',minLeft);}
if(newLeft>0){movableArea.css('left',0);}}
if(phase=='cancel'||phase=='end'){currentLeft=(newLeft<minLeft)?minLeft:(newLeft>0)?0:newLeft;if(isTouchMove){setTimeout(function(){$(window).trigger('enableTabClick');isTouchMove=false;},50);adjustCenterItem(currentLeft,direction);}}
if(phase=='move'&&!isTouchMove&&newLeft!=currentLeft){isTouchMove=true;$(window).trigger('disableTabClick');}},excludedElements:''});function getNavItemsWidth(){navWidth=0;nav.find('.js_tab_trigger').not('.molecule-825 .js_tab_trigger').each(function(){navWidth+=(Math.ceil($(this).outerWidth()+1)+marginRight);});navWidth=navWidth-marginRight;}
function updateMovableArea(){movableArea=nav.find('.nav-slider');var lastChild;if(isRtlPage){lastChild=movableArea.find('>a:first-child');}else{lastChild=movableArea.find('>a:last-child');}
lastChild.css('margin-right',0);movableArea.width(navWidth);if(elmsNotAdded){addControlElms();elmsNotAdded=false;}}
function addControlElms(){movableArea.append(nav.parent().find('.slider'));movableArea.parent().parent().append('<div class="nav-arrow prev"></div><div class="nav-arrow next"></div>');movableArea.after('<div class="span24"><div class="nav-ruler"></div></div>');}
function adjustCenterItem(left,direction){var navWidth=nav.width(),navCenter=Math.round(navWidth/2),closestCenterDistance=getClosestDistance(navCenter,left);closestCenterDistance=(direction==='left')?setPositiveDistanceValue(closestCenterDistance):setNegativeDistanceValue(closestCenterDistance);currentLeft=left+closestCenterDistance;currentLeft=(currentLeft<minLeft+5)?minLeft:(currentLeft>-5)?0:currentLeft;movableArea.animate({"left":currentLeft},150);updateArrows(400);}
function getClosestDistance(navCenter,left){var closestCenterDistance;movableArea.find('>a').each(function(i){var currentItemCenterDistance=navCenter-($(this).position().left+$(this).outerWidth()/2+left);if(closestCenterDistance!==undefined){if(Math.abs(currentItemCenterDistance)<Math.abs(closestCenterDistance)){closestCenterDistance=currentItemCenterDistance;}}else{closestCenterDistance=currentItemCenterDistance;}});return closestCenterDistance;}
function setNegativeDistanceValue(value){if(value>0){return-value;}else{return value;}}
function setPositiveDistanceValue(value){return Math.abs(value);}
function updateArrows(duration){if(currentLeft==minLeft){$el.find('.next').fadeOut();nav.addClass('no-right-slide');}else{nav.removeClass('no-right-slide');$el.find('.next').fadeIn();}
if(currentLeft==0){$el.find('.prev').fadeOut();nav.addClass('no-left-slide');nav.parent('.row').removeClass('left-slide');}else{$el.find('.prev').fadeIn();nav.removeClass('no-left-slide');nav.parent('.row').addClass('left-slide');}
var items=nav.find('.js_tab_trigger');if(!nav.hasClass('no-right-slide')&&items.length>6){nav.parent('.row').addClass('moreSix');}}
function initListeners(){$el.find('.nav-arrow').on('click',function(){updateMinLeft();$(this).hasClass('prev')?slidePrev():slideNext()});$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){var currentItem=nav.find('.js_tab_trigger.current'),currentItemCenter=currentItem.position().left+currentItem.outerWidth()/2;updateMinLeft();centerActiveItem(currentItemCenter);},200);});nav.find('.js_tab_trigger').on('click',function(){if(!isTouchMove){var activeItemCenter=$(this).position().left+$(this).outerWidth()/2;centerActiveItem(activeItemCenter);var params=getAllParamsFromUrl();params['m802']=key+1;params['tab']=$(this).index()+1;var newUrl=location.protocol+'//'+location.host+location.pathname+'?'+$.param(params)+location.hash;history.pushState({},null,newUrl);}});updateArrows(400);}
function centerActiveItem(centerPosLeft){var navCenter=Math.round(nav.width()/2),dx=navCenter-(currentLeft+centerPosLeft);currentLeft=(dx+currentLeft<=minLeft)?minLeft:(dx+currentLeft>=0)?0:dx+currentLeft;movableArea.animate({"left":currentLeft},150);updateArrows(400);}
function updateMinLeft(){minLeft=nav.outerWidth()-navWidth;minLeft=(minLeft<=0)?minLeft:0;}
function slideNext(){adjustCenterItem(currentLeft-100,'right');}
function slidePrev(){adjustCenterItem(currentLeft+100,'left');}
function updateMarginRightValue(){marginRight=getMarginRightValue();}
$(window).load(function(){updateMarginRightValue();getNavItemsWidth();updateMovableArea();updateMinLeft();})});}
function initMolecule802pairedWith501(){var selectors501='.molecule-501.pair-501-802, .molecule-hpi-501.pair-501-802',selectors802='.molecule-802.pair-501-802, .molecule-hpi-802.pair-501-802',all501s=$(selectors501);if(all501s.length){$('.section').each(function(){$(this).find(selectors501).first().addClass('active');})
all501s.on('click',function(){if(!$('.trigger-800').is(':visible')){var scope501s=$(this).parents('.section').find(selectors501),target802=$(this).parents('.section').find(selectors802),index=scope501s.index($(this));if(target802.length){scope501s.removeClass('active');$(this).addClass('active');target802.find('.nav-slider>a').eq(index).click();}}})}}
function initMolecule920(){var module920=$('.molecule-920');if(module920.length>0){module920.each(function(){$('.item',$(this)).each(function(){var hasTitle=!!$('.spec_group .spec_group_title span',$(this)).length,title=$('.spec_group_title',$(this)),contentText=title.html()||'',description=$('.spec_group dd',$(this)),descriptionText=description.html()||'';if(hasTitle){title.html(contentText.replace(/&nbsp;/g,''));}
description.html(descriptionText.replace(/&nbsp;/g,''));$('.spec_group',$(this)).addClass(hasTitle?'with-title':'no-title');})});$('.spec_group.with-title .spec_group_title').on('click',function(){var itemWrapper=$(this).parent(),dd=$(this).parent().find('dd');if(dd.is(':visible')){dd.slideUp();itemWrapper.removeClass('expanded');}else{dd.slideDown();itemWrapper.addClass('expanded');}});}}
function initMoleculeHpi920(){var moduleHpi920=$('.molecule-hpi-920');if(moduleHpi920.length){moduleHpi920.each(function(){var molecule920=$(this),allRows=$('.item',$(this)),expandBtnText=$(this).find('.labels .expand').text()||'View all specifications',collapseBtnText=$(this).find('.labels .collapse').text()||'View less',collapsibleRows=allRows.slice(1);if(collapsibleRows.length&&!molecule920.hasClass('920-show-all')){var drop;collapsibleRows.wrapAll('<div class="drop"></div>');drop=collapsibleRows.eq(0).parent();drop.after('<div class="btn-wrapper"><a href="javascript: void(0);" class="show-more-arrow">'+expandBtnText+'</a></div>');$('.btn-wrapper > a',$(this)).on('click',function(){var self=this;var v=0;var bd=$(window);if(drop.is(':visible')){molecule920.trigger('slide-up');drop.slideUp({easing:"linear",step:function(now,tween){if(tween.prop=="height"){if(v==0){v=now;}else{var k=v-now;bd.scrollTop(bd.scrollTop()-k);v=now-0.5;}}},duration:400,complete:function(){$(self).removeClass('expanded').text(expandBtnText);}});}else{molecule920.trigger('slide-down');drop.slideDown(400,function(){$(self).addClass('expanded').text(collapseBtnText);});}})}
allRows.each(function(){var hasTitle=!!$('.spec_group .spec_group_title span',$(this)).length,title=$('.spec_group_title',$(this)),contentText=title.html()||'',description=$('.spec_group dd',$(this)),descriptionText=description.html()||'';title.html(contentText.replace(/&nbsp;/g,''));description.html(descriptionText.replace(/&nbsp;/g,''));$('.spec_group',$(this)).addClass(hasTitle?'with-title':'no-title');var specItemsParent=$('.spec_group > dd',$(this)),collapsibleSpecItems=specItemsParent.find('dl:nth-child(n+4)');if(collapsibleSpecItems.length){var specWrap;collapsibleSpecItems.wrapAll('<div class="spec-wrap"></div>');specWrap=collapsibleSpecItems.eq(0).parent();molecule920.on('slide-up',function(){specWrap.slideUp(400);});molecule920.on('slide-down',function(){specWrap.slideDown(400);});}})});}}
function initMolecule925(){var wrapper='.js_flex2_dynamic_search_module_results',content='.molecule-925 .content-wrapper',header='.molecule-925 .font-h2',tagline='.molecule-925 .description:first-of-type',description='.molecule-925 .description:last-of-type';new HP.oneHeightModulesInOneRow(wrapper,content,true,true);new HP.oneHeightModulesInOneRow(wrapper,header,true,true);new HP.oneHeightModulesInOneRow(wrapper,tagline,true,true);new HP.oneHeightModulesInOneRow(wrapper,description,true,true);}
function initMoleculeHpi925(){$('.molecule-hpi-925').each(function(){if($(this).hasClass('image-right')){$(this).find('.image-holder, .content-wrapper').wrapAll('<div class="row"><div class="span24"></div></div>');$(this).closest('.row').after($(this));}
var $moduleImg=$(this).find('.image-holder img');var $link=$(this).find('.button, .bottom-link').eq(0);if($moduleImg.length&&$link.length){$moduleImg.on('click',function(){window.open($link.attr('href'),$link.attr('target')||'_self');});}})}
function initMolecule811and825(options){$(options.moduleSelector).each(function(){var $molecule=$(this),$overlay=$(options.overlaySelector,$molecule),swipeArea=$('.js_tabs',$molecule),firstTrigger=$('.js_tab_trigger:first',$molecule),lastTrigger=$('.js_tab_trigger:last',$molecule),$triggers=$('.js_tab_trigger',$molecule),$tabContent=$overlay.find('.js_tabs .js_tab_content'),$nav=$overlay.find('.tabs'),$slider=$nav.find(options.sliderSelector),dottsHtml="",resizeTimeout,identifier=$molecule.attr('data-metrics-identifier');$overlay.addClass('video-overlay-gallery').attr('data-metrics-identifier',identifier).addClass('flex2-molecule');var prevArrow=$('<div class="arrows arrow-left"></div>').data('index','-1');var nextArrow=$('<div class="arrows arrow-right"></div>').data('index','+1');$nav.prepend(prevArrow);$nav.append(nextArrow);$tabContent.each(function(index,el){var videoContainer=$(this).find('.video-container');$(this).prepend(videoContainer);dottsHtml+=createDotts(el);});$triggers.each(function(index,el){$(el).data('index',index);});$overlay.append('<div class="dotts-wrapper"></div>');var dottsContainer=$overlay.find('.dotts-wrapper');$(dottsContainer).append(dottsHtml);var dotts=dottsContainer.find('a');dotts.eq(0).addClass('active');dotts.each(function(index,el){$(el).data('index',index);});calculateWidth();initListeners();positionDotts();arrowsVisibility();function initListeners(){$triggers.on('click',function(e){_updateDotts($(e.currentTarget).data('index'));});dotts.on('click',function(e){var index=$(e.currentTarget).data('index');_updateDotts(index);$triggers.eq(index).click();});swipeArea.addClass('ie-fix').swipe({swipe:function(event,direction,distance,duration,fingerCount,fingerData){move(direction);},allowPageScroll:"vertical",excludedElements:'',threshold:30});$('.arrows',$molecule).on('click',function(){var itemWidth,countItemsPerScreen,leftOffset,oneStepWidth,numberScreensSwipes,maxLeft,items,direction;switch($(this).data('index')){case'-1':direction=-1;break;case'+1':direction=1;break;}
leftOffset=parseInt($slider.css('left'));leftOffset=isNaN(leftOffset)?0:leftOffset;items=$slider.find('> a').length;itemWidth=$slider.find('> a').eq(0).outerWidth(true);countItemsPerScreen=_calculateStepsCount(itemWidth,$nav.width());numberScreensSwipes=Math.round(items/countItemsPerScreen)-1;maxLeft=-(numberScreensSwipes*countItemsPerScreen*itemWidth);if((direction<0&&leftOffset===0)||(direction>0&&leftOffset===maxLeft)){return;}
oneStepWidth=countItemsPerScreen*direction*itemWidth;leftOffset=leftOffset-oneStepWidth;if(leftOffset<maxLeft){leftOffset=maxLeft;}else if(leftOffset>0){leftOffset=0;}
$slider.css('left',leftOffset);});}
function positionDotts(){var tabContent=$overlay.find('.js_tabs .js_tab_content.shown')||$tabContent.eq(0),activeVideo=$overlay.find('.js_tabs .js_tab_content.shown').find(options.contentContainerSelector).eq(0)||$tabContent.find(options.contentContainerSelector).eq(0),position=0,topDifference,dottsRect,imageRect,popupRect;var BOTTOM_MARGIN=10;if($tabContent[0]&&activeVideo[0]){var tabRect=$tabContent[0].getBoundingClientRect();var videoRect=activeVideo[0].getBoundingClientRect();popupRect=$overlay[0].getBoundingClientRect();topDifference=videoRect.top-popupRect.top;position+=topDifference+videoRect.height;position+=BOTTOM_MARGIN;dottsContainer.css('top',position);}}
function _updateDotts(index){dotts.removeClass('active');dotts.eq(index).addClass('active');}
function _calculateStepsCount(stepWidth,viewportWidth){return Math.floor(viewportWidth/stepWidth);}
function move(direction){if(direction=='right'||direction=='left'){var currentTabTrigger=$('.js_tab_trigger.current',swipeArea);if(direction=='right'){if(currentTabTrigger.prev().length>0){currentTabTrigger.prev().click();}else{lastTrigger.click();}}else{if(currentTabTrigger.next().length>0){currentTabTrigger.next().click();}else{firstTrigger.click();}}}}
function calculateWidth(){var width=0;for(var i=0;i<$triggers.length;i++){width+=$($triggers[i]).outerWidth(true);}
$slider.css('width',width+"px");}
function arrowsVisibility(){var arrows=$nav.find('.arrows');if($nav.width()>=$slider.width()){arrows.hide();$nav.addClass('no-arrows');}else{arrows.show();}}
function createDotts(data){return['<a href="javascript:void(0)"></a>'].join('');}
$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){if(!$overlay.is(':visible')){return;}
calculateWidth();arrowsVisibility();positionDotts();},200);});});}
function initModule831and926(){$('.molecule-926, .molecule-831').each(function(){var swipeArea=$(this);swipeArea.swipe({swipe:function(event,direction,distance,duration,fingerCount,fingerData){if(direction=="right"||direction=="left"){if(direction=='right'){$('.prev',swipeArea).click();}else{$('.next',swipeArea).click();}}},allowPageScroll:"vertical",threshhold:30,excludedElements:''});});}
function initMoleculeHpi929(){$('.molecule-hpi-929').each(function(){var $moduleImg=$(this).find('img');var $link=$(this).find('.button, .bottom-link').eq(0);if($moduleImg.length&&$link.length){$moduleImg.on('click',function(){window.open($link.attr('href'),$link.attr('target')||'_self');});}})}
function initSuppressInlineStyles(){var items=$("[style^='font-size']:not(.disable-style-suppress), [style*=' font-size']:not(.disable-style-suppress), [style*='font-size']:not(.disable-style-suppress)"),resizeTimeout;items.addClass('font-size-overwritten').each(function(){$(this).attr('data-style',$(this).attr('style'));})
$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){handleStyles();},200)})
handleStyles();function handleStyles(){var width=$('body').width();if(width<800){$('.font-size-overwritten').each(function(){$(this).attr('style','');})}else{$('.font-size-overwritten').each(function(){$(this).attr('style',$(this).data('style'));})}}}
function initMolecule804(){$('.molecule-804,.molecule-hpi-804').each(function(){var module=$(this),firstShowDuration=$(this).attr('data-hide-duration');if(firstShowDuration&&$(window).width()>1024){if(HP.Utils.cookie.isEnabled()){if(!HP.Utils.cookie.get('megaNavInited')){module.addClass('preshown');setTimeout(function(){module.removeClass('preshown');HP.Utils.cookie.set('megaNavInited',true)},firstShowDuration)}}}})}
function initMolecule970(){var molecule970=window.molecule970={};$molecule970=$('.molecule-970')
$molecule970.closest('.row').addClass('full-row');molecule970.positionAlignment970Module=function(){$('.molecule-970').each(function(index,el){var section=$(this).parent().parent().parent();var showWrap=section.hasClass('prevent-mobile-wrap')?false:true
var windowWidth=$(window).innerWidth()+(isIE===true?0:17);if(windowWidth<=800){$(this).css('margin-top','');}
else{molecule970.DoAlign970Module($(this));}});}
molecule970.getThemeClassName=function(el){var array1=el.attr('class').split(' ');var found=false;var matchedClass='';$.each(array1,function(i,val){if(val.indexOf('font-color-theme')>=0){found=true;matchedClass=val;return false;}});return{match:found,classname:matchedClass};};molecule970.wrappingImmersivePanelMobileText=function(){var windowWidth=$(window).width();if(windowWidth<=800){$('.molecule-970').each(function(index,el){var section=$(this).parent().parent().parent();var showWrap=section.hasClass('prevent-mobile-wrap')?false:true
var rowElement=$(this).parent().parent();var rowStyle=$(rowElement).css('background');if($(rowElement).hasClass('tablet-background')){$(rowElement).removeClass('tablet-background');}
$(rowElement).css('height','auto');$(section).css('min-height','');$(section).css('height','auto');});}
else{$('.molecule-970').each(function(index,el){var section=$(this).parent().parent().parent();var showWrap=section.hasClass('prevent-mobile-wrap')?false:true
var rowElement=$(this).parent().parent();if(showWrap==true){var url=$(section).attr('data-primary-background');if($(rowElement).attr("default-style")){$(rowElement).css('background',$(rowElement).attr("default-style"));$(rowElement).removeAttr('default-style');}
if(windowWidth<=800){$(rowElement).addClass('tablet-background');if(!$(rowElement).hasClass('parallax-tracking')){$(rowElement).css('height','auto');$(section).css('height','auto');}}
if($(section).hasClass('mobile-wrap-center-aligned')){$(section).removeClass('mobile-wrap-center-aligned');}
if($(this).find('.stacked-background').length>0){$(this).find('.stacked-background').remove();}
if($(this).hasClass('mobile-center-align')){$(this).removeClass('mobile-center-align');}
if($(this).find('.textContent').hasClass('center-aligned')){$(this).find('.textContent').removeClass('center-aligned');}
if($(section).attr("theme-color")){var section_theme_name=$(section).attr('theme-color');$(section).addClass(section_theme_name);$(section).removeAttr("theme-color");}
if($(this).attr("theme-color")){var molecule_theme_name=$(this).attr('theme-color');$(this).addClass(molecule_theme_name);$(this).removeAttr("theme-color")}}
if(windowWidth>800){if($(rowElement).hasClass('tablet-background')){$(rowElement).removeClass('tablet-background');}
$(rowElement).css('height','770px');$(section).css('height','770px');}
if(windowWidth<=800){if($(rowElement).hasClass('parallax-tracking')){$(rowElement).addClass('tablet-background');$(rowElement).css('height','auto');$(section).css('height','auto');if(Parallax.parallaxEnabled){Parallax.adjustParallaxElements();}}
else if(!$(rowElement).hasClass('parallax-tracking')){$(rowElement).addClass('tablet-background');$(rowElement).css('height','auto');$(section).css('height','auto');if(Parallax.parallaxEnabled){Parallax.adjustParallaxElements();}}}});}
molecule970.positionAlignment970Module();};molecule970.validateClassPresence=function(el,className){var found=false;$.each(className,function(i,val){if(el.hasClass(val)){found=true;return false;}});return{match:found};};molecule970.DoAlign970Module=function(e){var module=e;var rowElement=module.parent().parent();var rowHeight=rowElement.outerHeight();var moleculeHeight=module.outerHeight();var middleCalculatedHeight=(rowHeight-moleculeHeight)/2;var lowerCalculatedHeight=rowHeight-moleculeHeight;var horizontalClass=['text-right','text-left','text-center'];var verticalClass=['content-vertical-top','content-vertical-middle','content-vertical-bottom'];var defaultHorizontalClass=molecule970.validateClassPresence(module,horizontalClass);var defaultVerticalClass=molecule970.validateClassPresence(module,verticalClass);if(defaultHorizontalClass.match==false){module.addClass('text-left');}
if(defaultVerticalClass.match==false){module.addClass('content-vertical-top');}
var windowWidth=$(window).width();if(module.hasClass('content-vertical-middle')){module.css('margin-top','');module.css('margin-top',parseInt(middleCalculatedHeight)+'px');}
else if(module.hasClass('content-vertical-top')){module.css('margin-top','');module.css('margin-top','40px');}
else if(module.hasClass('content-vertical-bottom')){if(windowWidth>800){module.css('margin-bottom','');module.css('margin-top','');module.css('margin-top',(lowerCalculatedHeight-15)+'px');}
if(windowWidth<=800){module.css('margin-top','');module.css('margin-bottom','');var moduleHeight=module.outerHeight();var parentHeight=module.parent().parent().outerHeight();var diffHeight=parentHeight-moduleHeight;module.css('margin-top',parseInt(diffHeight)+'px');module.css('margin-bottom','15px');}}}
molecule970.wrappingImmersivePanelMobileText();molecule970.positionAlignment970Module();$(window).on('resize',function(){molecule970.wrappingImmersivePanelMobileText();molecule970.positionAlignment970Module();});}
function initMolecule971(molecule){$molecule971=$(molecule);$molecule971.closest('.row').addClass('full-row');$molecule971.removeClass('mtop-mol');$('.immersive-video-background').next().css({position:'absolute',width:'100%'});setTimeout(function(){var link=$molecule971.find('a.js_overlay_trigger');link.off();link.click(function(event){event.preventDefault();var rel=$(this).attr('rel');var url=$(this).attr('href');var videoId;var brightcoveObject;if(rel&&rel!=null&&rel!=''&&rel!='|'){videoId=$('#'+rel).find('[data-id]').attr('data-id')||'';brightcoveObject=$('#'+rel).find('object, iframe')||'';}
if($(window).width()<=800){var videoHeroClone=$('#video-hero').clone();videoHeroClone.attr('id','mobile-video-hero');videoHeroClone.find('.close').css('top','0px');var $bkgHelper=$(this).closest('.section').parent().find('.bkg-helper');var imageHeight=$bkgHelper.find('img').height();$bkgHelper.append(videoHeroClone);$('#mobile-video-hero').height(imageHeight);$bkgHelper.find('img').hide();$('#mobile-video-hero .close').click(function(event){event.preventDefault();$('#mobile-video-hero iframe').remove();$('#mobile-video-hero object').remove();$('#mobile-video-hero').remove();$bkgHelper.find('img').show();});if(videoId&&videoId!=''&&videoId.length>=11){$('#mobile-video-hero').append('<iframe width="100%" height="100" class="sixteen-nine" src="https://www.youtube.com/embed/'+videoId+'?autoplay=1&amp;modestbranding=1&amp;showinfo=0&amp;color=white&amp;rel=0&amp;wmode=transparent&amp;loop=1&amp;origin=http://www.hp.com&amp;enablejsapi=1" data-autoplay-src="https://www.youtube.com/embed/_pxhz8HQIf8?autoplay=1&amp;modestbranding=1&amp;showinfo=0&amp;color=white&amp;rel=0&amp;wmode=transparent&amp;loop=1&amp;origin=http://www.hp.com&amp;enablejsapi=1" frameborder="0" allowfullscreen="" style="height: 100%;" id="YTVideo__pxhz8HQIf8"></iframe>');$('#mobile-video-hero').show();}else if(brightcoveObject&&brightcoveObject.length>0){var html=brightcoveObject.get(0).outerHTML;html=html.replace('autoStart=&','autoStart=true&');$('#mobile-video-hero').append(html);$('#mobile-video-hero').show();}else if(url){window.open(url,'_self');}}else{if(videoId&&videoId!=''&&videoId.length>=11){$molecule971.find('#video-hero').append('<iframe width="100%" height="100%" class="sixteen-nine" src="https://www.youtube.com/embed/'+videoId+'?autoplay=1&amp;modestbranding=1&amp;showinfo=0&amp;color=white&amp;rel=0&amp;wmode=transparent&amp;loop=1&amp;origin=http://www.hp.com&amp;enablejsapi=1" data-autoplay-src="https://www.youtube.com/embed/_pxhz8HQIf8?autoplay=1&amp;modestbranding=1&amp;showinfo=0&amp;color=white&amp;rel=0&amp;wmode=transparent&amp;loop=1&amp;origin=http://www.hp.com&amp;enablejsapi=1" frameborder="0" allowfullscreen="" style="height: 100%;" id="YTVideo__pxhz8HQIf8"></iframe>');$molecule971.find('#video-hero').show();}else if(brightcoveObject&&brightcoveObject.length>0){var html=brightcoveObject.get(0).outerHTML;html=html.replace('autoStart=&','autoStart=true&');$molecule971.find('#video-hero').append(html);$molecule971.find('#video-hero').show();}else if(url){window.open(url,'_self');}}});$molecule971.find('#video-hero .close').click(function(event){event.preventDefault();$molecule971.find('#video-hero iframe').remove();$molecule971.find('#video-hero object').remove();$molecule971.find('#video-hero').hide();});},1);}
function initMolecule975(){var molecule975={adjustMolecule975ImagePosition:function(){var middleHeight;if(window.innerWidth<800){$('.row').each(function(){middleHeight='';if($(this).find('.molecule-975').length>0){var el=$(this).find('.molecule-975');middleHeight=el.find('.text-block').outerHeight()+el.find('.image-holder').outerHeight();if(el.hasClass('image-right')&&(el.hasClass('image-on-top')==false)){el.addClass('image-on-top');}
if(el.hasClass('image-on-top')==true){el.find('.middle-aligned-cells').css('height',middleHeight);}}});}
else{$('.row').each(function(){if($(this).find('.molecule-975').length>0){var el=$(this).find('.molecule-975');if(el.hasClass('image-right')&&(el.hasClass('image-on-top')==true)){el.removeClass('image-on-top');}
$(this).find('.molecule-975 .middle-aligned-cells').css('height','');}});}},FullWidthMolecule:function(){$('.molecule-975 .image-holder').each(function()
{if($(this).children().length==0){$(this).parent().parent().parent().addClass("molecule975-no-image");}});},positionImageItems:function(){var resizeTimer;var windowWidth;function resizeFunction(){$('.molecule-975 .items-holder .item').each(function(){var item=$(this),isLeftImage=item.parents('.molecule-975.image-left').length,isRightImage=item.parents('.molecule-975.image-right').length,isImageHolderFirst=item.parents('.image-holder.first').length,leftDelta=$(window).width()+(isIE===true?0:17)-1920,topPosition=item.attr('data-position').split(',')[1],leftPosition=item.attr('data-position').split(',')[0],width=item.attr('data-width'),leftOffset=item.parent().offset().left,topOffset=62,holderOffset=0,step=2;if(molecule975.getBrowserType()=="F")
{windowWidth=$("body").outerWidth();}
if(molecule975.getBrowserType()=="IE")
{windowWidth=$("body").outerWidth();}
if(molecule975.getBrowserType()=="9")
{windowWidth=$("body").outerWidth()+17;}
if(molecule975.getBrowserType()=="C")
{windowWidth=$(window).width()+(isIE===true?0:17)}
if(isImageHolderFirst){if(isRightImage){leftDelta=leftDelta+15;topOffset=485;if(windowWidth<=1431&&windowWidth>=1281){}
if(windowWidth<=1280){leftDelta=leftDelta+15;if(item.find('img').length>0){topOffset=410;leftDelta=leftDelta-100;width=width/2;}}}else{topOffset=485;if(windowWidth<=1431&&windowWidth>=1281){leftDelta=-490;}
if(windowWidth<=1280){leftDelta=leftDelta+450;if(item.find('img').length>0){topOffset=410;leftDelta=leftDelta-270;width=width/2;}}}}else{if(windowWidth<=1431){leftDelta=-489;}
if(windowWidth<=1280){topOffset=120;leftDelta=0;leftOffset=960;if(item.find('img').length>0){topOffset=-3;leftOffset=890;width=width/1.5;}
if(windowWidth<=800){leftOffset=1010;if(item.find('img').length>0){leftOffset=910;width=width/1.5;}}}}
if(item.parents(".image-holder").hasClass("first"))
{item.css('top',(parseInt(topPosition)-topOffset)+'px');}
else
{item.css('top',(parseInt(topPosition)-topOffset-30)+'px');}
item.css('left',(parseInt(leftPosition)+(leftDelta/step)-leftOffset)+'px');item.css('width',(parseInt(width))+'px');holderOffset=$(this).offset().top-$(this).parent().offset().top;if(holderOffset>0){$(this).parent().css('height',(holderOffset+$(this).height())+'px');}
if($(item).width()+$(item).offset().left+17>=windowWidth){item.css('left',((parseInt(leftPosition)+(leftDelta/step)-leftOffset)-(20+$(item).width()+$(item).offset().left-windowWidth))+'px');}});};$(window).resize(function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(resizeFunction,250);});resizeFunction();},getBrowserType:function(){var isOpera=!!window.opera||navigator.userAgent.indexOf(' OPR/')>=0;var isFirefox=typeof InstallTrigger!=='undefined';var isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor')>0;var isChrome=!!window.chrome&&!isOpera;var isIE=false||!!document.documentMode;var IEver;var browserVer;function getIEVersion()
{var match=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return match?parseInt(match[1]):undefined;}
IEver=getIEVersion();browserVer=(isOpera?'O':isFirefox?'F':isSafari?'S':isChrome?'C':isIE?'IE':'');if(getIEVersion()=="9")
{return IEver;}
else
{return browserVer;}},}
molecule975.adjustMolecule975ImagePosition();molecule975.FullWidthMolecule();molecule975.positionImageItems();$(window).on('resize',function(){molecule975.adjustMolecule975ImagePosition();});}
function isMobileDevice(){return((/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))?true:false);}
function initMolecule976(){var resizeTimeout;$('.molecule-976').each(function(){var el=$(this);el.parent().addClass("gallery-fullwidth");el.parent().append(el.clone().addClass("gallery976-mobile").removeClass("molecule-976"));});function tabletViewMode(){if(isMobileDevice()){$('.gallery976-mobile').each(function(){$(this).parent().addClass('tablet-view');});}else{$('.tablet-view').removeClass('tablet-view');}}
function mobileScrollPosition(){$(".gallery976-mobile").each(function(){var elScroll=$(this).find(".gallery-viewer")[0].scrollWidth;var elWidth=$(this).width();$(this).find(".gallery-viewer").scrollLeft((elScroll-elWidth)/2);});}
mobileScrollPosition();tabletViewMode();$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){mobileScrollPosition();tabletViewMode();},200)});}
function getUrlWithoutParams(string){return string.split(/(\?|#).*/)[0];}
function initMoleculeHpi837(){var iScrollPos=0;$('.molecule-hpi-837').each(function(){var $molecule=$(this),$moleculeRowCopy;$(this).closest('.row').addClass('full-row').addClass('position-relative');var windowURL=getUrlWithoutParams(document.URL);$molecule.find('a').each(function(){var thisURL=getUrlWithoutParams($(this).context.href);console.log(thisURL);if(windowURL==thisURL){$(this).addClass('active');}});if(!$molecule.hasClass('no-sticky')){$moleculeRowCopy=$molecule.closest('.row').clone().addClass('sticky');$moleculeRowCopy.insertAfter($molecule.closest('.row'));$(window).on('scroll',function(){var iCurScrollPos=$(this).scrollTop();if($(window).scrollTop()>$molecule.height()+$('#header').height()){if(iCurScrollPos>iScrollPos){$moleculeRowCopy.removeClass('show');}else{$moleculeRowCopy.addClass('show');}}else{$moleculeRowCopy.removeClass('show');}
iScrollPos=iCurScrollPos;});}
addSwipeFunctionality($molecule.find('.right'));if($moleculeRowCopy){addSwipeFunctionality($moleculeRowCopy.find('.right'));}
function addSwipeFunctionality(nav){var linkWrapper,swipeWrapper,isTouchMove=false,maxIconCount=5,mobileWindowSize=600,navWidth=0,currentLeft=0,minLeft=0,newLeft,resizeTimeout,marginRight=calculateMarginRight();nav.wrap('<div class="swipe-wrapper"></div>').addClass('ms-touch');nav.children('a').wrapAll('<div class="link-wrapper"></div>').each(function(){if(maxIconCount>0){navWidth+=(Math.floor($(this).outerWidth()+1)+marginRight);maxIconCount--;}});navWidth=navWidth-marginRight;configureWrappers();updateMinLeft();initListeners();nav.swipe({swipeStatus:function(event,phase,direction,distance,duration,fingers){newLeft=(direction=='left')?+currentLeft-(+distance):(+currentLeft)+(+distance);minLeft=parseInt(nav.width())-parseInt(navWidth);minLeft=(minLeft>0)?0:minLeft;if(phase=='move'&&direction=='left'||phase=='move'&&direction=='right'){if(minLeft<=newLeft&&newLeft<=0){linkWrapper.css('left',newLeft);}
if(minLeft>newLeft){linkWrapper.css('left',minLeft);}
if(newLeft>0){linkWrapper.css('left',0);}
hideArrows();}
if(phase=='cancel'||phase=='end'){currentLeft=(newLeft<minLeft)?minLeft:(newLeft>0)?0:newLeft;if(isTouchMove){window.setTimeout(function(){$(window).trigger('enableTabClick');isTouchMove=false;},50);adjustCenterItem(currentLeft);}}
if(phase=='move'&&!isTouchMove&&newLeft!=currentLeft){isTouchMove=true;$(window).trigger('disableTabClick');}},excludedElements:''});function configureWrappers(){linkWrapper=nav.find('.link-wrapper');swipeWrapper=nav.parents('.swipe-wrapper');linkWrapper.find('>a:last-child').css('margin-right',0);swipeWrapper.append('<div class="nav-arrow prev"></div><div class="nav-arrow next"></div>');if(getWindowWidth()<=mobileWindowSize){linkWrapper.width(navWidth);}}
function adjustCenterItem(left){var navWidth=nav.width(),navCenter=Math.round(nav.width()/2),firstItem=linkWrapper.find('>a:first'),closestCenterDistance=navCenter-(firstItem.position().left+firstItem.outerWidth()/2+left);linkWrapper.find('>a:not(:first)').each(function(i){var currentItemCenterDistance=navCenter-($(this).position().left+$(this).outerWidth()/2+left);if(Math.abs(currentItemCenterDistance)<Math.abs(closestCenterDistance)){closestCenterDistance=currentItemCenterDistance;}});currentLeft=(minLeft>=left)?minLeft:(left>=0)?0:(left+closestCenterDistance);currentLeft=(currentLeft<minLeft+5)?minLeft:(currentLeft>-5)?0:currentLeft;linkWrapper.animate({"left":currentLeft},150);updateArrows();}
function initListeners(){swipeWrapper.find('.nav-arrow').on('click',function(){updateMinLeft();$(this).hasClass('prev')?slidePrev():slideNext();});$(window).on('resize',function(){window.clearTimeout(resizeTimeout);resizeTimeout=window.setTimeout(function(){updateMinLeft();updateArrows();updateNavWidth();},200);});nav.find('a').on('click',function(){if(!isTouchMove){var activeItemCenter=$(this).position().left+$(this).outerWidth()/2;centerActiveItem(activeItemCenter);}});updateArrows();}
function updateArrows(){if(currentLeft==minLeft){swipeWrapper.find('.next').fadeOut();swipeWrapper.addClass('no-right-slide');}else{swipeWrapper.removeClass('no-right-slide');swipeWrapper.find('.next').fadeIn();}
if(currentLeft==0){swipeWrapper.find('.prev').fadeOut();swipeWrapper.addClass('no-left-slide');swipeWrapper.removeClass('left-slide');}else{swipeWrapper.find('.prev').fadeIn();swipeWrapper.removeClass('no-left-slide');swipeWrapper.addClass('left-slide');}}
function centerActiveItem(centerPosLeft){var navCenter=Math.round(nav.width()/2),dx=navCenter-(currentLeft+centerPosLeft);currentLeft=(dx+currentLeft<=minLeft)?minLeft:(dx+currentLeft>=0)?0:dx+currentLeft;linkWrapper.animate({"left":currentLeft},150);updateArrows();}
function updateMinLeft(){if(getWindowWidth()<=mobileWindowSize){minLeft=nav.outerWidth()-navWidth;minLeft=(minLeft<=0)?minLeft:0;}else{minLeft=0;}}
function updateNavWidth(){if(getWindowWidth()<=mobileWindowSize){marginRight=calculateMarginRight();navWidth=0;maxIconCount=5;linkWrapper.children('a').each(function(){if(maxIconCount>0){navWidth+=(Math.floor($(this).outerWidth()+1)+marginRight);maxIconCount--;}});navWidth=navWidth-marginRight;linkWrapper.width(navWidth);}else{linkWrapper.css({'width':'auto','left':'auto'});hideArrows();}}
function calculateMarginRight(){try{return nav.children('a').eq(0).css('margin-right').slice(0,-2)*1;}catch(e){return 8;}}
function slideNext(){adjustCenterItem(currentLeft-100);}
function slidePrev(){adjustCenterItem(currentLeft+100);}
function hideArrows(){swipeWrapper.find('.next').fadeOut(50);swipeWrapper.find('.prev').fadeOut(50);}
function getWindowWidth(){return window.innerWidth;}}});}
$(document).on('keydown',function(e){if(e.keyCode==27){$('html').removeClass('overlay-lightbox')}
console.log(e,e.keyCode,'1');})}}(jQuery,can,window.HP||(window.HP={})));var isMobile={Android:function(){return navigator.userAgent.match(/Android/i);},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i);},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},Opera:function(){return navigator.userAgent.match(/Opera Mini/i);},Windows:function(){return navigator.userAgent.match(/IEMobile/i);},webOS:function(){return navigator.userAgent.match(/webOS/i);},any:function(){return(isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()||isMobile.webOS());}};HP.pageConfig.set('isResponsive',false);HP.pageConfig.set('isTouchSupport',false);HP.pageConfig.set('isOnMobile',isMobile.any());HP.pageConfig.set('isAndroid',isMobile.Android());HP.pageConfig.set('isIos',isMobile.iOS());(function($,can,HP,params){HP.ResponsiveAdapter=can.Control({defaults:{changedBreakPointEvent:"HP:Responsive:changed:breakpoint",resizeEvent:"HP:Responsive:resize",breakpoints:[{point:319},{point:496},{point:508},{point:670},{point:754},{point:800},{point:999},{point:1000},{point:1214},{point:1492},{point:5000}],touchSupportClassName:"touch-device"},currentBreakPoint:-1,windowResizeTimeout:100,windowWidth:0,isTouchSupport:function(){return'ontouchstart'in window||isMobile.Windows();},bindHpResizer:function(){if(!HP.pageConfig.get('isResponsive')){$(window).on("resize",function(){$(window).triggerHandler(HP.ResponsiveAdapter.defaults.resizeEvent);})}},vars:{resizeTimeoutId:0}},{init:function(element,options){if(isIE8||isIE7){this.element.removeClass("responsive");return null;}
if(HP.pageConfig.get('isOnMobile')){this.options.windowResizeTimeout=0;}
HP.pageConfig.set('isResponsive',true);if(HP.ResponsiveAdapter.isTouchSupport()){$("body").addClass(this.options.touchSupportClassName);HP.pageConfig.set('isTouchSupport',true);}
if(HP.pageConfig.get('isIos'))HP.ResponsiveAdapter.windowResizeTimeout=0;this.getCurrentResolution();},getCurrentBreakpoint:function(newVal){var newPoint=-1,length=this.options.breakpoints.length-1;for(var i=length;i>=1;i--){if(newPoint==-1&&(newVal<=this.options.breakpoints[i].point)&&(newVal>this.options.breakpoints[i-1].point)){newPoint=this.options.breakpoints[i].point;break;}}
if(newPoint==-1){if(newVal>=this.options.breakpoints[length].point){newPoint=this.options.breakpoints[length].point}
if(newVal<this.options.breakpoints[0].point){newPoint=this.options.breakpoints[0].point}}
return newPoint;},getCurrentResolution:function(){if(!HP.pageConfig.get('isResponsive'))return;var windowWidth=this._getWindowWidth();if(!(HP.ResponsiveAdapter.windowWidth==0||Math.abs(HP.ResponsiveAdapter.windowWidth-windowWidth)>=20))return;HP.ResponsiveAdapter.windowWidth=windowWidth;$(window).triggerHandler(this.options.resizeEvent);var newBreakPoint=this.getCurrentBreakpoint(windowWidth);if(HP.ResponsiveAdapter.currentBreakPoint!=newBreakPoint){HP.ResponsiveAdapter.currentBreakPoint=newBreakPoint;$(window).triggerHandler(this.options.changedBreakPointEvent);}},"{window} resize":function(elt,evt){if(HP.pageConfig.get('isIos'))return;if(HP.pageConfig.get('isResponsive'))this._processWindowResizing();else{$(window).triggerHandler(this.options.resizeEvent);}},"{window} HP:Responsive:resize":function(elt,evt){console.log("HP:Responsive:resize "+HP.ResponsiveAdapter.currentBreakPoint);},"{window} orientationchange":function(elt,evt){if(HP.pageConfig.get('isIos')){this._processWindowResizing();if(window.orientation==0||window.orientation==180){window.scrollTo(0,0);}}},_processWindowResizing:function(){var self=this;clearTimeout(this.options.resizeTimeoutId);this.options.resizeTimeoutId=setTimeout(function(){self.getCurrentResolution();},self.options.windowResizeTimeout);},_getWindowWidth:function(){var windowWidth=0;if(isIE8||isIE7)windowWidth=$(window).width();else windowWidth=window.innerWidth;return windowWidth;}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP,params){HP.SwipeHolder=can.Control({defaults:{hideRightFadeShadowClassName:'right-only',hideLeftFadeShadowClassName:'left-only',containerClassName:'swipe-holder',shadowsLayerClassName:'swipe-shadows'},vars:{timeout:null}},{'init':function(element,options){if(!HP.pageConfig.get('isResponsive'))return;var self=this;this.element.wrap($("<div/>",{'class':this.options.containerClassName}));this.wrapper=this.element.parent();this.elementWidth=0;this.parentSpan=this.element.parents('[class*="span"]').eq(0);this.elementWidth=this.parentSpan.hasClass('span12')?490:980;this.elementHeight=this.element.outerHeight();this._addShadowsLayer();this.element.css({width:Math.ceil(this.elementWidth)});this.upd();$(window).on('resize',function(){self.upd();});this.wrapper.on('scroll',function(){self.upd();});},"upd":function(){clearTimeout(this.timeout);var self=this;this.timeout=setTimeout(function(){var scrollLeft=self.wrapper.scrollLeft();self.shadowsWrapper[scrollLeft!=0?'removeClass':'addClass'](self.options.hideRightFadeShadowClassName);var isHideLeft=true;if(self.elementWidth>self.wrapper.width()){isHideLeft=scrollLeft+self.wrapper.width()-self.elementWidth>-2;}
self.shadowsWrapper[isHideLeft?'addClass':'removeClass'](self.options.hideLeftFadeShadowClassName);self.elementHeight=self.element.parent().outerHeight();self.shadowsWrapper.css({height:self.elementHeight});},50)},"_addShadowsLayer":function(){this.shadowsWrapper=$("<div/>",{"class":this.options.shadowsLayerClassName});this.wrapper.append(this.shadowsWrapper);}});})(jQuery,can,window.HP||(window.HP={}));(function($,can,HP){HP.LithiumRetriever=can.Control({defaults:{query:'',templateType:'',feedId:'sws-661',readMoreText:'Read the blog',rotateInterval:10000,bodyLength:30,postsLimit:25,autostartRotation:true,fakeFeedId:'http://h30499.www3.hp.com/t5/Grounded-in-the-Cloud/bg-p/sws-661?subject=Cloud',defaultDomain:"h30499.www3.hp.com",domains:{"h30499.www3.hp.com":"http://h30499.www3.hp.com/hpeb/restapi/vc/boards/id/<%== feedId %>/<%== queryPath %>","h30507.www3.hp.com":"http://h30507.www3.hp.com/hpeb/restapi/vc/boards/id/<%== feedId %>/<%== queryPath %>"},tpl:['<div class="image-wrapper">','<%if(data.nonClickableImg) { %>','<img src="<%= data.postImg %>" />','<% } else { %>','<a href="<%= data.seeAllLinkHref %>">','<img src="<%= data.postImg %>" />','</a>','<% }%>','</div>','<div class="text-content">','<h2 class="font-h3"><%= data.subject.$ %></h2>','<p class="subtitle">','<span class="author"><%= data.author.login.$ %> | </span>','<span class="post-date"><%= data.post_time.view_date %></span>','</p>','<p class="description"><%= data.msgText %></p>','<a class="button critical" href="<%= data.seeAllLinkHref %>" rel="|" shape="rect" tabindex="-1" target="_blank">','<span><%= data.readMoreText %></span>','</a>','</div>']},vars:{data:null,current:null,renderedData:[],rotation:'',getPost:''}},{'init':function(element,options){this.getPost=$.Deferred();this.updateOptionsFromMarkup();this.generateRequestUrl();var self=this;this.getPost.done(function(queryPath){self.options.queryPath=queryPath;HP.moduleIndex=HP.moduleIndex!=undefined?++HP.moduleIndex:0;if($('html').is('.ie-8')){$(self.element).append('<div class="loading"></div>');}
if(HP.moduleIndex===0){self.loadFeed();}else{setTimeout(function(){self.loadFeed();},HP.moduleIndex*150);}})},updateOptionsFromMarkup:function(){var markupOpts={feedId:this.element.attr("data-feed-id"),requrestQuery:this.element.attr("data-query-text"),templateType:this.element.attr("data-template-type"),defaultImage:this.element.attr("data-default-img-link"),readMoreText:this.element.attr("data-read-more-text"),seeAllLink:this.element.attr("data-seeall-link"),subjectLength:parseInt(this.element.attr("data-subject-length"),10),bodyLength:parseInt(this.element.attr("data-body-length"),10),rotateInterval:parseInt(this.element.attr("data-rotate-interval"),10),postsLimit:parseInt(this.element.attr("data-posts-limit"),10)};if(Number(markupOpts.rotateInterval)===0){this.options.autostartRotation=false;}
for(prop in markupOpts){(markupOpts[prop]||markupOpts[prop]===0)&&(this.options[prop]=markupOpts[prop]);}},generateRequestUrl:function(){var options=this.options;var urlRegExp=/(http|ftp|https):\/\/([\w-]+)+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/ig;var queryString=options.feedId.indexOf('http')!=-1?options.feedId:options.requrestQuery;this.tagQuery=HP.Utils.getUrlParamValue("tag",queryString);this.labelQuery=HP.Utils.getUrlParamValue("label",queryString);this.subjectQuery=HP.Utils.getUrlParamValue("subject",queryString);this.dateQuery=HP.Utils.getUrlParamValue("date",queryString);this.authorQuery=HP.Utils.getUrlParamValue("author",queryString);this.bodyQuery=HP.Utils.getUrlParamValue("body",queryString);if(options.feedId.indexOf('http')!=-1){options.feedId=options.feedId.split('?')[0];var parts=options.feedId.split("/"),length=parts.length;while(length--){if(parts[length]==="bg-p"){options.feedDomain=parts[2];options.feedId=parts[length+1];break;}}}
options.feedDomain=options.feedDomain||options.defaultDomain;this.updateQueryPath();},updateQueryPath:function(){var tags=this.tagQuery?this.getQueryUrl(this.tagQuery,'tags'):'',labels=this.labelQuery?this.getQueryUrl(this.labelQuery,'labels'):'',subject=this.subjectQuery?this.getQueryUrl(this.subjectQuery,'subject'):'',body=this.bodyQuery?this.getQueryUrl(this.bodyQuery,'body'):'',authorId=this.authorQuery||'',date=this.dateQuery?this.buildDateFilter():'',query=tags+labels+subject+body+date;query=query?query.replace(/^\+|^&/,''):'';if(authorId){var self=this,sortByDate=(query!='')?'&sort_by=-date':'sort_by=-date';if(String(authorId).replace(/[0-9]/ig,'')!=''){$.ajax({url:'http://h30499.www3.hp.com/hpeb/restapi/vc/users/login/'+authorId+'/id?xslt=json.xsl',cache:false,dataType:'jsonp',success:function(response){authorId=response.response.value?response.response.value.$:'';self.getPost.resolve('tagging/for/users/id/'+authorId+'/messages/recent?'+query+sortByDate);}})}else{this.getPost.resolve('tagging/for/users/id/'+authorId+'/messages/recent?'+query+sortByDate);}
return;}
if(query==''){this.getPost.resolve('posts/recent?sort_by=-date');return;}
query=query||'a';this.getPost.resolve('search/messages?q='+query+'&sort_by=-date');},'getQueryUrl':function(query,name){var path='';query=query.split('|');$.each(query,function(){path+='+'+name+':("'+this+'")';})
return path;},'buildDateFilter':function(){var date,dateStart,dateEnd;date=this.dateQuery.replace('[','').replace(']','').toUpperCase().split('TO');dateStart=$.trim(date[0]);dateEnd=$.trim(date[1]);dateStart=dateStart?Date.fromISO(dateStart).getTime():'';dateEnd=dateEnd?Date.fromISO(dateEnd).getTime():'';return'+date:['+dateStart+' TO '+dateEnd+']';},'loadFeed':function(){var self=this,params=this.getRequestParams(this.options.feedId,this.options.feedDomain);params.uri=params.url+"&"+$.param(params.data);var uri=params.uri;if(this.options.feedDomain){$.ajax({url:params.uri,cache:false,dataType:'jsonp',success:function(response){self.success(response);self.hideSpooler();},failure:function(response){self.error(response);}})}},hideSpooler:function(){this.element.addClass('loaded').attr('data-content','bar');if($('html').is('.ie-8')){this.element.find('.loading').hide();console.log('777');}},getRequestParams:function(feed,domain){var self=this;return{dataType:"jsonp",url:can.view.ejs(this.options.domains[domain]).render({feedId:feed,queryPath:this.options.queryPath}),data:{"xslt":"json.xsl","restapi.format_detail":"full_list_element","restapi.response_style":"view","message_viewer.topic_sort_order":"topic_start_date","page_size":self.options.postsLimit}};},success:function(data){data=data&&data.response&&data.response.messages&&data.response.messages.message?data.response.messages.message:null;this.data=data?data.length?data:[]:null;if(this.data&&this.data.length===0){this.data.push(data);};if(this.data){this.prepareData();this.render();}else{this.hideWholeModule();}},error:function(){},hideWholeModule:function(){this.element.hide();},prepareData:function(){var testContent=$('<div></div>');for(var i=0;i<this.data.length;i++){testContent.html(this.data[i].teaser.$);this.data[i].postImg=$(testContent).find('img:first').length?$(testContent).find('img:first').attr('src'):this.options.defaultImage;this.data[i].msgText=this._cutByWords($(testContent).text(),this.options.bodyLength);this.data[i].readMoreText=this.options.readMoreText;this.data[i].seeAllLinkHref=this.options.seeAllLink||this.data[i].view_href;this.preloadImages(this.data[i].postImg);}},preloadImages:function(src){var img=new Image();img.src=src;},'_cutByWords':function(string,length){var shortString="",peaces=[];if(typeof string!='undefined'&&string!=null){string=string.toString();peaces=string.split(" ",length);shortString=peaces.join(" ");}
if(shortString.length>15*this.options.bodyLength)
shortString=shortString.substring(0,200);return shortString+(shortString.length<string.length?"...":"");},isEmptyObject:function(obj){for(var i in obj){return false;}
return true;},render:function(){var html,length=this.data.length;if(length>1){for(var i=0;i<length;i++){html=can.view.ejs(this.options.tpl.join('')).render({data:this.data[i]});this.renderedData.push(html);}}else{html=can.view.ejs(this.options.tpl.join('')).render({data:this.data[0]});this.renderedData.push(html);}
if(this.options.templateType=="single-rotator"||length==1){this.rotate();this.element.addClass('no-slider');return;}
this.renderSlider();},rotate:function(postHtml){var self=this;if(postHtml){self.element.html(postHtml).find('.image-wrapper, .text-content').css('opacity',0).fadeTo(400,1);self.current+=1;}else{self.element.html(self.renderedData[0]).find('.image-wrapper, .text-content').css('opacity',0).fadeTo(400,1);self.current=0;}
if(Number(self.options.rotateInterval)===0){return;}
clearTimeout(this.rotation);this.rotation=setTimeout(function(){if(self.renderedData[self.current+1]){self.rotate(self.renderedData[self.current+1]);}else{if(self.current!==0){self.rotate();}}},self.options.rotateInterval);},renderSlider:function(){var slider=$('<div class="slider js-slider" data-autostart="'+this.options.autostartRotation+'" data-interval="'+this.options.rotateInterval+'" data-nav-position="aside outline" data-nav-type="arrow"></div>'),length=this.renderedData.length;for(var i=0;i<length;i++){slider.append('<div>'+this.renderedData[i]+'</div>')}
this.element.html(slider);HP.Control.init(HP.SliderFactory,this.element.find('.slider'),{});}});}(jQuery,can,window.HP||(window.HP={})));var Swiper=function(a,b){"use strict";function c(a,b){return document.querySelectorAll?(b||document).querySelectorAll(a):jQuery(a,b)}function d(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1}function e(){var a=F-I;return b.freeMode&&(a=F-I),b.slidesPerView>C.slides.length&&!b.centeredSlides&&(a=0),0>a&&(a=0),a}function f(){function a(a){var c=new Image;c.onload=function(){"undefined"!=typeof C&&null!==C&&(void 0!==C.imagesLoaded&&C.imagesLoaded++,C.imagesLoaded===C.imagesToLoad.length&&(C.reInit(),b.onImagesReady&&C.fireCallback(b.onImagesReady,C)))},c.src=a}var d=C.h.addEventListener,e="wrapper"===b.eventTarget?C.wrapper:C.container;if(C.browser.ie10||C.browser.ie11?(d(e,C.touchEvents.touchStart,p),d(document,C.touchEvents.touchMove,q),d(document,C.touchEvents.touchEnd,r)):(C.support.touch&&(d(e,"touchstart",p),d(e,"touchmove",q),d(e,"touchend",r)),b.simulateTouch&&(d(e,"mousedown",p),d(document,"mousemove",q),d(document,"mouseup",r))),b.autoResize&&d(window,"resize",C.resizeFix),g(),C._wheelEvent=!1,b.mousewheelControl){if(void 0!==document.onmousewheel&&(C._wheelEvent="mousewheel"),!C._wheelEvent)try{new WheelEvent("wheel"),C._wheelEvent="wheel"}catch(f){}C._wheelEvent||(C._wheelEvent="DOMMouseScroll"),C._wheelEvent&&d(C.container,C._wheelEvent,j)}if(b.keyboardControl&&d(document,"keydown",i),b.updateOnImagesReady){C.imagesToLoad=c("img",C.container);for(var h=0;h<C.imagesToLoad.length;h++)a(C.imagesToLoad[h].getAttribute("src"))}}function g(){var a,d=C.h.addEventListener;if(b.preventLinks){var e=c("a",C.container);for(a=0;a<e.length;a++)d(e[a],"click",n)}if(b.releaseFormElements){var f=c("input, textarea, select",C.container);for(a=0;a<f.length;a++)d(f[a],C.touchEvents.touchStart,o,!0)}if(b.onSlideClick)for(a=0;a<C.slides.length;a++)d(C.slides[a],"click",k);if(b.onSlideTouch)for(a=0;a<C.slides.length;a++)d(C.slides[a],C.touchEvents.touchStart,l)}function h(){var a,d=C.h.removeEventListener;if(b.onSlideClick)for(a=0;a<C.slides.length;a++)d(C.slides[a],"click",k);if(b.onSlideTouch)for(a=0;a<C.slides.length;a++)d(C.slides[a],C.touchEvents.touchStart,l);if(b.releaseFormElements){var e=c("input, textarea, select",C.container);for(a=0;a<e.length;a++)d(e[a],C.touchEvents.touchStart,o,!0)}if(b.preventLinks){var f=c("a",C.container);for(a=0;a<f.length;a++)d(f[a],"click",n)}}function i(a){var b=a.keyCode||a.charCode;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)){if(37===b||39===b||38===b||40===b){for(var c=!1,d=C.h.getOffset(C.container),e=C.h.windowScroll().left,f=C.h.windowScroll().top,g=C.h.windowWidth(),h=C.h.windowHeight(),i=[[d.left,d.top],[d.left+C.width,d.top],[d.left,d.top+C.height],[d.left+C.width,d.top+C.height]],j=0;j<i.length;j++){var k=i[j];k[0]>=e&&k[0]<=e+g&&k[1]>=f&&k[1]<=f+h&&(c=!0)}if(!c)return}M?((37===b||39===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),39===b&&C.swipeNext(),37===b&&C.swipePrev()):((38===b||40===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),40===b&&C.swipeNext(),38===b&&C.swipePrev())}}function j(a){var c=C._wheelEvent,d=0;if(a.detail)d=-a.detail;else if("mousewheel"===c)if(b.mousewheelControlForceToAxis)if(M){if(!(Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)))return;d=a.wheelDeltaX}else{if(!(Math.abs(a.wheelDeltaY)>Math.abs(a.wheelDeltaX)))return;d=a.wheelDeltaY}else d=a.wheelDelta;else if("DOMMouseScroll"===c)d=-a.detail;else if("wheel"===c)if(b.mousewheelControlForceToAxis)if(M){if(!(Math.abs(a.deltaX)>Math.abs(a.deltaY)))return;d=-a.deltaX}else{if(!(Math.abs(a.deltaY)>Math.abs(a.deltaX)))return;d=-a.deltaY}else d=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX:-a.deltaY;if(b.freeMode){var f=C.getWrapperTranslate()+d;if(f>0&&(f=0),f<-e()&&(f=-e()),C.setWrapperTransition(0),C.setWrapperTranslate(f),C.updateActiveSlide(f),0===f||f===-e())return}else(new Date).getTime()-U>60&&(0>d?C.swipeNext():C.swipePrev()),U=(new Date).getTime();return b.autoplay&&C.stopAutoplay(!0),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}function k(a){C.allowSlideClick&&(m(a),C.fireCallback(b.onSlideClick,C,a))}function l(a){m(a),C.fireCallback(b.onSlideTouch,C,a)}function m(a){if(a.currentTarget)C.clickedSlide=a.currentTarget;else{var c=a.srcElement;do{if(c.className.indexOf(b.slideClass)>-1)break;c=c.parentNode}while(c);C.clickedSlide=c}C.clickedSlideIndex=C.slides.indexOf(C.clickedSlide),C.clickedSlideLoopIndex=C.clickedSlideIndex-(C.loopedSlides||0)}function n(a){return C.allowLinks?void 0:(a.preventDefault?a.preventDefault():a.returnValue=!1,b.preventLinksPropagation&&"stopPropagation"in a&&a.stopPropagation(),!1)}function o(a){return a.stopPropagation?a.stopPropagation():a.returnValue=!1,!1}function p(a){if(b.preventLinks&&(C.allowLinks=!0),C.isTouched||b.onlyExternal)return!1;var c=a.target||a.srcElement;document.activeElement&&document.activeElement!==c&&document.activeElement.blur();var d="input select textarea".split(" ");if(b.noSwiping&&c&&s(c))return!1;if($=!1,C.isTouched=!0,Z="touchstart"===a.type,!Z&&"which"in a&&3===a.which)return!1;if(!Z||1===a.targetTouches.length){C.callPlugins("onTouchStartBegin"),!Z&&!C.isAndroid&&d.indexOf(c.tagName.toLowerCase())<0&&(a.preventDefault?a.preventDefault():a.returnValue=!1);var e=Z?a.targetTouches[0].pageX:a.pageX||a.clientX,f=Z?a.targetTouches[0].pageY:a.pageY||a.clientY;C.touches.startX=C.touches.currentX=e,C.touches.startY=C.touches.currentY=f,C.touches.start=C.touches.current=M?e:f,C.setWrapperTransition(0),C.positions.start=C.positions.current=C.getWrapperTranslate(),C.setWrapperTranslate(C.positions.start),C.times.start=(new Date).getTime(),H=void 0,b.moveStartThreshold>0&&(W=!1),b.onTouchStart&&C.fireCallback(b.onTouchStart,C,a),C.callPlugins("onTouchStartEnd")}}function q(a){if(C.isTouched&&!b.onlyExternal&&(!Z||"mousemove"!==a.type)){var c=Z?a.targetTouches[0].pageX:a.pageX||a.clientX,d=Z?a.targetTouches[0].pageY:a.pageY||a.clientY;if("undefined"==typeof H&&M&&(H=!!(H||Math.abs(d-C.touches.startY)>Math.abs(c-C.touches.startX))),"undefined"!=typeof H||M||(H=!!(H||Math.abs(d-C.touches.startY)<Math.abs(c-C.touches.startX))),H)return void(C.isTouched=!1);if(M){if(!b.swipeToNext&&c<C.touches.startX||!b.swipeToPrev&&c>C.touches.startX)return}else if(!b.swipeToNext&&d<C.touches.startY||!b.swipeToPrev&&d>C.touches.startY)return;if(a.assignedToSwiper)return void(C.isTouched=!1);if(a.assignedToSwiper=!0,b.preventLinks&&(C.allowLinks=!1),b.onSlideClick&&(C.allowSlideClick=!1),b.autoplay&&C.stopAutoplay(!0),!Z||1===a.touches.length){if(C.isMoved||(C.callPlugins("onTouchMoveStart"),b.loop&&(C.fixLoop(),C.positions.start=C.getWrapperTranslate()),b.onTouchMoveStart&&C.fireCallback(b.onTouchMoveStart,C)),C.isMoved=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,C.touches.current=M?c:d,C.positions.current=(C.touches.current-C.touches.start)*b.touchRatio+C.positions.start,C.positions.current>0&&b.onResistanceBefore&&C.fireCallback(b.onResistanceBefore,C,C.positions.current),C.positions.current<-e()&&b.onResistanceAfter&&C.fireCallback(b.onResistanceAfter,C,Math.abs(C.positions.current+e())),b.resistance&&"100%"!==b.resistance){var f;if(C.positions.current>0&&(f=1-C.positions.current/I/2,C.positions.current=.5>f?I/2:C.positions.current*f),C.positions.current<-e()){var g=(C.touches.current-C.touches.start)*b.touchRatio+(e()+C.positions.start);f=(I+g)/I;var h=C.positions.current-g*(1-f)/2,i=-e()-I/2;C.positions.current=i>h||0>=f?i:h}}if(b.resistance&&"100%"===b.resistance&&(C.positions.current>0&&(!b.freeMode||b.freeModeFluid)&&(C.positions.current=0),C.positions.current<-e()&&(!b.freeMode||b.freeModeFluid)&&(C.positions.current=-e())),!b.followFinger)return;if(b.moveStartThreshold)if(Math.abs(C.touches.current-C.touches.start)>b.moveStartThreshold||W){if(!W)return W=!0,void(C.touches.start=C.touches.current);C.setWrapperTranslate(C.positions.current)}else C.positions.current=C.positions.start;else C.setWrapperTranslate(C.positions.current);return(b.freeMode||b.watchActiveIndex)&&C.updateActiveSlide(C.positions.current),b.grabCursor&&(C.container.style.cursor="move",C.container.style.cursor="grabbing",C.container.style.cursor="-moz-grabbin",C.container.style.cursor="-webkit-grabbing"),X||(X=C.touches.current),Y||(Y=(new Date).getTime()),C.velocity=(C.touches.current-X)/((new Date).getTime()-Y)/2,Math.abs(C.touches.current-X)<2&&(C.velocity=0),X=C.touches.current,Y=(new Date).getTime(),C.callPlugins("onTouchMoveEnd"),b.onTouchMove&&C.fireCallback(b.onTouchMove,C,a),!1}}}function r(a){if(H&&C.swipeReset(),!b.onlyExternal&&C.isTouched){C.isTouched=!1,b.grabCursor&&(C.container.style.cursor="move",C.container.style.cursor="grab",C.container.style.cursor="-moz-grab",C.container.style.cursor="-webkit-grab"),C.positions.current||0===C.positions.current||(C.positions.current=C.positions.start),b.followFinger&&C.setWrapperTranslate(C.positions.current),C.times.end=(new Date).getTime(),C.touches.diff=C.touches.current-C.touches.start,C.touches.abs=Math.abs(C.touches.diff),C.positions.diff=C.positions.current-C.positions.start,C.positions.abs=Math.abs(C.positions.diff);var c=C.positions.diff,d=C.positions.abs,f=C.times.end-C.times.start;5>d&&300>f&&C.allowLinks===!1&&(b.freeMode||0===d||C.swipeReset(),b.preventLinks&&(C.allowLinks=!0),b.onSlideClick&&(C.allowSlideClick=!0)),setTimeout(function(){"undefined"!=typeof C&&null!==C&&(b.preventLinks&&(C.allowLinks=!0),b.onSlideClick&&(C.allowSlideClick=!0))},100);var g=e();if(!C.isMoved&&b.freeMode)return C.isMoved=!1,b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd");if(!C.isMoved||C.positions.current>0||C.positions.current<-g)return C.swipeReset(),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd");if(C.isMoved=!1,b.freeMode){if(b.freeModeFluid){var h,i=1e3*b.momentumRatio,j=C.velocity*i,k=C.positions.current+j,l=!1,m=20*Math.abs(C.velocity)*b.momentumBounceRatio;-g>k&&(b.momentumBounce&&C.support.transitions?(-m>k+g&&(k=-g-m),h=-g,l=!0,$=!0):k=-g),k>0&&(b.momentumBounce&&C.support.transitions?(k>m&&(k=m),h=0,l=!0,$=!0):k=0),0!==C.velocity&&(i=Math.abs((k-C.positions.current)/C.velocity)),C.setWrapperTranslate(k),C.setWrapperTransition(i),b.momentumBounce&&l&&C.wrapperTransitionEnd(function(){$&&(b.onMomentumBounce&&C.fireCallback(b.onMomentumBounce,C),C.callPlugins("onMomentumBounce"),C.setWrapperTranslate(h),C.setWrapperTransition(300))}),C.updateActiveSlide(k)}return(!b.freeModeFluid||f>=300)&&C.updateActiveSlide(C.positions.current),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),void C.callPlugins("onTouchEnd")}G=0>c?"toNext":"toPrev","toNext"===G&&300>=f&&(30>d||!b.shortSwipes?C.swipeReset():C.swipeNext(!0)),"toPrev"===G&&300>=f&&(30>d||!b.shortSwipes?C.swipeReset():C.swipePrev(!0));var n=0;if("auto"===b.slidesPerView){for(var o,p=Math.abs(C.getWrapperTranslate()),q=0,r=0;r<C.slides.length;r++)if(o=M?C.slides[r].getWidth(!0,b.roundLengths):C.slides[r].getHeight(!0,b.roundLengths),q+=o,q>p){n=o;break}n>I&&(n=I)}else n=E*b.slidesPerView;"toNext"===G&&f>300&&(d>=n*b.longSwipesRatio?C.swipeNext(!0):C.swipeReset()),"toPrev"===G&&f>300&&(d>=n*b.longSwipesRatio?C.swipePrev(!0):C.swipeReset()),b.onTouchEnd&&C.fireCallback(b.onTouchEnd,C,a),C.callPlugins("onTouchEnd")}}function s(a){var c=!1;do a.className.indexOf(b.noSwipingClass)>-1&&(c=!0),a=a.parentElement;while(!c&&a.parentElement&&-1===a.className.indexOf(b.wrapperClass));return!c&&a.className.indexOf(b.wrapperClass)>-1&&a.className.indexOf(b.noSwipingClass)>-1&&(c=!0),c}function t(a,b){var c,d=document.createElement("div");return d.innerHTML=b,c=d.firstChild,c.className+=" "+a,c.outerHTML}function u(a,c,d){function e(){var f=+new Date,l=f-g;h+=i*l/(1e3/60),k="toNext"===j?h>a:a>h,k?(C.setWrapperTranslate(Math.ceil(h)),C._DOMAnimating=!0,window.setTimeout(function(){e()},1e3/60)):(b.onSlideChangeEnd&&("to"===c?d.runCallbacks===!0&&C.fireCallback(b.onSlideChangeEnd,C,j):C.fireCallback(b.onSlideChangeEnd,C,j)),C.setWrapperTranslate(a),C._DOMAnimating=!1)}var f="to"===c&&d.speed>=0?d.speed:b.speed,g=+new Date;if(C.support.transitions||!b.DOMAnimation)C.setWrapperTranslate(a),C.setWrapperTransition(f);else{var h=C.getWrapperTranslate(),i=Math.ceil((a-h)/f*(1e3/60)),j=h>a?"toNext":"toPrev",k="toNext"===j?h>a:a>h;if(C._DOMAnimating)return;e()}C.updateActiveSlide(a),b.onSlideNext&&"next"===c&&C.fireCallback(b.onSlideNext,C,a),b.onSlidePrev&&"prev"===c&&C.fireCallback(b.onSlidePrev,C,a),b.onSlideReset&&"reset"===c&&C.fireCallback(b.onSlideReset,C,a),("next"===c||"prev"===c||"to"===c&&d.runCallbacks===!0)&&v(c)}function v(a){if(C.callPlugins("onSlideChangeStart"),b.onSlideChangeStart)if(b.queueStartCallbacks&&C.support.transitions){if(C._queueStartCallbacks)return;C._queueStartCallbacks=!0,C.fireCallback(b.onSlideChangeStart,C,a),C.wrapperTransitionEnd(function(){C._queueStartCallbacks=!1})}else C.fireCallback(b.onSlideChangeStart,C,a);if(b.onSlideChangeEnd)if(C.support.transitions)if(b.queueEndCallbacks){if(C._queueEndCallbacks)return;C._queueEndCallbacks=!0,C.wrapperTransitionEnd(function(c){C.fireCallback(b.onSlideChangeEnd,c,a)})}else C.wrapperTransitionEnd(function(c){C.fireCallback(b.onSlideChangeEnd,c,a)});else b.DOMAnimation||setTimeout(function(){C.fireCallback(b.onSlideChangeEnd,C,a)},10)}function w(){var a=C.paginationButtons;if(a)for(var b=0;b<a.length;b++)C.h.removeEventListener(a[b],"click",y)}function x(){var a=C.paginationButtons;if(a)for(var b=0;b<a.length;b++)C.h.addEventListener(a[b],"click",y)}function y(a){for(var c,d=a.target||a.srcElement,e=C.paginationButtons,f=0;f<e.length;f++)d===e[f]&&(c=f);b.autoplay&&C.stopAutoplay(!0),C.swipeTo(c)}function z(){_=setTimeout(function(){b.loop?(C.fixLoop(),C.swipeNext(!0)):C.swipeNext(!0)||(b.autoplayStopOnLast?(clearTimeout(_),_=void 0):C.swipeTo(0)),C.wrapperTransitionEnd(function(){"undefined"!=typeof _&&z()})},b.autoplay)}function A(){C.calcSlides(),b.loader.slides.length>0&&0===C.slides.length&&C.loadSlides(),b.loop&&C.createLoop(),C.init(),f(),b.pagination&&C.createPagination(!0),b.loop||b.initialSlide>0?C.swipeTo(b.initialSlide,0,!1):C.updateActiveSlide(0),b.autoplay&&C.startAutoplay(),C.centerIndex=C.activeIndex,b.onSwiperCreated&&C.fireCallback(b.onSwiperCreated,C),C.callPlugins("onSwiperCreated")}if(!document.body.outerHTML&&document.body.__defineGetter__&&HTMLElement){var B=HTMLElement.prototype;B.__defineGetter__&&B.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"===b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1}),(document.querySelectorAll||window.jQuery)&&"undefined"!=typeof a&&(a.nodeType||0!==c(a).length)){var C=this;C.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},C.positions={start:0,abs:0,diff:0,current:0},C.times={start:0,end:0},C.id=(new Date).getTime(),C.container=a.nodeType?a:c(a)[0],C.isTouched=!1,C.isMoved=!1,C.activeIndex=0,C.centerIndex=0,C.activeLoaderIndex=0,C.activeLoopIndex=0,C.previousIndex=null,C.velocity=0,C.snapGrid=[],C.slidesGrid=[],C.imagesToLoad=[],C.imagesLoaded=0,C.wrapperLeft=0,C.wrapperRight=0,C.wrapperTop=0,C.wrapperBottom=0,C.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>=0;var D,E,F,G,H,I,J={eventTarget:"wrapper",mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,slidesPerViewFit:!0,simulateTouch:!0,followFinger:!0,shortSwipes:!0,longSwipesRatio:.5,moveStartThreshold:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,preventLinksPropagation:!1,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,mousewheelControlForceToAxis:!1,useCSS3Transforms:!0,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,loop:!1,loopAdditionalSlides:0,roundLengths:!1,calculateHeight:!1,cssWidthAndHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},swipeToPrev:!0,swipeToNext:!0,slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};b=b||{};for(var K in J)if(K in b&&"object"==typeof b[K])for(var L in J[K])L in b[K]||(b[K][L]=J[K][L]);else K in b||(b[K]=J[K]);C.params=b,b.scrollContainer&&(b.freeMode=!0,b.freeModeFluid=!0),b.loop&&(b.resistance="100%");var M="horizontal"===b.mode,N=["mousedown","mousemove","mouseup"];C.browser.ie10&&(N=["MSPointerDown","MSPointerMove","MSPointerUp"]),C.browser.ie11&&(N=["pointerdown","pointermove","pointerup"]),C.touchEvents={touchStart:C.support.touch||!b.simulateTouch?"touchstart":N[0],touchMove:C.support.touch||!b.simulateTouch?"touchmove":N[1],touchEnd:C.support.touch||!b.simulateTouch?"touchend":N[2]};for(var O=C.container.childNodes.length-1;O>=0;O--)if(C.container.childNodes[O].className)for(var P=C.container.childNodes[O].className.split(/\s+/),Q=0;Q<P.length;Q++)P[Q]===b.wrapperClass&&(D=C.container.childNodes[O]);C.wrapper=D,C._extendSwiperSlide=function(a){return a.append=function(){return b.loop?a.insertAfter(C.slides.length-C.loopedSlides):(C.wrapper.appendChild(a),C.reInit()),a},a.prepend=function(){return b.loop?(C.wrapper.insertBefore(a,C.slides[C.loopedSlides]),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):C.wrapper.insertBefore(a,C.wrapper.firstChild),C.reInit(),a},a.insertAfter=function(c){if("undefined"==typeof c)return!1;var d;return b.loop?(d=C.slides[c+1+C.loopedSlides],d?C.wrapper.insertBefore(a,d):C.wrapper.appendChild(a),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):(d=C.slides[c+1],C.wrapper.insertBefore(a,d)),C.reInit(),a},a.clone=function(){return C._extendSwiperSlide(a.cloneNode(!0))},a.remove=function(){C.wrapper.removeChild(a),C.reInit()},a.html=function(b){return"undefined"==typeof b?a.innerHTML:(a.innerHTML=b,a)},a.index=function(){for(var b,c=C.slides.length-1;c>=0;c--)a===C.slides[c]&&(b=c);return b},a.isActive=function(){return a.index()===C.activeIndex?!0:!1},a.swiperSlideDataStorage||(a.swiperSlideDataStorage={}),a.getData=function(b){return a.swiperSlideDataStorage[b]},a.setData=function(b,c){return a.swiperSlideDataStorage[b]=c,a},a.data=function(b,c){return"undefined"==typeof c?a.getAttribute("data-"+b):(a.setAttribute("data-"+b,c),a)},a.getWidth=function(b,c){return C.h.getWidth(a,b,c)},a.getHeight=function(b,c){return C.h.getHeight(a,b,c)},a.getOffset=function(){return C.h.getOffset(a)},a},C.calcSlides=function(a){var c=C.slides?C.slides.length:!1;C.slides=[],C.displaySlides=[];for(var d=0;d<C.wrapper.childNodes.length;d++)if(C.wrapper.childNodes[d].className)for(var e=C.wrapper.childNodes[d].className,f=e.split(/\s+/),i=0;i<f.length;i++)f[i]===b.slideClass&&C.slides.push(C.wrapper.childNodes[d]);for(d=C.slides.length-1;d>=0;d--)C._extendSwiperSlide(C.slides[d]);c!==!1&&(c!==C.slides.length||a)&&(h(),g(),C.updateActiveSlide(),C.params.pagination&&C.createPagination(),C.callPlugins("numberOfSlidesChanged"))},C.createSlide=function(a,c,d){c=c||C.params.slideClass,d=d||b.slideElement;var e=document.createElement(d);return e.innerHTML=a||"",e.className=c,C._extendSwiperSlide(e)},C.appendSlide=function(a,b,c){return a?a.nodeType?C._extendSwiperSlide(a).append():C.createSlide(a,b,c).append():void 0},C.prependSlide=function(a,b,c){return a?a.nodeType?C._extendSwiperSlide(a).prepend():C.createSlide(a,b,c).prepend():void 0},C.insertSlideAfter=function(a,b,c,d){return"undefined"==typeof a?!1:b.nodeType?C._extendSwiperSlide(b).insertAfter(a):C.createSlide(b,c,d).insertAfter(a)},C.removeSlide=function(a){if(C.slides[a]){if(b.loop){if(!C.slides[a+C.loopedSlides])return!1;C.slides[a+C.loopedSlides].remove(),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()}else C.slides[a].remove();return!0}return!1},C.removeLastSlide=function(){return C.slides.length>0?(b.loop?(C.slides[C.slides.length-1-C.loopedSlides].remove(),C.removeLoopedSlides(),C.calcSlides(),C.createLoop()):C.slides[C.slides.length-1].remove(),!0):!1},C.removeAllSlides=function(){for(var a=C.slides.length-1;a>=0;a--)C.slides[a].remove()},C.getSlide=function(a){return C.slides[a]},C.getLastSlide=function(){return C.slides[C.slides.length-1]},C.getFirstSlide=function(){return C.slides[0]},C.activeSlide=function(){return C.slides[C.activeIndex]},C.fireCallback=function(){var a=arguments[0];if("[object Array]"===Object.prototype.toString.call(a))for(var c=0;c<a.length;c++)"function"==typeof a[c]&&a[c](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);else"[object String]"===Object.prototype.toString.call(a)?b["on"+a]&&C.fireCallback(b["on"+a],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},C.addCallback=function(a,b){var c,e=this;return e.params["on"+a]?d(this.params["on"+a])?this.params["on"+a].push(b):"function"==typeof this.params["on"+a]?(c=this.params["on"+a],this.params["on"+a]=[],this.params["on"+a].push(c),this.params["on"+a].push(b)):void 0:(this.params["on"+a]=[],this.params["on"+a].push(b))},C.removeCallbacks=function(a){C.params["on"+a]&&(C.params["on"+a]=null)};var R=[];for(var S in C.plugins)if(b[S]){var T=C.plugins[S](C,b[S]);T&&R.push(T)}C.callPlugins=function(a,b){b||(b={});for(var c=0;c<R.length;c++)a in R[c]&&R[c][a](b)},!C.browser.ie10&&!C.browser.ie11||b.onlyExternal||C.wrapper.classList.add("swiper-wp8-"+(M?"horizontal":"vertical")),b.freeMode&&(C.container.className+=" swiper-free-mode"),C.initialized=!1,C.init=function(a,c){var d=C.h.getWidth(C.container,!1,b.roundLengths),e=C.h.getHeight(C.container,!1,b.roundLengths);if(d!==C.width||e!==C.height||a){C.width=d,C.height=e;var f,g,h,i,j,k,l;I=M?d:e;var m=C.wrapper;if(a&&C.calcSlides(c),"auto"===b.slidesPerView){var n=0,o=0;b.slidesOffset>0&&(m.style.paddingLeft="",m.style.paddingRight="",m.style.paddingTop="",m.style.paddingBottom=""),m.style.width="",m.style.height="",b.offsetPxBefore>0&&(M?C.wrapperLeft=b.offsetPxBefore:C.wrapperTop=b.offsetPxBefore),b.offsetPxAfter>0&&(M?C.wrapperRight=b.offsetPxAfter:C.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(M?(C.wrapperLeft=(I-this.slides[0].getWidth(!0,b.roundLengths))/2,C.wrapperRight=(I-C.slides[C.slides.length-1].getWidth(!0,b.roundLengths))/2):(C.wrapperTop=(I-C.slides[0].getHeight(!0,b.roundLengths))/2,C.wrapperBottom=(I-C.slides[C.slides.length-1].getHeight(!0,b.roundLengths))/2)),M?(C.wrapperLeft>=0&&(m.style.paddingLeft=C.wrapperLeft+"px"),C.wrapperRight>=0&&(m.style.paddingRight=C.wrapperRight+"px")):(C.wrapperTop>=0&&(m.style.paddingTop=C.wrapperTop+"px"),C.wrapperBottom>=0&&(m.style.paddingBottom=C.wrapperBottom+"px")),k=0;var p=0;for(C.snapGrid=[],C.slidesGrid=[],h=0,l=0;l<C.slides.length;l++){f=C.slides[l].getWidth(!0,b.roundLengths),g=C.slides[l].getHeight(!0,b.roundLengths),b.calculateHeight&&(h=Math.max(h,g));var q=M?f:g;if(b.centeredSlides){var r=l===C.slides.length-1?0:C.slides[l+1].getWidth(!0,b.roundLengths),s=l===C.slides.length-1?0:C.slides[l+1].getHeight(!0,b.roundLengths),t=M?r:s;if(q>I){if(b.slidesPerViewFit)C.snapGrid.push(k+C.wrapperLeft),C.snapGrid.push(k+q-I+C.wrapperLeft);else for(var u=0;u<=Math.floor(q/(I+C.wrapperLeft));u++)C.snapGrid.push(0===u?k+C.wrapperLeft:k+C.wrapperLeft+I*u);C.slidesGrid.push(k+C.wrapperLeft)}else C.snapGrid.push(p),C.slidesGrid.push(p);p+=q/2+t/2}else{if(q>I)if(b.slidesPerViewFit)C.snapGrid.push(k),C.snapGrid.push(k+q-I);else if(0!==I)for(var v=0;v<=Math.floor(q/I);v++)C.snapGrid.push(k+I*v);else C.snapGrid.push(k);else C.snapGrid.push(k);C.slidesGrid.push(k)}k+=q,n+=f,o+=g}b.calculateHeight&&(C.height=h),M?(F=n+C.wrapperRight+C.wrapperLeft,m.style.width=n+"px",m.style.height=C.height+"px"):(F=o+C.wrapperTop+C.wrapperBottom,m.style.width=C.width+"px",m.style.height=o+"px")}else if(b.scrollContainer)m.style.width="",m.style.height="",i=C.slides[0].getWidth(!0,b.roundLengths),j=C.slides[0].getHeight(!0,b.roundLengths),F=M?i:j,m.style.width=i+"px",m.style.height=j+"px",E=M?i:j;else{if(b.calculateHeight){for(h=0,j=0,M||(C.container.style.height=""),m.style.height="",l=0;l<C.slides.length;l++)C.slides[l].style.height="",h=Math.max(C.slides[l].getHeight(!0),h),M||(j+=C.slides[l].getHeight(!0));g=h,C.height=g,M?j=g:(I=g,C.container.style.height=I+"px")}else g=M?C.height:C.height/b.slidesPerView,b.roundLengths&&(g=Math.ceil(g)),j=M?C.height:C.slides.length*g;for(f=M?C.width/b.slidesPerView:C.width,b.roundLengths&&(f=Math.ceil(f)),i=M?C.slides.length*f:C.width,E=M?f:g,b.offsetSlidesBefore>0&&(M?C.wrapperLeft=E*b.offsetSlidesBefore:C.wrapperTop=E*b.offsetSlidesBefore),b.offsetSlidesAfter>0&&(M?C.wrapperRight=E*b.offsetSlidesAfter:C.wrapperBottom=E*b.offsetSlidesAfter),b.offsetPxBefore>0&&(M?C.wrapperLeft=b.offsetPxBefore:C.wrapperTop=b.offsetPxBefore),b.offsetPxAfter>0&&(M?C.wrapperRight=b.offsetPxAfter:C.wrapperBottom=b.offsetPxAfter),b.centeredSlides&&(M?(C.wrapperLeft=(I-E)/2,C.wrapperRight=(I-E)/2):(C.wrapperTop=(I-E)/2,C.wrapperBottom=(I-E)/2)),M?(C.wrapperLeft>0&&(m.style.paddingLeft=C.wrapperLeft+"px"),C.wrapperRight>0&&(m.style.paddingRight=C.wrapperRight+"px")):(C.wrapperTop>0&&(m.style.paddingTop=C.wrapperTop+"px"),C.wrapperBottom>0&&(m.style.paddingBottom=C.wrapperBottom+"px")),F=M?i+C.wrapperRight+C.wrapperLeft:j+C.wrapperTop+C.wrapperBottom,parseFloat(i)>0&&(!b.cssWidthAndHeight||"height"===b.cssWidthAndHeight)&&(m.style.width=i+"px"),parseFloat(j)>0&&(!b.cssWidthAndHeight||"width"===b.cssWidthAndHeight)&&(m.style.height=j+"px"),k=0,C.snapGrid=[],C.slidesGrid=[],l=0;l<C.slides.length;l++)C.snapGrid.push(k),C.slidesGrid.push(k),k+=E,parseFloat(f)>0&&(!b.cssWidthAndHeight||"height"===b.cssWidthAndHeight)&&(C.slides[l].style.width=f+"px"),parseFloat(g)>0&&(!b.cssWidthAndHeight||"width"===b.cssWidthAndHeight)&&(C.slides[l].style.height=g+"px")}C.initialized?(C.callPlugins("onInit"),b.onInit&&C.fireCallback(b.onInit,C)):(C.callPlugins("onFirstInit"),b.onFirstInit&&C.fireCallback(b.onFirstInit,C)),C.initialized=!0}},C.reInit=function(a){C.init(!0,a)},C.resizeFix=function(a){C.callPlugins("beforeResizeFix"),C.init(b.resizeReInit||a),b.freeMode?C.getWrapperTranslate()<-e()&&(C.setWrapperTransition(0),C.setWrapperTranslate(-e())):(C.swipeTo(b.loop?C.activeLoopIndex:C.activeIndex,0,!1),b.autoplay&&(C.support.transitions&&"undefined"!=typeof _?"undefined"!=typeof _&&(clearTimeout(_),_=void 0,C.startAutoplay()):"undefined"!=typeof ab&&(clearInterval(ab),ab=void 0,C.startAutoplay()))),C.callPlugins("afterResizeFix")},C.destroy=function(){var a=C.h.removeEventListener,c="wrapper"===b.eventTarget?C.wrapper:C.container;C.browser.ie10||C.browser.ie11?(a(c,C.touchEvents.touchStart,p),a(document,C.touchEvents.touchMove,q),a(document,C.touchEvents.touchEnd,r)):(C.support.touch&&(a(c,"touchstart",p),a(c,"touchmove",q),a(c,"touchend",r)),b.simulateTouch&&(a(c,"mousedown",p),a(document,"mousemove",q),a(document,"mouseup",r))),b.autoResize&&a(window,"resize",C.resizeFix),h(),b.paginationClickable&&w(),b.mousewheelControl&&C._wheelEvent&&a(C.container,C._wheelEvent,j),b.keyboardControl&&a(document,"keydown",i),b.autoplay&&C.stopAutoplay(),C.callPlugins("onDestroy"),C=null},C.disableKeyboardControl=function(){b.keyboardControl=!1,C.h.removeEventListener(document,"keydown",i)},C.enableKeyboardControl=function(){b.keyboardControl=!0,C.h.addEventListener(document,"keydown",i)};var U=(new Date).getTime();if(C.disableMousewheelControl=function(){return C._wheelEvent?(b.mousewheelControl=!1,C.h.removeEventListener(C.container,C._wheelEvent,j),!0):!1},C.enableMousewheelControl=function(){return C._wheelEvent?(b.mousewheelControl=!0,C.h.addEventListener(C.container,C._wheelEvent,j),!0):!1},b.grabCursor){var V=C.container.style;V.cursor="move",V.cursor="grab",V.cursor="-moz-grab",V.cursor="-webkit-grab"}C.allowSlideClick=!0,C.allowLinks=!0;var W,X,Y,Z=!1,$=!0;C.swipeNext=function(a){!a&&b.loop&&C.fixLoop(),!a&&b.autoplay&&C.stopAutoplay(!0),C.callPlugins("onSwipeNext");var c=C.getWrapperTranslate(),d=c;if("auto"===b.slidesPerView){for(var f=0;f<C.snapGrid.length;f++)if(-c>=C.snapGrid[f]&&-c<C.snapGrid[f+1]){d=-C.snapGrid[f+1];break}}else{var g=E*b.slidesPerGroup;d=-(Math.floor(Math.abs(c)/Math.floor(g))*g+g)}return d<-e()&&(d=-e()),d===c?!1:(u(d,"next"),!0)},C.swipePrev=function(a){!a&&b.loop&&C.fixLoop(),!a&&b.autoplay&&C.stopAutoplay(!0),C.callPlugins("onSwipePrev");var c,d=Math.ceil(C.getWrapperTranslate());if("auto"===b.slidesPerView){c=0;for(var e=1;e<C.snapGrid.length;e++){if(-d===C.snapGrid[e]){c=-C.snapGrid[e-1];break}if(-d>C.snapGrid[e]&&-d<C.snapGrid[e+1]){c=-C.snapGrid[e];break}}}else{var f=E*b.slidesPerGroup;c=-(Math.ceil(-d/f)-1)*f}return c>0&&(c=0),c===d?!1:(u(c,"prev"),!0)},C.swipeReset=function(){C.callPlugins("onSwipeReset");{var a,c=C.getWrapperTranslate(),d=E*b.slidesPerGroup;-e()}if("auto"===b.slidesPerView){a=0;for(var f=0;f<C.snapGrid.length;f++){if(-c===C.snapGrid[f])return;if(-c>=C.snapGrid[f]&&-c<C.snapGrid[f+1]){a=C.positions.diff>0?-C.snapGrid[f+1]:-C.snapGrid[f];break}}-c>=C.snapGrid[C.snapGrid.length-1]&&(a=-C.snapGrid[C.snapGrid.length-1]),c<=-e()&&(a=-e())}else a=0>c?Math.round(c/d)*d:0,c<=-e()&&(a=-e());return b.scrollContainer&&(a=0>c?c:0),a<-e()&&(a=-e()),b.scrollContainer&&I>E&&(a=0),a===c?!1:(u(a,"reset"),!0)},C.swipeTo=function(a,c,d){a=parseInt(a,10),C.callPlugins("onSwipeTo",{index:a,speed:c}),b.loop&&(a+=C.loopedSlides);var f=C.getWrapperTranslate();if(!(a>C.slides.length-1||0>a)){var g;return g="auto"===b.slidesPerView?-C.slidesGrid[a]:-a*E,g<-e()&&(g=-e()),g===f?!1:(d=d===!1?!1:!0,u(g,"to",{index:a,speed:c,runCallbacks:d}),!0)}},C._queueStartCallbacks=!1,C._queueEndCallbacks=!1,C.updateActiveSlide=function(a){if(C.initialized&&0!==C.slides.length){C.previousIndex=C.activeIndex,"undefined"==typeof a&&(a=C.getWrapperTranslate()),a>0&&(a=0);var c;if("auto"===b.slidesPerView){if(C.activeIndex=C.slidesGrid.indexOf(-a),C.activeIndex<0){for(c=0;c<C.slidesGrid.length-1&&!(-a>C.slidesGrid[c]&&-a<C.slidesGrid[c+1]);c++);var d=Math.abs(C.slidesGrid[c]+a),e=Math.abs(C.slidesGrid[c+1]+a);C.activeIndex=e>=d?c:c+1}}else C.activeIndex=Math[b.visibilityFullFit?"ceil":"round"](-a/E);if(C.activeIndex===C.slides.length&&(C.activeIndex=C.slides.length-1),C.activeIndex<0&&(C.activeIndex=0),C.slides[C.activeIndex]){if(C.calcVisibleSlides(a),C.support.classList){var f;for(c=0;c<C.slides.length;c++)f=C.slides[c],f.classList.remove(b.slideActiveClass),C.visibleSlides.indexOf(f)>=0?f.classList.add(b.slideVisibleClass):f.classList.remove(b.slideVisibleClass);C.slides[C.activeIndex].classList.add(b.slideActiveClass)}else{var g=new RegExp("\\s*"+b.slideActiveClass),h=new RegExp("\\s*"+b.slideVisibleClass);for(c=0;c<C.slides.length;c++)C.slides[c].className=C.slides[c].className.replace(g,"").replace(h,""),C.visibleSlides.indexOf(C.slides[c])>=0&&(C.slides[c].className+=" "+b.slideVisibleClass);C.slides[C.activeIndex].className+=" "+b.slideActiveClass}if(b.loop){var i=C.loopedSlides;C.activeLoopIndex=C.activeIndex-i,C.activeLoopIndex>=C.slides.length-2*i&&(C.activeLoopIndex=C.slides.length-2*i-C.activeLoopIndex),C.activeLoopIndex<0&&(C.activeLoopIndex=C.slides.length-2*i+C.activeLoopIndex),C.activeLoopIndex<0&&(C.activeLoopIndex=0)}else C.activeLoopIndex=C.activeIndex;b.pagination&&C.updatePagination(a)}}},C.createPagination=function(a){if(b.paginationClickable&&C.paginationButtons&&w(),C.paginationContainer=b.pagination.nodeType?b.pagination:c(b.pagination)[0],b.createPagination){var d="",e=C.slides.length,f=e;b.loop&&(f-=2*C.loopedSlides);for(var g=0;f>g;g++)d+="<"+b.paginationElement+' class="'+b.paginationElementClass+'"></'+b.paginationElement+">";C.paginationContainer.innerHTML=d}C.paginationButtons=c("."+b.paginationElementClass,C.paginationContainer),a||C.updatePagination(),C.callPlugins("onCreatePagination"),b.paginationClickable&&x()},C.updatePagination=function(a){if(b.pagination&&!(C.slides.length<1)){var d=c("."+b.paginationActiveClass,C.paginationContainer);if(d){var e=C.paginationButtons;if(0!==e.length){for(var f=0;f<e.length;f++)e[f].className=b.paginationElementClass;var g=b.loop?C.loopedSlides:0;if(b.paginationAsRange){C.visibleSlides||C.calcVisibleSlides(a);var h,i=[];for(h=0;h<C.visibleSlides.length;h++){var j=C.slides.indexOf(C.visibleSlides[h])-g;b.loop&&0>j&&(j=C.slides.length-2*C.loopedSlides+j),b.loop&&j>=C.slides.length-2*C.loopedSlides&&(j=C.slides.length-2*C.loopedSlides-j,j=Math.abs(j)),i.push(j)}for(h=0;h<i.length;h++)e[i[h]]&&(e[i[h]].className+=" "+b.paginationVisibleClass);b.loop?void 0!==e[C.activeLoopIndex]&&(e[C.activeLoopIndex].className+=" "+b.paginationActiveClass):e[C.activeIndex].className+=" "+b.paginationActiveClass}else b.loop?e[C.activeLoopIndex]&&(e[C.activeLoopIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass):e[C.activeIndex].className+=" "+b.paginationActiveClass+" "+b.paginationVisibleClass}}}},C.calcVisibleSlides=function(a){var c=[],d=0,e=0,f=0;M&&C.wrapperLeft>0&&(a+=C.wrapperLeft),!M&&C.wrapperTop>0&&(a+=C.wrapperTop);for(var g=0;g<C.slides.length;g++){d+=e,e="auto"===b.slidesPerView?M?C.h.getWidth(C.slides[g],!0,b.roundLengths):C.h.getHeight(C.slides[g],!0,b.roundLengths):E,f=d+e;var h=!1;b.visibilityFullFit?(d>=-a&&-a+I>=f&&(h=!0),-a>=d&&f>=-a+I&&(h=!0)):(f>-a&&-a+I>=f&&(h=!0),d>=-a&&-a+I>d&&(h=!0),-a>d&&f>-a+I&&(h=!0)),h&&c.push(C.slides[g])}0===c.length&&(c=[C.slides[C.activeIndex]]),C.visibleSlides=c};var _,ab;C.startAutoplay=function(){if(C.support.transitions){if("undefined"!=typeof _)return!1;if(!b.autoplay)return;C.callPlugins("onAutoplayStart"),b.onAutoplayStart&&C.fireCallback(b.onAutoplayStart,C),z()}else{if("undefined"!=typeof ab)return!1;if(!b.autoplay)return;C.callPlugins("onAutoplayStart"),b.onAutoplayStart&&C.fireCallback(b.onAutoplayStart,C),ab=setInterval(function(){b.loop?(C.fixLoop(),C.swipeNext(!0)):C.swipeNext(!0)||(b.autoplayStopOnLast?(clearInterval(ab),ab=void 0):C.swipeTo(0))},b.autoplay)}},C.stopAutoplay=function(a){if(C.support.transitions){if(!_)return;_&&clearTimeout(_),_=void 0,a&&!b.autoplayDisableOnInteraction&&C.wrapperTransitionEnd(function(){z()}),C.callPlugins("onAutoplayStop"),b.onAutoplayStop&&C.fireCallback(b.onAutoplayStop,C)}else ab&&clearInterval(ab),ab=void 0,C.callPlugins("onAutoplayStop"),b.onAutoplayStop&&C.fireCallback(b.onAutoplayStop,C)},C.loopCreated=!1,C.removeLoopedSlides=function(){if(C.loopCreated)for(var a=0;a<C.slides.length;a++)C.slides[a].getData("looped")===!0&&C.wrapper.removeChild(C.slides[a])},C.createLoop=function(){if(0!==C.slides.length){C.loopedSlides="auto"===b.slidesPerView?b.loopedSlides||1:b.slidesPerView+b.loopAdditionalSlides,C.loopedSlides>C.slides.length&&(C.loopedSlides=C.slides.length);var a,c="",d="",e="",f=C.slides.length,g=Math.floor(C.loopedSlides/f),h=C.loopedSlides%f;for(a=0;g*f>a;a++){var i=a;if(a>=f){var j=Math.floor(a/f);i=a-f*j}e+=C.slides[i].outerHTML}for(a=0;h>a;a++)d+=t(b.slideDuplicateClass,C.slides[a].outerHTML);for(a=f-h;f>a;a++)c+=t(b.slideDuplicateClass,C.slides[a].outerHTML);var k=c+e+D.innerHTML+e+d;for(D.innerHTML=k,C.loopCreated=!0,C.calcSlides(),a=0;a<C.slides.length;a++)(a<C.loopedSlides||a>=C.slides.length-C.loopedSlides)&&C.slides[a].setData("looped",!0);C.callPlugins("onCreateLoop")}},C.fixLoop=function(){var a;C.activeIndex<C.loopedSlides?(a=C.slides.length-3*C.loopedSlides+C.activeIndex,C.swipeTo(a,0,!1)):("auto"===b.slidesPerView&&C.activeIndex>=2*C.loopedSlides||C.activeIndex>C.slides.length-2*b.slidesPerView)&&(a=-C.slides.length+C.activeIndex+C.loopedSlides,C.swipeTo(a,0,!1))},C.loadSlides=function(){var a="";C.activeLoaderIndex=0;for(var c=b.loader.slides,d=b.loader.loadAllSlides?c.length:b.slidesPerView*(1+b.loader.surroundGroups),e=0;d>e;e++)a+="outer"===b.loader.slidesHTMLType?c[e]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+e+'">'+c[e]+"</"+b.slideElement+">";C.wrapper.innerHTML=a,C.calcSlides(!0),b.loader.loadAllSlides||C.wrapperTransitionEnd(C.reloadSlides,!0)},C.reloadSlides=function(){var a=b.loader.slides,c=parseInt(C.activeSlide().data("swiperindex"),10);if(!(0>c||c>a.length-1)){C.activeLoaderIndex=c;var d=Math.max(0,c-b.slidesPerView*b.loader.surroundGroups),e=Math.min(c+b.slidesPerView*(1+b.loader.surroundGroups)-1,a.length-1);if(c>0){var f=-E*(c-d);C.setWrapperTranslate(f),C.setWrapperTransition(0)}var g;if("reload"===b.loader.logic){C.wrapper.innerHTML="";var h="";for(g=d;e>=g;g++)h+="outer"===b.loader.slidesHTMLType?a[g]:"<"+b.slideElement+' class="'+b.slideClass+'" data-swiperindex="'+g+'">'+a[g]+"</"+b.slideElement+">";C.wrapper.innerHTML=h}else{var i=1e3,j=0;for(g=0;g<C.slides.length;g++){var k=C.slides[g].data("swiperindex");d>k||k>e?C.wrapper.removeChild(C.slides[g]):(i=Math.min(k,i),j=Math.max(k,j))}for(g=d;e>=g;g++){var l;i>g&&(l=document.createElement(b.slideElement),l.className=b.slideClass,l.setAttribute("data-swiperindex",g),l.innerHTML=a[g],C.wrapper.insertBefore(l,C.wrapper.firstChild)),g>j&&(l=document.createElement(b.slideElement),l.className=b.slideClass,l.setAttribute("data-swiperindex",g),l.innerHTML=a[g],C.wrapper.appendChild(l))}}C.reInit(!0)}},A()}};Swiper.prototype={plugins:{},wrapperTransitionEnd:function(a,b){"use strict";function c(h){if(h.target===f&&(a(e),e.params.queueEndCallbacks&&(e._queueEndCallbacks=!1),!b))for(d=0;d<g.length;d++)e.h.removeEventListener(f,g[d],c)}var d,e=this,f=e.wrapper,g=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(a)for(d=0;d<g.length;d++)e.h.addEventListener(f,g[d],c)},getWrapperTranslate:function(a){"use strict";var b,c,d,e,f=this.wrapper;return"undefined"==typeof a&&(a="horizontal"===this.params.mode?"x":"y"),this.support.transforms&&this.params.useCSS3Transforms?(d=window.getComputedStyle(f,null),window.WebKitCSSMatrix?e=new WebKitCSSMatrix("none"===d.webkitTransform?"":d.webkitTransform):(e=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),b=e.toString().split(",")),"x"===a&&(c=window.WebKitCSSMatrix?e.m41:parseFloat(16===b.length?b[12]:b[4])),"y"===a&&(c=window.WebKitCSSMatrix?e.m42:parseFloat(16===b.length?b[13]:b[5]))):("x"===a&&(c=parseFloat(f.style.left,10)||0),"y"===a&&(c=parseFloat(f.style.top,10)||0)),c||0},setWrapperTranslate:function(a,b,c){"use strict";var d,e=this.wrapper.style,f={x:0,y:0,z:0};3===arguments.length?(f.x=a,f.y=b,f.z=c):("undefined"==typeof b&&(b="horizontal"===this.params.mode?"x":"y"),f[b]=a),this.support.transforms&&this.params.useCSS3Transforms?(d=this.support.transforms3d?"translate3d("+f.x+"px, "+f.y+"px, "+f.z+"px)":"translate("+f.x+"px, "+f.y+"px)",e.webkitTransform=e.MsTransform=e.msTransform=e.MozTransform=e.OTransform=e.transform=d):(e.left=f.x+"px",e.top=f.y+"px"),this.callPlugins("onSetWrapperTransform",f),this.params.onSetWrapperTransform&&this.fireCallback(this.params.onSetWrapperTransform,this,f)},setWrapperTransition:function(a){"use strict";var b=this.wrapper.style;b.webkitTransitionDuration=b.MsTransitionDuration=b.msTransitionDuration=b.MozTransitionDuration=b.OTransitionDuration=b.transitionDuration=a/1e3+"s",this.callPlugins("onSetWrapperTransition",{duration:a}),this.params.onSetWrapperTransition&&this.fireCallback(this.params.onSetWrapperTransition,this,a)},h:{getWidth:function(a,b,c){"use strict";var d=window.getComputedStyle(a,null).getPropertyValue("width"),e=parseFloat(d);return(isNaN(e)||d.indexOf("%")>0||0>e)&&(e=a.offsetWidth-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),b&&(e+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-right"))),c?Math.ceil(e):e},getHeight:function(a,b,c){"use strict";if(b)return a.offsetHeight;var d=window.getComputedStyle(a,null).getPropertyValue("height"),e=parseFloat(d);return(isNaN(e)||d.indexOf("%")>0||0>e)&&(e=a.offsetHeight-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),b&&(e+=parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(a,null).getPropertyValue("padding-bottom"))),c?Math.ceil(e):e},getOffset:function(a){"use strict";var b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return document.documentElement&&!window.pageYOffset&&(f=document.documentElement.scrollTop,g=document.documentElement.scrollLeft),{top:b.top+f-d,left:b.left+g-e}},windowWidth:function(){"use strict";return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){"use strict";return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){"use strict";return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(a,b,c,d){"use strict";"undefined"==typeof d&&(d=!1),a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},removeEventListener:function(a,b,c,d){"use strict";"undefined"==typeof d&&(d=!1),a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)}},setTransform:function(a,b){"use strict";var c=a.style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=b},setTranslate:function(a,b){"use strict";var c=a.style,d={x:b.x||0,y:b.y||0,z:b.z||0},e=this.support.transforms3d?"translate3d("+d.x+"px,"+d.y+"px,"+d.z+"px)":"translate("+d.x+"px,"+d.y+"px)";c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=e,this.support.transforms||(c.left=d.x+"px",c.top=d.y+"px")},setTransition:function(a,b){"use strict";var c=a.style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms"},support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){"use strict";return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){"use strict";var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),transforms:window.Modernizr&&Modernizr.csstransforms===!0||function(){"use strict";var a=document.createElement("div").style;return"transform"in a||"WebkitTransform"in a||"MozTransform"in a||"msTransform"in a||"MsTransform"in a||"OTransform"in a}(),transitions:window.Modernizr&&Modernizr.csstransitions===!0||function(){"use strict";var a=document.createElement("div").style;return"transition"in a||"WebkitTransition"in a||"MozTransition"in a||"msTransition"in a||"MsTransition"in a||"OTransition"in a}(),classList:function(){"use strict";var a=document.createElement("div");return"classList"in a}()},browser:{ie8:function(){"use strict";var a=-1;if("Microsoft Internet Explorer"===navigator.appName){var b=navigator.userAgent,c=new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/);null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return-1!==a&&9>a}(),ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled}},(window.jQuery||window.Zepto)&&!function(a){"use strict";a.fn.swiper=function(b){var c;return this.each(function(d){var e=a(this);if(!e.data("swiper")){var f=new Swiper(e[0],b);d||(c=f),e.data("swiper",f)}}),c}}(window.jQuery||window.Zepto),"undefined"!=typeof module&&(module.exports=Swiper),"function"==typeof define&&define.amd&&define([],function(){"use strict";return Swiper});(function(HP){'use strict';HP.external=HP.external||{};HP.external.Swiper=Swiper;}(window.HP||(window.HP={})));(function($,can,HP){HP.Molecule411=can.Control({defaults:{query:'',templateType:'',filterBtnTpl:['<li>','<a href="javascript:void(0)" class="<%= data.category %>">','<span><%= data.btnText %></span>','</a>','</li>'],categoryIconTpl:'<a href="javascript:void(0)" class="<%= category %>"></a>'},vars:{allCategories:{},listOfCategories:[],filteredCategory:'all',visibleRows:5,moreStep:5,itemsPerRow:3,oneItemIndicator:null,twoItemsIndicator:null,feturedItem:null,pinnableEl:null,feturedItemIndex:2}},{'init':function(element,options){this.tilesContainer=this.element.find('.all-tiles')
this.items=this.tilesContainer.find('.item');this.buttonsList=this.element.find('.headings>ul')
this.updateCategories();this.updateFeaturedItemPosition();this.addRowIndicators();this.buildFilterButtons();this.updateItemsPerRow();this.addListeners();this.replaceHeadings();this.initStickyBehaviour();},updateCategories:function(){var self=this,categoriesIcons='';this.items.each(function(){var categories=$(this).data('category')?$(this).data('category').split('|'):[],imgWrapper=$(this).find('.image-wrapper'),iconHtml='';for(var i=0;i<categories.length;i++){var category=categories[i].split('=')[0],btnText=categories[i].split('=')[1];iconHtml+=can.view.ejs(self.options.categoryIconTpl).render({category:category});if(!self.allCategories[category]){self.listOfCategories.push({category:category,btnText:btnText});self.allCategories[category]=true;}}
imgWrapper.prepend('<div class="categories">'+iconHtml+'</div>');});},updateFeaturedItemPosition:function(){featuredItem=this.element.find('.item.featured');if(featuredItem.length){this.feturedItemIndex=featuredItem.index();this.moveItemToIndex(0);}},moveItemToIndex:function(index){if(index===0){this.tilesContainer.prepend(featuredItem);}else{var visibleItems=this.tilesContainer.find('.item:not(:hidden):not(.featured)'),index=visibleItems.length<=1?0:index;featuredItem.removeClass('hidden').insertAfter(this.tilesContainer.find('.item:not(:hidden):not(.featured)').eq(index-1));}},replaceHeadings:function(){this.element.parents('.section').addClass('full molecule-411-holder').prepend(this.element.find('.headings'));this.pinnableEl=this.element.parents('.molecule-411-holder');this.pinnableEl.find('.headings').wrap('<div class="pinnable-row"></div>');},buildFilterButtons:function(){var html='';for(var i=0;i<this.listOfCategories.length;i++){html+=can.view.ejs(this.options.filterBtnTpl.join('')).render({data:this.listOfCategories[i]});}
this.buttonsList.append(html);var activeCategory=this.element.find('.headings a.all');activeCategory.parent('li').addClass('active');},addListeners:function(){var self=this;this.element.find('.headings a').on('click',function(){$('.molecule-411-holder .headings li').removeClass('active');$(this).parent('li').addClass('active');var category=$(this).attr('class');if(category){self.updateSortedList(category);}});this.element.find('.load-more').on('click',function(){self.loadMore();});if(!isIE8&&!isIE7){$(window).on('resize',$.throttle(250,self.updateItemsPerRow.bind(self)));}},addRowIndicators:function(){this.element.prepend('<div class="one-item"></div><div class="two-items"></div>');this.oneItemIndicator=this.element.find('.one-item');this.twoItemsIndicator=this.element.find('.two-items');},updateSortedList:function(category){if(this.filteredCategory!=category){var self=this;this.items.hide();if(category=='all'){this.items.fadeIn(300);}else{this.items.each(function(){var categories=$(this).data('category').split('|');if($(this).hasClass('featured')){$(this).fadeIn(300);}
for(var i=0;i<categories.length;i++){if(categories[i].split('=')[0]==category){$(this).fadeIn(300);break;}}})}
this.filteredCategory=category;this.updateItemsPerRow();}},updateItemsPerRow:function(){var itemsToHide,hideIndex,shiftFeaturedTo=0;if(this.oneItemIndicator.is(':visible')){shiftFeaturedTo=this.feturedItemIndex;this.itemsPerRow=1;}else if(this.twoItemsIndicator.is(':visible')){this.itemsPerRow=2;}else{this.itemsPerRow=3;}
this.items.removeClass('hidden');hideIndex=this.visibleRows*this.itemsPerRow-1;this.moveItemToIndex(shiftFeaturedTo);itemsToHide=this.element.find('.item:visible:gt('+hideIndex+')');if(itemsToHide.length){itemsToHide.addClass('hidden');this.element.find('.load-more').show();}else{this.element.find('.load-more').hide();}
if(this.tilesContainer.find('.item:visible').length==2&&this.itemsPerRow==3){this.tilesContainer.addClass('less-content');}else{this.tilesContainer.removeClass('less-content');}},initStickyBehaviour:function(){var self=this,_document=$(window);if(this.pinnableEl){$(window).on("scroll",function(){self.updateHeadingsHeight();self.pinUnpin();});$(window).on('resize',$.throttle(250,self.updateHeadingsHeight.bind(self)));$(window).on('resize',$.throttle(250,self.pinUnpin.bind(self)));}},updateHeadingsHeight:function(){this.pinnableEl.find('.pinnable-row').css({'min-height':this.pinnableEl.find('.headings').outerHeight()+'px'});},pinUnpin:function(){var offset=this.pinnableEl.length?this.pinnableEl.offset().top:0,secNav=$('.sec-nav-fix .pinned'),additionalOffset=secNav.length?secNav.outerHeight():0;var shouldBePinned=false,documentOffset=$(window).scrollTop();if(documentOffset+additionalOffset>=offset){shouldBePinned=true;}
this.pinnableEl[shouldBePinned===true?'addClass':'removeClass']('pinned').find('.headings').css({'top':additionalOffset+'px'});},loadMore:function(){this.visibleRows+=this.moreStep;this.updateItemsPerRow();}});}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.largeThumbnail=function(){$(function(){$(".large-video-thumbnail").each(function(){var $img=$(this).find("img");if(($img.attr('height')=="58")&&($img.attr('width')=="103"))
{$(this).addClass("img-hasmetadata");}
else
{$(this).addClass("img-nometadata");}})})}})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){HP.removeMargin=function(){$(".rtl-page .molecule-800 .row > div").eq(0).addClass("nomargin-right");$(".rtl-page .molecule-822 > div").eq(0).addClass("nomargin-right");}}(jQuery,can,window.HP||(window.HP={})));(function($,can,HP){HP.percentWidth=can.Control({defaults:{moduleWidth:1233,thumbnailImgSelector:'.image-holder img'}},{'init':function(element,options){this.resizeTimer=null;this.moduleNode=$(element);this.textblock=this.moduleNode.find('.content-wrapper');this.imageHolder=this.moduleNode.find('.image-holder');var thumbnailImg=this.moduleNode.find(this.options.thumbnailImgSelector);var self=this;if(thumbnailImg.length){if(!thumbnailImg[0].complete){if(window.isFF){var onLoadFFfallback=function(){if(!thumbnailImg[0].complete){setTimeout(onLoadFFfallback,250);}else{self.setPercentWidth();}}
onLoadFFfallback();}else{thumbnailImg.on('load',$.proxy(this.setPercentWidth,this));}}else{this.setPercentWidth();}}
this.moduleNode.parents('.js_tab_content').on('show',function(){self.setPercentWidth();});},'setPercentWidth':function(){if(!this.moduleNode.find(this.options.thumbnailImgSelector).length){return;}
this.imageHolder.css('width','');var imgWidth=this.moduleNode.find(this.options.thumbnailImgSelector).width();var imageWidthInPecents=(100*imgWidth/this.options.moduleWidth+0.005).toFixed(2);var textBlockWidth=100-imageWidthInPecents;this.imageHolder.css('width',imageWidthInPecents+'%');this.textblock.css('width',textBlockWidth+'%');if(this.resizeFunction){this.resizeFunction();}}});})(can.$,can,window.HP||(window.HP={}));(function($,can,HP){HP.featureExpand=HP.percentWidth({defaults:{moduleSelector:'.molecule-310',thumbnailImgSelector:'.image-holder .video-thumbnail img, .image-holder>img'}},{'init':function(element,options){this.resizeTimer=null;this.isLeftImage=element.hasClass('.image-left').length;this.isRightImage=element.hasClass('.image-right').length;this.moduleNode=$(element);this.isTextblockFirst=$(element).find('.middle-aligned-cells div').first().hasClass('text-block');this.textblock=this.moduleNode.find('.text-block.content-wrapper');this.itemHolder=this.moduleNode.find('.items-holder');this.imageHolder=this.moduleNode.find('.image-holder');var thumbnailImg=this.moduleNode.find(this.options.thumbnailImgSelector);var self=this;if(thumbnailImg.length){if(!thumbnailImg[0].complete){if(window.isFF){var onLoadFFfallback=function(){if(!thumbnailImg[0].complete){setTimeout(onLoadFFfallback,250);}else{self.setPercentWidth();}}
onLoadFFfallback();}else{thumbnailImg.on('load',$.proxy(this.setPercentWidth,this));}}else{this.setPercentWidth();}}else{this.resizeFunction();}},'{window} resize':function(){clearTimeout(this.resizeTimer);this.resizeTimer=setTimeout($.proxy(this.resizeFunction,this),250);},'getWindowWidth':function(){var windowWidth=$(window).width();if(window.isFF){windowWidth=$("body").outerWidth();}else if(window.isIE){windowWidth=$("body").outerWidth();}else if(window.isIE9){windowWidth=$("body").outerWidth()+17;}else if(window.isCHROME){windowWidth=$(window).width()+(isIE===true?0:17)}
return windowWidth;},'resizeFunction':function resizeFunction(){var leftDelta=$(window).width()+(isIE===true?0:17)-1920,topOffset=62,holderOffset=0,step=2,self=this,windowWidth=self.getWindowWidth(),parentHeight=0;this.itemsHolderToBottom();if(windowWidth<800){return;}
this.moduleNode.find('.items-holder .item').each(function(){var item=$(this),isImageHolderFirst=item.parents('.image-holder.first').length,topPosition=item.attr('data-position').split(',')[1],leftPosition=item.attr('data-position').split(',')[0],width=item.attr('data-width'),leftOffset=item.parent().offset().left;var rate=windowWidth/1280;if(isImageHolderFirst){if(self.isRightImage){leftDelta=leftDelta+15;topOffset=485;if(windowWidth<=1280){leftDelta=leftDelta+15;if(item.find('img').length>0){topOffset=topOffset*rate;leftDelta=leftDelta-100;width=width*rate;}}}else{topOffset=485;if(windowWidth<=1431&&windowWidth>=1281){leftDelta=-490;}
if(windowWidth<=1280){leftDelta=leftDelta+450;if(item.find('img').length>0){topOffset=topOffset*rate;leftDelta=leftDelta-270;width=width*rate;}}}}else{if(windowWidth<=1431){leftDelta=-489;}
if(windowWidth<=1280){topOffset=-3;leftDelta=0;leftOffset+=300;if(item.find('img').length>0){width=width*rate;}
if(windowWidth<=800&&item.find('img').length>0){width=width*rate;}}}
if(item.parents(".image-holder").hasClass("first")){item.css('top',(parseInt(topPosition)-topOffset)+'px');}
else{if(windowWidth<=1280){item.css('top',(parseInt(topPosition)-topOffset-30)*rate+'px');}else{item.css('top',(parseInt(topPosition)-topOffset-30)+'px');}}
item.css('left',(parseInt(leftPosition)+(leftDelta/step)-leftOffset)+'px');item.css('width',(parseInt(width))+'px');holderOffset=$(this).offset().top-$(this).parent().offset().top;if(holderOffset+$(this).height()>parentHeight){parentHeight=holderOffset+$(this).height();}
if($(item).width()+$(item).offset().left+17>=windowWidth){item.css('left',((parseInt(leftPosition)+(leftDelta/step)-leftOffset)-(20+$(item).width()+$(item).offset().left-windowWidth))+'px');}});this.moduleNode.find('.items-holder').css('height',(parentHeight)+'px');},'itemsHolderToBottom':function(){if(!this.moduleNode.hasClass('show-items-holder')){return;}
var textblock=this.moduleNode.find('.text-block.content-wrapper');var itemHolder=this.moduleNode.find('.items-holder');var imageHolder=this.moduleNode.find('.image-holder');if(imageHolder.parent().hasClass('text-block')){return;}
if(window.innerWidth<800){textblock.insertBefore(itemHolder);}else{if(textblock.parent().hasClass('middle-aligned-cells')){return;}
if(this.isTextblockFirst){textblock.insertBefore(imageHolder);}else{textblock.insertAfter(imageHolder);}}}});})(can.$,can,window.HP||(window.HP={}));jQuery(function(){if(HP.Skype&&!HP.pageConfig.get('enableSkypeClickToCall')){HP.Skype.disableClickToCall();}
HP.meta={pageType:"FLEX2",isEnterprise:(typeof $.fn.portfolioSlider=="function")};window.slideshare_embed_show=1;$('.js_secondary_nav').each(function(){if($(this).parents('.js_secondary_nav').length>0){$(this).parents('.js_secondary_nav').attr('class','sec-nav-fix');}});$('body').addClass($('html').attr('dir')=='rtl'?'rtl-page':'');if(window.location.search.indexOf('hide_item')!=-1){$('.hidden-item').addClass('hidden');}
HP.Control.init(HP.ResponsiveAdapter,'.responsive',{});HP.ResponsiveAdapter.bindHpResizer();new HP.transformTileStructure('.molecule-407:not(.dynamic-placeholder)');new HP.responsiveBehaviour();$('.molecule-hpi-800').addClass('molecule-800');if(!$('body').hasClass('responsive')){new HP.removeInappropriateSpan24('.molecule-425');new HP.removeInappropriateSpan24('.molecule-801');new HP.removeMargin();}
new HP.ignoreInlineHeight();new HP.setSliderPosition('.molecule-201');new HP.setSliderPosition('.molecule-822');new HP.trackNonGatedLinks();HP.Control.init(HP.metricsFlex2,"body #content .body",HP.MetricsParamsFLEX2||{});HP.BCHTML5Factory.init();new HP.oneHeightModulesInOneRow(".molecule-800",".molecule-hpi-quote,.molecule-501",false,true);new HP.oneHeightModulesInOneRow(".molecule-800",".molecule-hpi-quote,.molecule-hpi-501",false,true);new HP.oneHeightModulesInOneRow(".molecule-800",".molecule-302");new HP.oneHeightModulesInOneRow(".molecule-800",".molecule-hpi-302");new HP.SecondaryNavigationSelectableConfig();HP.Control.init(HP.BreadCrumbs,'.breadcrumbs',{});HP.Control.init(HP.productSlider,'.molecule-926 .js_menu_holder',{});HP.Control.init(HP.productSlider,'.molecule-831 .js_menu_holder',{adjustItems:true});new HP.oneHeightModulesInOneRow('.molecule-831','a.not-current, a.current');HP.Control.init(HP.SliderFactory,".js-slider, .js-grid-slider",{});HP.Control.init(HP.TwitterFeed,".js-twitter-feed",{bkgColorType:''});HP.Control.init(HP.BlogFeedFlex2,".js-blog-feed",{});HP.Control.init(HP.ExtendedTabs,".molecule-811 .js_tabs, .molecule-825 .js_tabs",{enableHashUpdate:false,targetActiveClass:'shown',enableTitleChange:false});HP.Control.init(HP.ExtendedTabs,".js_tabs:not(.molecule-825 .js_tabs, .molecule-811 .js_tabs, .molecule-802 .js_tabs )",{enableHashUpdate:false,enableTitleChange:false});HP.Control.init(HP.Tabslide,".js_tabs:not(.molecule-825 .js_tabs, .molecule-811 .js_tabs )",{enableHashUpdate:false,breakpoint:0,enableTitleChange:false});HP.Control.init(HP.Flex2Carousel,".js-carousel",{});HP.Control.init(HP.LightBoxWithIframe,'.js-iframe-popup-trigger, .iframe-popup-trigger',{});HP.Control.init(HP.SecondaryNavigationResponsive,".responsive .js_secondary_nav.responsive-sec-nav",{});HP.Control.init(HP.SecondaryNavigation,'.js_secondary_nav:not(.responsive-sec-nav)',{pinnable:true});HP.Control.init(HP.ProgDisc,'.js_prog_disc',{autoHideItems:true,triggerSelector:'.js_prog_disc_trigger',targetSelector:'.js_prog_disc_target',expandAllSelector:'.js_prog_disc_expand_all',collapseAllSelector:'.js_prog_disc_collapse_all'});jQuery('.molecule-800.mobile_cloud_map_style .js_prog_disc_target').css('display','none');jQuery('.molecule-800.mobile_cloud_map_style .js_prog_disc_trigger.opened').removeClass('opened');HP.Control.init(HP.LogosSeparator,".logos",{separationType:'separateStreigth'});HP.Control.init(HP.ShowHide,'.js_show_hide',{triggerSelector:'.js_show_hide_trigger',targetSelector:'.js_show_hide_target'});HP.Control.init(HP.NavigationMenu,".js_secondary_nav:not(.responsive-sec-nav) .selectable",{pinnable:true});HP.Control.init(HP.ApplicationGallery,".js-app-gallery",{});HP.Control.init(HP.Dropdown,'.dropdown',{containerActiveClass:'opened',onLoadRecalc:true,itemsMaxLimit:6});HP.Control.init(HP.Select,'.select',{disabledClass:'js-disabled',containerActiveClass:'opened',inputSelector:'.js-dd-input',labelSelector:'.js-dd-input-label',itemSelector:'.dd-item'});HP.Control.init(HP.EmbeddedVideo,".js_embedded_trigger",{});HP.Control.init(HP.AddFBLike,".molecule-611",{});HP.Control.init(HP.HotSpots,".molecule-206",{});HP.Control.init(HP.Expander,".js-expander",{});HP.Control.init(HP.SlideShare.Presentation,$(".js-slideshare-presentation"));HP.Control.init(HP.SlideShare.Popup,$(".js-slideshare-popup-trigger"),{});HP.Control.init(HP.SlideShare.Embedded,$(".js-slideshare-trigger"),{});HP.Control.init(HP.SwipeHolder,".molecule-823 .rows-wrapper, .molecule-hpi-823 .rows-wrapper, .prevent-grid-wrap",{});HP.Control.init(HP.LithiumRetriever,".molecule-604",{});HP.Control.init(HP.Molecule411,".molecule-411:not(.no-filtering)",{});HP.Control.init(HP.SimpleTabs,".simple-tabs",{enableHash:false});HP.Control.init(HP.featureExpand,".molecule-310",{});HP.Control.init(HP.featureExpand,".molecule-hpi-310",{});HP.Control.init(HP.percentWidth,".molecule-302, .molecule-hpi-302, .molecule-hpi-303, .molecule-303",{});HP.Control.init(HP.RulerVerticalContent,".ruler-vertical-content",{});function updateMolecule501(){$('.molecule-501').find('.video-thumbnail.video-size5').removeClass('video-size5');$('.molecule-hpi-501').find('.video-thumbnail.video-size5').removeClass('video-size5');}
updateMolecule501();$(window).trigger('mainJs.loaded');});$(window).on('load',function(){new HP.setOneHeightForMolecules(".molecule-502");new HP.setOneHeightForMolecules(".molecule-503:not(.molecule-803 .molecule-503):not(.molecule-hpi-803 .molecule-503)");HP.Control.init(HP.detailPricing,".molecule-929");HP.Control.init(HP.detailPricing,".molecule-hpi-929",{isHPI:true});new HP.restoreOriginalTitle();HP.Brightcove.initPlayers();HP.Control.init(HP.YTPlayer,".youtube-video-template");new HP.oneHeightModulesInOneRow(".molecule-800",".molecule-hpi-quote,.molecule-501",false,true);new HP.oneHeightModulesInOneRow(".molecule-800",".molecule-hpi-quote,.molecule-hpi-501",false,true);new HP.oneHeightModulesInOneRow(".one-height-boxes",".molecule-hpi-929, .molecule-hpi-508,.molecule-hpi-511",false,true);new HP.oneHeightModulesInOneRow(".fixed-bottom-button",".molecule-hpi-929",false,true);new HP.oneHeightModulesInOneRow(".molecule-800",".molecule-302");new HP.oneHeightModulesInOneRow(".molecule-800",".molecule-hpi-302");new HP.oneHeightModulesInOneRow(".molecule-824",".row.thumbs-container",true,true);new HP.oneHeightModulesInOneRow(".molecule-430",".nav-slider > a",true);if(hpmmd&&hpmmd.page.name.indexOf('welcome-home')!=-1){var banners=$('.flex-content');$.each(banners,function(index,ele){$(ele).attr('data-metrics-position','s'+(index+1));});HP.HomepageMetrics.init($('body #content .body'));}
$(window).trigger('windowLoaded');});(function(){new HP.Anchors();new HP.largeThumbnail();})();$(document).ready(function(){if($(".stickynav").size()>0){$(".stickynav").parents(".row").wrapAll('<div class="fixedrow" />')
var elOfsetTop=$(".fixedrow .secondary-nav-widget").offset().top;$(window).scroll(function(){var scrollPos=$(window).scrollTop();if(scrollPos>elOfsetTop){$(".fixedrow").addClass("fixednav");}
else{$(".fixedrow").removeClass("fixednav");}})}
initStickyTopbar();initTopnavButton();function initStickyTopbar(){var topbar=$('.sticky-nav'),caasHeader=$('#header'),w=$(window);if(topbar.length){w.on('scroll',function(){if(w.scrollTop()>72){topbar.addClass('fixed');caasHeader.css("margin-bottom",topbar.outerHeight(true));}else{topbar.removeClass('fixed');caasHeader.css("margin-bottom",0);}});}}
function initTopnavButton(){var topnav=$('.topnav');topnav.find('button').click(function(){topnav.toggleClass('opened');});}});!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");!function(e){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],e):"object"==typeof exports?e(require("jquery"),require("hammerjs")):e(jQuery,Hammer)}(function(e,t){function n(n,r){var i=e(n);i.data("hammer")||i.data("hammer",new t(i[0],r))}
e.fn.hammer=function(e){return this.each(function(){n(this,e)})},t.Manager.prototype.emit=function(t){return function(n,r){t.call(this,n,r),e(this.element).trigger({type:n,gesture:r})}}(t.Manager.prototype.emit)});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}
if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}
return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}
function c(){f=null}
function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}
var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)
for(var j=g.length;j;)
a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)
for(var c=h.length;c;)
this.addEventListener(h[--c],b,!1);else
this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)
for(var c=h.length;c;)
this.removeEventListener(h[--c],b,!1);else
this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(e){var t="function"==typeof define&&define.amd&&(define(["jquery"],e)||!0),n=!t&&"object"==typeof module&&"object"==typeof module.exports&&(module.exports=e);!t&&!n&&e()}(function(){return jQuery.reel||function(e,t,n,r){function i(e){return _.instances.push(e[0])&&e}function a(e){return(_.instances=_.instances.not(b(e.attr(Mt))))&&e}function o(e){return _.instances.first().data(e)}function u(e){return"data:image/gif;base64,R0lGODlh"+e}function c(e){return"<"+e+"/>"}function s(e){return"."+(e||"")}function l(e){return e.replace(Rt,_.cdn)}function f(e){return"url('"+k(e)+"')"}function d(e,t){return typeof t==Pt?t[e]:t}function g(e,t,n){return J(e,G(t,n))}function p(e,t){return K(e)*(t?-1:1)}function h(e){return e.touch||e.originalEvent.touches&&e.originalEvent.touches[0]||e}function v(e){return e.originalEvent}function m(e){return e===r?0:typeof e==Zt?e:e+"px"}function b(e){return"#"+e}function y(e,t,n){for(;e.length<t;)e=n+e;return e}function w(e){return y(e,2,"0")}function k(e){return encodeURI(decodeURI(e))}function x(e){return _.re.array.exec(e)?e.split(_.re.array):e}function A(e){return!e.parents(Ht).length}function C(t){return typeof t==Zt?t:e.each(t,function(e,n){t[e]=n?+n:r})}function j(e){try{console.error("[ Reel ] "+e)}catch(t){}}if(e){var z=e&&e().jquery.split(/\./);if(!z||+(w(z[0])+w(z[1])+w(z[2]||""))<10602)return j("Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher");var T,_=e.reel={version:"1.3.0",def:{frame:1,frames:755,loops:!0,clickfree:!1,draggable:!0,scrollable:!1,steppable:!0,throwable:!0,wheelable:!1,orientable:!1,cw:!1,revolution:r,stitched:0,directional:!1,row:1,rows:0,rowlock:!1,framelock:!1,orbital:0,vertical:!1,inversed:!1,footage:6,spacing:0,horizontal:!0,suffix:"-reel",image:r,images:"img-0####.jpg",path:"img/",preload:"linear",shy:!1,speed:0,delay:0,timeout:2,duration:r,rebound:.5,entry:r,opening:0,brake:.23,velocity:0,tempo:36,laziness:6,cursor:r,hint:"",indicator:0,klass:"",preloader:2,area:r,attr:{},annotations:r,responsive:!1,graph:r,monitor:r},scan:function(){return e(s(U)+":not("+s(H)+" > "+s(U)+")").each(function(t,n){var r=e(n),i=r.data(),a=(i.images=x(i.images),{});e(s(N)+"[data-for="+r.attr(Mt)+"]").each(function(t,n){var r=e(n),i=r.data(),o=(i.x=C(x(i.x)),i.y=C(x(i.y)),r.attr(Mt));i.node=r.removeData();a[o]=i}),i.annotations=a,r.removeData().reel(i)})},fn:{reel:function(){var n=arguments,u=e(this),g=u.data(),y=n[0]||{},w=n[1];if("object"!=typeof y)return":"==y.slice(0,1)?u.trigger(y.slice(1),w):1==n.length?g[y]:(w!==r&&(_.normal[y]&&(w=_.normal[y](w,g)),g[y]===r?g[y]=w:g[y]!==w&&u.trigger(y+"Change",[r,g[y]=w])),u);var x=e.extend({},_.def,y),C=u.filter(Qt).unreel().filter(function(){var t=e(this),n=x.attr,r=n.src||t.attr(Je),i=n.width||t.attr(ze)||t.width(),a=n.height||t.attr(ft)||t.height();return r?i&&a?!0:j("Dimension(s) of the target image unknown"):j("`src` attribute missing on target image")}),z=[];return C.each(function(){var n,u,g,y=e(this),w=function(e,t){return y.reel(e,t)&&C(e)},C=function(e){return y.data(e)},j={setup:function(t){if(!y.hasClass(U)||!y.parent().hasClass(H)){w(Ue,x);var n={src:y.attr(Je),width:y.attr(ft)||null,height:y.attr(ze)||null,style:y.attr(rt)||null,"class":y.attr(fe)||null},r=y.attr(x.attr).attr(Je),a=w(Mt,y.attr(Mt)||y.attr(Mt,U+"-"+(+new Date)).attr(Mt)),o=e.extend({},y.data()),u=w($e,x.images||[]),l=w(Ve,x.stitched),f=!u.length||l,g=w(Ne,x.responsive&&(L?!0:!f)),h=w(ct,{}),v=x.loops,k=x.orbital,A=x.revolution,T=x.rows,$=w(ke,G(x.footage,x.frames)),I=(w(Ye,x.spacing),w(ft,+y.attr(ft)||y.width())),q=w(ze,+y.attr(ze)||y.height()),R=w(Xe,x.shy),E=w(je,k&&$||1>=T&&u.length||x.frames),Q=T>1||k,T=(w(Pe,d("x",A)||l/2||.95*I),w(Ze,Q?d("y",A)||(T>3?q:q/(5-T)):0),l?1:Y(E/$)),S=(w(tt,l-(v?0:I)),w(et,0),b(a+x.suffix)),F=y.attr(fe),N=F?F+Dt:_t,P=e(c(Et),{id:S.substr(1),"class":N+Dt+H+Dt+B+"0"}),Z=y.wrap(P.addClass(x.klass)).addClass(U),P=(z.push(i(Z)[0]),Z.parent().bind(j.instance));w(De,u.length?_t:x.image||r.replace(_.re.image,"$1"+x.suffix+".$2")),w(ce,e(c(Et),{"class":M}).appendTo("body")),w(ne,e()),w(se,[]),w(Ae,null),w(xe,null),w(Be,x.row),w(ot,0),w(We,T),w(Oe,x.rowlock),w(Ce,x.framelock),w(be,w(ye,w(we,0))),w(oe,1/E),w(Ke,S),w(ae,w(Ge,x.speed)<0),w(qe,!1),w(st,0),w(lt,x.vertical),w(Me,0),w(me,p(1,!x.cw&&!l)),w(pe,{}),w(ge,!1),w(he,w(ve,0)),w(Ie,w(Te,0)),w(Se,!1),w(Fe,!1),w(Ee,!1),w(ue,x.brake),w(le,!!k),w(it,x.tempo/(_.lazy?x.laziness:1)),w(Le,-1),w(at,-1),w(te,x.annotations||P.unbind(s(te))&&{}),w(Qe,1),w(ie,{attr:n,data:o}),x.steppable||P.unbind("up.steppable"),x.indicator||P.unbind(".indicator"),Kt(_t,{overflow:_e,position:"relative"}),g||Kt(_t,{width:I,height:q}),g&&e.each(Bt,function(e,t){h[t]=C(t)}),Kt($t+Dt+s(U),{display:qt}),Kt(s(M),{position:"fixed",left:m(-100),top:m(-100)},!0),Kt(s(M)+Dt+Qt,{position:It,width:10,height:10},!0),D.bind(j.pool),y.trigger(R?"prepare":"setup")}},instance:{teardown:function(n){var r=y.data(ie);y.parent().unbind(j.instance),C(Xe)?y.parent().unbind(de,I):C(rt).remove()&&C(ne).unbind(dt),C(ce).empty(),clearTimeout(u),clearTimeout(g),e(t).unbind(Tt,un),e(t).unbind(dt),D.unbind(j.pool),dn.unbind(gt),y.siblings().unbind(dt).remove(),rn(),y.removeAttr("onloaded"),a(y.unbind(dt).removeData().unwrap().attr(r.attr).data(r.data)),y.attr(rt)==_t&&y.removeAttr(rt)},setup:function(n){function i(e){return y.trigger("down",[h(e).clientX,h(e).clientY,e])&&e.give}function a(e,t){return!t||y.trigger("wheel",[t,e])&&e.give}var o=y.parent().append(Ft()),u=w(ne,e(x.area||o)),f=x.rows>1,d=x.cursor,g=d==Lt?Yt:d||Xt,p=d==Lt?Gt+Dt+"!important":r;Kt(Dt+s(U),{MozUserSelect:Nt,WebkitUserSelect:Nt,MozTransform:"translateZ(0)"}),y.unbind(de,I),u.bind(jt,i).bind(x.clickfree?mt:vt,i).bind(x.wheelable?kt:null,a).bind(ht,function(){return!1}),Kt(_t,{cursor:l(g)}),Kt(s(Z),{cursor:"wait"}),Kt(s(P)+$t+s(P)+" *",{cursor:l(p||g)},!0),C(Ne)&&(Kt(Dt+s(U),{width:"100%",height:re}),e(t).bind(Tt,un)),x.hint&&u.attr("title",x.hint),x.indicator&&o.append(Ot("x")),f&&x.indicator&&o.append(Ot("y")),x.monitor&&o.append(St=e(c(Et),{"class":F}))&&Kt(Dt+s(F),{position:It,left:0,top:0})},preload:function(t){function n(){var e=l.children(":not([src]):first");return e.attr(Je,e.data(Je))}var r=y.parent(),i=C($e),a=!i.length,o=_.preload[x.preload]||_.preload[_.def.preload],u=a?[C(De)]:o(i.slice(0),x,C),s=(u.length,w(Me,a?.5:0),0),l=C(ce).empty(),f=[];for(r.addClass(Z),w(rt,C(rt)||e("<"+rt+' type="text/css">'+Kt.rules.join("\n")+"</"+rt+">").prependTo(Ut)),w(qe,!0),y.trigger("stop"),x.responsive&&cn(),y.trigger("resize",!0);u.length;){var d=_.substitute(x.path+u.shift(),C),g=e(c(Qt)).data(Je,d).appendTo(l);g.bind("load error abort",function(e){return"load"!=e.type&&y.trigger(e.type),!A(r)&&y.trigger("preloaded")&&n()&&!1}),f.push(d)}setTimeout(function(){for(;++s<_.concurrent_requests;)n()},0),w(se,f),w(Xe,!1)},preloaded:function(e){var t=C($e).length||1,n=w(Me,G(C(Me)+1,t));if(1===n){y.trigger("frameChange",[r,C(Ae)])}n===t&&(y.parent().removeClass(Z),y.trigger("loaded"))},loaded:function(e){C($e).length>1||y.css({backgroundImage:f(_.substitute(x.path+C(De),C))}).attr({src:l(Wt)}),C(Ve)&&y.attr({src:l(Wt)}),C(Fe)||w(st,x.velocity||0),w(qe,!1),T=!0},prepare:function(e){y.css("display",qt).parent().one(de,I)},opening:function(e){if(!x.opening)return y.trigger("openingDone");var t=(w(Ee,!0),w(nt,!C(Ge)),x.entry||x.speed),n=C(xe),r=x.opening;w(xe,n-t*r),w(Le,Y(r*o(it)))},openingDone:function(n){function r(e){return y.trigger("orient",[v(e).alpha,v(e).beta,v(e).gamma,e])&&e.give}var i=(w(He,!1),w(Ee,!1),xt+s(Ee));D.unbind(i,j.pool[i]),x.orientable&&e(t).bind(pt,r),x.delay>0?u=setTimeout(function(){y.trigger("play")},1e3*x.delay):y.trigger("play")},play:function(e,t){var t=t?w(Ge,t):C(Ge)*p(1,C(ae)),n=x.duration,r=(n&&w(at,Y(n*o(it))),w(ae,0>t),w(He,!!t));w(nt,!r);R()},reach:function(e,t,n){if(t!=C(Ae)){var r=C(je),i=(w(Be,Y(t/r)),w(be,C(Ae))),t=w(ye,t);if(i>t)var a=t-i;else var a=i-t;var n=(w(we,a),K(n||C(Ge))*p(1,i>t));y.trigger("play",n)}},pause:function(e){E()},stop:function(e){var t=w(nt,!0);w(He,!t)},down:function(t,n,i,a){function o(e){return y.trigger("pan",[h(e).clientX,h(e).clientY,e])&&e.give}function u(e){return y.trigger("up",[e])&&e.give}if((x.clickfree||!a||a.button===r||a.button==Jt)&&x.draggable){var c=(w(ge,C(Ae)),x.clickfree),s=(w(st,0),c?C(ne):dn);tn=sn(C(Pe),n,i);E(),rn(),Re=0,e(Ht,dn).addClass(P),s.bind(zt+Dt+yt,o).bind(Ct+Dt+At,u).bind(c?bt:wt,u)}},up:function(t,n){var r=(w(ge,!1),w(Se,!1),x.throwable),i=K(an[0]+an[1])/60,a=w(st,r?r===!0?i:G(r,i):0);q=a?1:0;E(),rn(),e(Ht,dn).removeClass(P),(x.clickfree?C(ne):dn).unbind(gt)},pan:function(e,t,n,r){if(x.draggable&&ln){ln=!1,E();var i=x.rows,a=x.orbital,o=!C(Se)&&1>=i&&!a&&x.scrollable,u={x:t-tn.x,y:n-tn.y},c={x:K(u.x),y:K(u.y)};if(r&&o&&c.x<c.y)return r.give=!0;if(c.x>0||c.y>0){r&&(r.give=!1),Re=J(c.x,c.y),tn={x:t,y:n};var s=C(Pe),l=C(pe),f=C(lt);if(!C(Ce)){var d=w(xe,on(f?n-l.y:t-l.x,C(he),s,C(Ie),C(Te),C(me),f?n-l.y:t-l.x)),g=(w(Se,C(Se)||C(Ae)!=C(ge)),nn(f?u.y:u.x||0));g&&w(ae,0>g)}if(a&&C(le))var f=w(lt,K(n-l.y)>K(t-l.x)),l=sn(s,t,n);if(i>1&&!C(Oe)){var p=C(Ze),h=C(ve),v=-h*p;w(ot,_.math.envelope(n-l.y,h,p,v,v+p,-1))}if(!(d%1||x.loops))var l=sn(s,t,n)}}},wheel:function(e,t,n){if(t){ut=!0;var r=Y(O.sqrt(K(t))),r=p(r,t>0),i=.0833*C(Pe);sn(i),r&&w(ae,0>r),w(st,0),w(xe,on(r,C(he),i,C(Ie),C(Te),C(me)));n&&n.preventDefault(),n&&(n.give=!1),E(),y.trigger("up",[n])}},orient:function(e,t,r,i,a){if(ln&&!n){Rt=!0;var o=t/360;fraction=w(xe,+(x.stitched||x.cw?1-o:o).toFixed(2)),ln=!1}},fractionChange:function(e,t,n){if(t===r){var i=1+X(n/C(oe)),a=x.rows>1,o=x.orbital;w(le,!!o&&(o>=i||i>=C(ke)-o+2));if(a)var i=i+(C(Be)-1)*C(je);var i=w(Ae,i)}},tierChange:function(e,t,n){if(t===r)var i=w(Be,W(ee(n,1,x.rows))),a=C(je),o=C(Ae)%a||a,o=w(Ae,o+i*a-a)},rowChange:function(e,t,n){if(t===r){fn(ot,r,n,x.rows)}},frameChange:function(e,t,n){if(t===r){this.className=this.className.replace(_.re.frame_klass,B+n);var i=C(je),a=x.rows,o=x.path,u=n%i||i,c=(n-u)/i+1,s=(c-1)/(a-1),l=C(Be),d=(a?fn(ot,s,l,a):C(ot),fn(xe,r,u,i)),g=C(ke);if(x.orbital&&C(lt))var n=x.inversed?g+1-n:n,n=n+g;var p=C(Ve),h=C($e),v=!h.length||p;if(v){var b=C(Ye),A=C(ft),j=C(ze);if(p){var z=w(et,W(ee(d,0,C(tt)))%p),T=1>=a?0:(j+b)*(a-l),D=[m(-z),m(-T)],$=h.length>1&&h[l-1],I=_.substitute(o+$,C);$&&y.css("backgroundImage").search(I)<0&&y.css({backgroundImage:f(I)})}else var q=x.horizontal,R=n%g-1,R=0>R?g-1:R,E=X((n-.1)/g),E=E+(a>1?0:C(ae)?0:x.directional?C(We):0),L=E*((q?j:A)+b),U=R*((q?A:j)+b),D=h.length?[0,0]:q?[m(-U),m(-L)]:[m(-L),m(-U)];y.css({backgroundPosition:D.join(Dt)})}else C(Ne)&&cn(),C(Me)&&y.attr({src:k(_.substitute(o+h[n-1],C))})}},"frameChange.reach":function(e,t,n){if(C(ye)&&t===r){C(we)<0?trueTravelled=C(be)-n:trueTravelled=n-C(be);var i=trueTravelled,a=K(i)>=K(C(we));a&&(w(Ae,w(ye)),w(ye,w(we,w(be,0))),y.trigger("stop"))}},"imageChange imagesChange":function(e,t,n){y.trigger("preload")},"fractionChange.indicator":function(e,t,n){if(x.indicator&&t===r){var i=x.indicator,a=x.orbital,o=C(a&&C(lt)?ze:ft),u=a?C(ke):x.images.length||C(je),c=Y(o/u),o=o-c,s=W(ee(n,0,o)),s=!x.cw||C(Ve)?s:o-s;Ot.$x.css(C(lt)?{left:0,top:m(s),bottom:re,width:i,height:c}:{bottom:0,left:m(s),top:re,width:c,height:i})}},"tierChange.indicator":function(e,t,n){if(x.rows>1&&x.indicator&&t===r){var i=C(ze),a=x.indicator,o=Y(i/x.rows),i=i-o,u=W(n*i);Ot.$y.css({left:0,top:u,width:a,height:o})}},"setup.annotations":function(t){var n=y.parent();e.each(C(te),function(t,r){var i=typeof r.node==Zt?e(r.node):r.node||{},i=i.jquery?i:e(c(Et),i),i=i.attr({id:t}).addClass(N),a=r.image?e(c(Qt),r.image):e(),o=r.link?e(c("a"),r.link).click(function(){y.trigger("up.annotations",{target:o})}):e();Kt(b(t),{display:Nt,position:It},!0),r.image||r.link&&i.append(o),r.link||r.image&&i.append(a),r.link&&r.image&&i.append(o.append(a)),i.appendTo(n)})},"prepare.annotations":function(t){e.each(C(te),function(t,n){e(b(t)).hide()})},"frameChange.annotations":function(t,n,i){if(C(Me)&&n===r){var a=C(ft),o=C(Ve),u=C(et);e.each(C(te),function(t,n){var i=e(b(t)),c=n.start||1,s=n.end,l=l||C(Ae),f=l-1,d=n.at?"+"==n.at[f]:!1,f=n.at?f:f-c+1,g=typeof n.x!=Pt?n.x:n.x[f],p=typeof n.y!=Pt?n.y:n.y[f],h=g!==r&&p!==r,v=h&&(n.at?d:f>=0&&(!s||s-c>=f));if(o)var y=a>g&&u>o-a,w=g>o-a&&u>=0&&a>u,g=y?g+o:g,g=w?g-o:g,g=g-u;if(C(Ne))var k=C(Qe),g=g&&g*k,p=p&&p*k;var x={display:v?qt:Nt,left:m(g),top:m(p)};i.css(x)})}},"up.annotations":function(t,n){if(!(Re>10||ut)){var r=e(n.target),i=r.is("a")?r:r.parents("a"),a=i.attr("href");a&&(Re=10)}},"up.steppable":function(e,t){Re||ut||y.trigger(C(pe).x-y.offset().left>.5*C(ft)?"stepRight":"stepLeft")},"stepLeft stepRight":function(e){E()},stepLeft:function(e){w(ae,!1),w(xe,C(xe)-C(oe)*C(me))},stepRight:function(e){w(ae,!0),w(xe,C(xe)+C(oe)*C(me))},stepUp:function(e){w(Be,C(Be)-1)},stepDown:function(e){w(Be,C(Be)+1)},resize:function(e,t){if(!C(qe)||t){var n=C(Ve),i=C(Ye),a=C(ze),o=!C($e).length||n,u=x.rows||1,c=C($e).length?n?m(n)+Dt+m(a):r:n&&m(n)+Dt+m((a+i)*u-i)||m((C(ft)+i)*C(ke)-i)+Dt+m((a+i)*C(We)*u*(x.directional?2:1)-i);y.css({height:o?m(a):null,backgroundSize:c||null}),t||y.trigger("imagesChange")}},"setup.fu":function(e){w(Ae,x.frame+(C(Be)-1)*C(je));y.trigger("preload")},"wheel.fu":function(){ut=!1},"clean.fu":function(){y.trigger("teardown")},"loaded.fu":function(){y.trigger("opening")}},pool:{"tick.reel.preload":function(e){if((T||C(qe))&&!C(Xe)){var t=C(ft),n=V(Ft.$.css(ft)),r=C($e).length||1,i=W(1/r*C(Me)*t);Ft.$.css({width:n+(i-n)/3+1}),C(Me)===r&&n>t-1&&(T=!1,Ft.$.fadeOut(300,function(){Ft.$.css({opacity:1,width:0})}))}},"tick.reel":function(e){if(!C(Xe)){var t=C(st),r=o(it),i=x.monitor;if(_.intense||!Vt()){if(q)var a=t-C(ue)/r*q,t=w(st,a>.1?a:q=n=0);if(i&&St.text(C(i)),t&&q++,n&&n++,nn(0),ln=!0,n&&!t)return $(e);if(C(ge))return $(e,E());if(!(C(Le)>0)){if(!x.loops&&x.rebound){var u=(n||C(xe)%1?en=0:en++,en>=1e3*x.rebound/r);u&&w(ae,!C(ae))}var c=C(me)*p(1,C(ae)),s=C(at),l=(C(He)&&!Rt&&s?K(C(Ge))+t:t)/o(it),s=(w(xe,C(xe)-l*c),x.duration?s>0&&w(at,s-1):s);!s&&C(He)&&y.trigger("stop")}}}},"tick.reel.opening":function(e){if(C(Ee)){var t=x.entry||x.speed,n=t/o(it)*(x.cw?-1:1),r=w(Le,C(Le)-1);w(xe,C(xe)+n);r||y.trigger("openingDone")}}}},T=!1,$=function(e,t){return e.stopImmediatePropagation()||t},I=function(){y.trigger("setup")},q=0,R=function(){return n=0},E=function(){return clearTimeout(u),D.unbind(xt+s(Ee),j.pool[xt+s(Ee)]),w(Le,0),w(Fe,!0),n=-x.timeout*o(it)},Re=0,ut=!1,Rt=!1,St=e(),Ft=function(){return Kt(Dt+s(S),{position:It,left:0,bottom:0,height:x.preloader,overflow:_e,backgroundColor:"#000"}),Ft.$=e(c(Et),{"class":S})},Ot=function(t){return Kt(Dt+s(Q)+s(t),{position:It,width:0,height:0,overflow:_e,backgroundColor:"#000"}),Ot["$"+t]=e(c(Et),{"class":Q+Dt+t})},Kt=function(t,n,r){function i(t){var n=[];return e.each(t,function(e,t){n.push(e.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+m(t)+";")}),"{"+n.join(_t)+"}"}var a=r?_t:C(Ke),t=t.replace(/^/,a).replace($t,$t+a);return Kt.rules.push(t+i(n))&&n},Vt=function(){var n=C(ze),r=C(ft),i=y[0].getBoundingClientRect();return i.top<-n||i.left<-r||i.right>r+e(t).width()||i.bottom>n+e(t).height()},en=0,tn={x:0,y:0},nn=function(e){return an.push(e)&&an.shift()&&e},rn=function(){return an=[0,0]},an=rn(),on=x.graph||_.math[x.loops?"hatch":"envelope"],un=(_.normal,function(){clearTimeout(g),g=setTimeout(cn,_.resize_gauge)}),cn=function(){if(y.width()!=C(ft)){var t=C(ct),n=w(Qe,y.width()/t.width);e.each(t,function(e,t){w(e,W(t*n))}),y.trigger("resize")}},sn=function(e,t,n){var i=w(he,C(xe)),a=(w(ve,C(ot)),x.loops);w(Ie,a?0:-i*e),w(Te,a?e:e-i*e);return t!==r&&w(pe,{x:t,y:n})||r},ln=!0,fn=function(e,t,n,i){if(i){var a=C(e)||0,o=t!==r?t:(n-1)/(i-1),o=e!=xe?o:G(o,.9999),u=+K(a-o).toFixed(8)>=+(1/(i-1)).toFixed(8),t=u?w(e,o):t||a;return t}},dn=D;try{D[0]!=top.document&&(dn=D.add(top.document))}catch(gn){}top===self?e():function(t){return e("iframe",dn.last()).each(function(){try{if(e(this).contents().find(Ut).html()==e(Ut).html())return(t=e(this))&&!1}catch(n){}}),t}();Kt.rules=[],j.setup()}),T=T||function $(){var e=(+new Date,o(it));return e?(D.trigger(xt),T=setTimeout($,J(4,1e3/e))):T=null}(),e(z)},unreel:function(){return this.trigger("teardown")}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[\/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/\s*,\s*/,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(e,t,n,r,i,a,o){return t+g(r,i,-e*a)/n},hatch:function(e,t,n,r,i,a,o){var e=(r>e?i:0)+e%i,u=t+-e*a/n;return u-X(u)},interpolate:function(e,t,n){return t+e*(n-t)},distance:function(e,t,n){var r=n/2,i=t-e;return-r>i?i+n:i>r?i-n:i}},preload:{fidelity:function(e,t,n){function r(e,n,r){function i(e){for(;!(e>=1&&c>=e);)e+=1>e?+c:-c;return s[r+e]||(s[r+e]=!!a.push(e))}if(!e.length)return[];for(var a=[],o=4*n,u=t.frame,c=e.length,l=!0,f=c/o,d=0;o>d;d++)i(u+W(d*f));for(;f>1;){var d=0,g=a.length,f=f/2;for(l=!l;g>d;d++)i(a[d]+(l?1:-1)*W(f))}for(var d=0;c>=d;d++)i(d);for(var d=0;d<a.length;d++)a[d]=e[a[d]-1];return a}var i=t.orbital,a=i?2:t.rows||1,o=n(i?ke:je),u=(t.row-1)*o,c=[].concat(e),s=new Array(e.length+1),l=2>a?[]:c.slice(u,u+o);return r(l,1,u).concat(r(c,a,0))},linear:function(e,t,n){return e}},substitute:function(e,t){return e.replace(_.re.substitution,function(e,n,r){return"function"==typeof _.substitutes[r]?_.substitutes[r](t):Ot[r]?t(Ot[r]):n})},substitutes:{T:function(e){return+new Date}},normal:{fraction:function(e,t){return null===e?e:t[Ue].loops?e-X(e):g(0,1,e)},tier:function(e,t){return null===e?e:g(0,1,e)},row:function(e,t){return null===e?e:W(g(1,t[Ue].rows,e))},frame:function(e,t){if(null===e)return e;var n=t[Ue],r=t[je]*(n.orbital?2:n.rows||1),i=W(n.loops?e%r||r:g(1,r,e));return 0>i?i+r:i},images:function(e,t){var n=_.re.sequence.exec(e),r=n?_.sequence(n,t[Ue]):e;return r}},sequence:function(e,t){if(e.length<=1)return t.images;for(var n=[],r=t.orbital,i=e[1],a=e[2],o=e[4],o=_.re.no_match.test(o+_t)?1:+o,u=r?2:t.rows||1,c=r?t.footage:t.stitched?1:t.frames,s=+(e[5]||u*c),l=s-o,f=+e[7]||1,d=0;l>=d;)n.push(i.replace(a,y(o+d+_t,a.length,"0"))),d+=f;return n},instances:e(),leader:o,resize_gauge:300,concurrent_requests:4,cost:0},D=e(n),$=navigator.userAgent,I=_.re.ua[0].exec($)||_.re.ua[1].exec($)||_.re.ua[2].exec($),q=+I[2].split(".").slice(0,2).join("."),R="MSIE"==I[1],E=!(R&&8>q),L=!(R&&9>q),U="reel",H=U+"-overlay",M=U+"-cache",Q=U+"-indicator",S=U+"-preloader",F=U+"-monitor",N=U+"-annotation",P=U+"-panning",Z=U+"-loading",B="frame-",O=Math,W=O.round,X=O.floor,Y=O.ceil,G=O.min,J=O.max,K=O.abs,V=parseInt,ee=_.math.interpolate,te="annotations",ne="area",re="auto",ie="backup",ae="backwards",oe="bit",ue="brake",ce="cache",se=ce+"d",le="center",fe="class",de="click",ge=de+"ed",pe=ge+"_location",he=ge+"_on",ve=ge+"_tier",me="cwish",be="departure",ye="destination",we="distance",ke="footage",xe="fraction",Ae="frame",Ce="framelock",je="frames",ze="height",Te="hi",_e="hidden",De="image",$e="images",Ie="lo",qe="loading",Re="mouse",Ee="opening",Le=Ee+"_ticks",Ue="options",He="playing",Me="preloaded",Qe="ratio",Se="reeling",Fe="reeled",Ne="responsive",Pe="revolution",Ze="revolution_y",Be="row",Oe="rowlock",We="rows",Xe="shy",Ye="spacing",Ge="speed",Je="src",Ke="stage",Ve="stitched",et=Ve+"_shift",tt=Ve+"_travel",nt="stopped",rt="style",it="tempo",at="ticks",ot="tier",ut="touch",ct="truescale",st="velocity",lt="vertical",ft="width",dt=s(U),gt=s("pan")+dt,pt="deviceorientation"+dt,ht="dragstart"+dt,vt=Re+"down"+dt,mt=Re+"enter"+dt,bt=Re+"leave"+gt,yt=Re+"move"+gt,wt=Re+"up"+gt,kt=Re+"wheel"+dt,xt="tick"+dt,At=ut+"cancel"+gt,Ct=ut+"end"+gt,jt=ut+"start"+dt,zt=ut+"move"+gt,Tt="resize"+dt,_t="",Dt=" ",$t=",",It="absolute",qt="block",Rt="@CDN@",Et="div",Lt="hand",Ut="head",Ht="html",Mt="id",Qt="img",St="jquery."+U,Ft="move",Nt="none",Pt="object",Zt="string",Bt=[ft,ze,Ye,Pe,Ze,Ve,et,tt],Ot={W:ft,H:ze},Wt=E?u("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Rt+"blank.gif",Xt=f("http://storage.media.ext.hp.com/elite-x2/css/icon.ico")+$t+Ft,Yt=f(Rt+St+"-drag.cur")+$t+Ft,Gt=f(Rt+St+"-drag-down.cur")+$t+Ft,Jt=(_.lazy=_.re.lazy_agent.test($),R&&9>q?1:0),Kt=e.cleanData;e.cleanData=function(t){return e(t).each(function(){e(this).triggerHandler("clean")}),Kt.apply(this,arguments)};return e.extend(e.fn,_.fn)&&e(_.scan),_}}(jQuery,window,document)});$(function($){var fnf=(function(){var frames=40,stops=[{name:'Intro',startframe:92},{name:'Tablet',startframe:127},{name:'Notebook',startframe:164},{name:'Profile',startframe:220},{name:'Design',startframe:260},{name:'Security',startframe:300},{name:'Finish',startframe:369}],zooms=[{name:'Profile',slug:'profile',framesMid:48,frames:90,tempo:0.2,copyClass:'3-1',openDelay:1200,closeDelay:4500,},{name:'Stand',slug:'stand',framesMid:57,frames:117,tempo:0.12,copyClass:'4-1',openDelay:1200,closeDelay:4500},{name:'Security',slug:'security',framesMid:78,frames:113,tempo:0.125,copyClass:'5-1',openDelay:2500,closeDelay:5600,}],$module=$('#fnf-module-x2'),$cont=$('.fnf-int-mod-cont'),$contbg=$('.fnf-opened-bg'),$stage=$('.stage'),$mobileStage=$('.mobile-stage'),$slides=$('.slide:not(.slide-intro)'),$image=$('#image'),$overlay=$('#overlay'),$window=$(window),$copyIntro=$('.copy-intro'),$slideIntro=$('.slide-intro'),winHeight=_getHeight(),winWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),winHalf=(winHeight/2),winQtr=(winHeight/4),win8th=(winHeight/8),contHeight=$cont.height(),contMiddle=contHeight/2,currentFrame=$image.data('frame')||1,opacity=0,mobileIndex=0,relLoc,$viewport="",$desktopInit=false,relOp;if(!$mobileStage.length){return false;}
function init(viewport){if(!$viewport){$viewport=viewport;}
$module.parents('.section').addClass('fnf-module');if(viewport==='desktop'){setDesktopView();$('#image-reel.reel-loading').css('background-image','url("http://storage.media.ext.hp.com/elite-x2/img/main/img-00041.jpg');_invokeMainReel(1);$window.on('load',function(){setTimeout(function(){_invokeMain(40);},2000);});$desktopInit=true;}else if(viewport==='mobile'){setMobileView();}
_setIcons();}
function setDesktopView(){$stage.show();$copyIntro.removeClass('ghost');$mobileStage.addClass('ghost');$('.buttons').removeClass('ghost');$('.copy.inner').removeClass('ghost');_buildButtons();_alignStage();_applyEventListeners('desktop');$viewport='desktop';}
function setMobileView(){$stage.hide();$mobileStage.removeClass('ghost');$copyIntro.addClass('ghost');if($('.buttons').length){$('.buttons').addClass('ghost');$('.copy.inner').addClass('ghost');}
_applyEventListeners('mobile');_buildMobileButtons();_setImagesUrls();$slides.css('height',_getHeight());_alignMobile();$viewport='mobile';}
function _applyEventListeners(viewport){$cont.off('click tap','.fnf-overlay-trig');$cont.off('click tap','.close-overlay');if(viewport==='desktop'){$cont.off('click','.zoom');$cont.on('click','.zoom',function(){var zoom=$(this).data('zoom');_loadZoom(zoom);});$window.on('load scroll',function(){if(_isInViewport($cont)&&!_isOpened($cont)){setTimeout(function(){_fireIntro();},0);}});$window.on('resize',_throttle(function(){if(_isInViewport($cont)&&_isOpened($cont)){setTimeout(function(){_centerModule();},0);}
_alignStage();},200));$cont.on('click','.fnf-overlay-trig',function(){_openModule('desktop');});$cont.on('click','.close-overlay',function(){_closeModule('desktop');});}else{$cont.on('click tap','.fnf-overlay-trig',function(){_openModule('mobile');});$cont.on('click tap','.close-overlay',function(){_closeModule('mobile');});$window.on('load resize',_throttle(function(){_alignMobile();if(_isOpened($cont)){_centerModule('mobile');}},200));}
$cont.on('click','.onward',function(){var stop=$(this).data('next-stop');_gotoStop(stop);});}
function reInit(viewport){if($viewport==viewport){return;}
if(_isOpened($cont)){_closeModule(viewport);}
if($viewport=='desktop'&&viewport=='mobile'){setMobileView();}else if($viewport=='mobile'&&viewport=='desktop'){if($desktopInit){setDesktopView();}else{init('desktop');_invokeMain(41);_fireIntro();}}}
function _setImagesUrls(){var mobileImg={".slide-intro":"1_premodule.jpg",".slide-0":"2_intro.jpg",".slide-1":"3_Tablet.jpg",".slide-2":"4_Notebook.jpg",".slide-3":"5_sculpture.png",".slide-4":"6_keyboard.jpg",".slide-5":"7_masterfully_crafted.png",".slide-6":"8_kickstand.jpg",".slide-7":"9_security.jpg",".slide-8":"10_authentication.jpg",".slide-9":"11_final_frame.jpg"},urlPart="http://storage.media.ext.hp.com/elite-x2/img/mobile/";$.each(mobileImg,function(key,value){var url=urlPart+value;$(key).css('background-image','url('+url+')');});}
function _setIcons(){var icons={".fnf-int-mod-cont .scroll-on":"scroll-on.png",".close-fnf":"close-overlay.png"},partUrl="http://storage.media.ext.hp.com/elite-x2/css/";$.each(icons,function(key,value){var url=partUrl+value;$(key).css('background-image','url('+url+')');});$(".fnf-int-mod-cont .buttons, .fnf-int-mod-cont .mobile-buttons").css('cursor',"url(http://storage.media.ext.hp.com/elite-x2/css/icon.ico),ns-resize;");}
function _invokeMainReel(frame){var startFrame=frame||40;$image.reel({wheelable:true,scrollable:true,draggable:false,throwable:false,timeout:0,tempo:36,preload:'fidelity',frames:frames,frame:startFrame,loops:false,revolution:10000,vertical:true,horizontal:false,delay:0,path:'http://storage.media.ext.hp.com/elite-x2/img/main/',laziness:4}).bind('loaded',function(ev){return false;}).bind('frameChange',function(event,nil,frame){_hideCopy('desktop');}).bind('wheel',function(ev){if($stage.attr('data-active')==='false'){var stop=parseInt($stage.attr('data-stop')),deltaY=ev.originalEvent.deltaY;if(deltaY>15){if(stop<6){_gotoStop(stop+1);}}else if(deltaY<=-40){if(stop>0){_gotoStop(stop-1);}}}
ev.preventDefault();ev.stopPropagation();}).bind('stop',function(event,nil,frame){$stage.attr('data-active','false');if(_isOpened($cont)){var stop=$stage.attr('data-stop');_showCopy(stop);$('.no-scroll').addClass('ghost');}}).hammer().bind("swipeup swipedown panup pandown",function(ev){if($stage.attr('data-active')==='false'){var stop=parseInt($stage.attr('data-stop')),deltaY=ev.gesture.deltaY;if(deltaY>10){if(stop<6){_gotoStop(stop+1);}}else if(deltaY<=-10){if(stop>0){_gotoStop(stop-1);}}}});}
function _invokeMain(frame){var startFrame=frame;$image.unbind();$image.unreel();$image.reel({wheelable:true,scrollable:true,draggable:false,throwable:false,timeout:0,tempo:36,preload:'fidelity',frames:369,frame:startFrame,loops:false,revolution:10000,vertical:true,horizontal:false,delay:9999,path:'http://storage.media.ext.hp.com/elite-x2/img/main/',laziness:6}).bind('loaded',function(ev){return false;}).bind('frameChange',function(event,nil,frame){_hideCopy('desktop');if(frame>=stops[0].startframe){$('.no-scroll').addClass('ghost');}}).bind('wheel',function(ev){if($stage.attr('data-active')==='false'){var stop=parseInt($stage.attr('data-stop')),deltaY=ev.originalEvent.deltaY;if(deltaY>15){if(stop<6){_gotoStop(stop+1);}}else if(deltaY<=-40){if(stop>0){_gotoStop(stop-1);}}}
ev.preventDefault();ev.stopPropagation();}).bind('stop',function(event,nil,frame){$stage.attr('data-active','false');if(_isOpened($cont)){var stop=$stage.attr('data-stop');_showCopy(stop);$('.no-scroll').addClass('ghost');}}).hammer().bind("swipeup swipedown panup pandown",function(ev){if($stage.attr('data-active')==='false'){var stop=parseInt($stage.attr('data-stop')),deltaY=ev.gesture.deltaY;if(deltaY>10){if(stop<6){_gotoStop(stop+1);}}else if(deltaY<=-10){if(stop>0){_gotoStop(stop-1);}}}});}
function _invokeZoomReel(z,zoomSlug){_hideCopy();var frames=zooms[z].frames-1,zoomID='#'+zoomSlug;$(zoomID).reel({wheelable:false,scrollable:false,draggable:false,throwable:false,cursor:'default',tempo:36,frames:frames,frame:0,loops:false,horizontal:true,path:'http://storage.media.ext.hp.com/elite-x2/img/'+zoomSlug+'/',laziness:1,}).bind('loaded',function(ev){_gotoFrame(zooms[z].framesMid-1,zoomID,zooms[z].tempo);$('.copy-'+zooms[z].copyClass).removeClass('ghost');setTimeout(function(){$('.copy-'+zooms[z].copyClass).find('.anim').removeClass('ghost');setTimeout(function(){$('.copy-'+zooms[z].copyClass).find('.anim').addClass('ghost');_gotoFrame(frames,zoomID,zooms[z].tempo);},zooms[z].closeDelay);},zooms[z].openDelay);}).bind('stop',function(event,nothing,frame){if(frames===$(zoomID).reel('frame')){_unloadZoom();}});}
function _isOpened(el){return el.hasClass('opened');}
function _isInViewport(el){var rect=el[0].getBoundingClientRect();return(rect.top>=-(rect.height*1.5)&&rect.top<=(window.innerHeight*1.5));}
function _getOrientation(){var orientation='landscape';if(_getHeight()>_getWidth()){orientation='portrait';}
console.log('orientation: '+orientation);return orientation;}
function _getHeight(){return Math.max(window.innerHeight||0);}
function _getWidth(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0);}
function _getDistanceTop(){var scrollTop=$window.scrollTop(),elementOffsetTop=$cont.offset().top;return(elementOffsetTop-scrollTop);}
function _fireIntro(){var distanceTop=_getDistanceTop(),contMiddle=$cont.height()/2,truMid=(distanceTop+contMiddle);if((truMid<(winHalf-win8th))&&(truMid>winQtr)){relLoc=(truMid/winQtr)*40;}else if((truMid>(winHalf+winQtr))&&(truMid<winHeight)){relLoc=80-(((truMid-winHalf)/winQtr)*40);}else if(truMid<winQtr){relLoc=((truMid/winQtr)*40);}else if((truMid<winHeight-winQtr)&&(truMid>winQtr)){relLoc=20000;}else{relLoc=0;}
var frame=Math.floor(relLoc);_updateIntroFrame(frame);_updateIntroOpacity(truMid,distanceTop);}
function _updateIntroFrame(frame){if(currentFrame!==frame){if(frame>40){if(currentFrame!==40){_gotoFrame(40,'#image',0.5);}}else if(frame<0){if(currentFrame!==0){_jumpFrame(0);}}else{_jumpFrame(frame);}}}
function _updateIntroOpacity(truMid,distanceTop){if(truMid<(winHalf-winQtr)){relOp=-(distanceTop);opacity=1-Math.abs((relOp/contMiddle));}else if(truMid>=(winHalf-winQtr)&&truMid<(winHalf+winQtr)){opacity=100;}else if(truMid>(winHalf+winQtr)){relOp=-(distanceTop-(winHalf+winQtr));opacity=(relOp/(contMiddle));}else{opacity=100;}
$copyIntro.css('opacity',opacity);}
function _buildButtons(){if(!$('.buttons').children().length){for(var i=0;i<stops.length;i++){var first=(i===0)?'selected':'',markup=$('<a class="'+first+' marker marker-'+i+'" title="'+stops[i].name+'"><span>'+stops[i].name+'</span></a>');(function(i){markup.on('click',function(){buttonClick(i);});}(i));$('.buttons').append(markup);}}}
function _buildMobileButtons(){if(!$('.mobile-buttons').children().length){var slides=10;for(var i=0;i<slides;i++){var first=(i==0)?'selected':'',markup=$('<a class="'+first+' marker marker-'+i+'"><span><!-- --></span></a>');(function(i){markup.on('click',function(){buttonClick(i,'mobile');});}(i));$('.mobile-buttons').append(markup);}}}
function buttonClick(stop,viewport){if(viewport==='mobile'){go(stop);}else{var currentStop=_getActiveStop(viewport),delta=stop-currentStop;if(Math.abs(delta)===1){_gotoStop(stop);}else if(delta==0){return false;}else{_jumpStop(stop)}}}
function _makeSelected(stop){_makeUnSelected();$('.marker-'+stop).addClass('selected');}
function _makeUnSelected(){$('.marker').removeClass('selected');}
function _gotoFrame(frame,target,tempo){target=target||'#image';tempo=tempo||0.065;$(target).trigger('reach',[frame,tempo]);}
function _gotoStop(stop){$stage.attr('data-active','true');_setActiveStop(stop);_gotoFrame(stops[stop].startframe);}
function _jumpFrame(frame){$image.trigger('stop');$image.reel('frame',frame);}
function _jumpStop(stop){_setActiveStop(stop);$stage.attr('data-active','true');var frame=stops[stop].startframe;$('.white-overlay').removeClass('ghost');setTimeout(function(){_jumpFrame(frame);setTimeout(function(){$('.white-overlay').addClass('ghost');$stage.attr('data-active','false');_showCopy(stop);},150);},300);}
function _getActiveStop(viewport){var target;if(viewport==='mobile'){target=$mobileStage;}else{target=$stage;}
return target.attr('data-stop');}
function _setActiveStop(stop){$stage.attr('data-stop',stop);}
function _showCopy(stop){_hideCopy();_waterfall(stop);_makeSelected(stop);}
function _hideCopy(viewport){if(viewport==='mobile'){$('.slide.inner, .slide.inner .anim').addClass('ghost');}else{$('.copy.inner, .copy.inner .anim').addClass('ghost');}}
function _waterfall(stop,mobile){if(mobile){var $target=$('.slide-'+(stop));}else{var $target=$('.copy-'+(stop));}
$target.removeClass('ghost').find('.ghost').each(function(){var $this=$(this),timeout=$this.data('anim');setTimeout(function(){$this.removeClass('ghost');},timeout);})}
function _openModule(viewport){if(viewport==='mobile'){$('.white-overlay').removeClass('ghost');$('.slide').addClass('ghost');$cont.addClass('opened');setTimeout(function(){$('.no-scroll').addClass('ghost');_hideCopy('mobile');$contbg.addClass('opened').css('height',_getHeight());$('.close-overlay, .slide-0').removeClass('ghost');$('body').addClass('overlay-lock');$('.mobile-buttons').removeClass('ghost');_centerModule('mobile');setTimeout(function(){$('.white-overlay').addClass('ghost');_waterfall(mobileIndex,true);$('.slide:not(.slide-intro)').removeClass('ghost');},300);},300);}else{_hideCopy('desktop');_gotoStop(0);$cont.addClass('opened');$contbg.addClass('opened');setTimeout(function(){$('.copy-intro').addClass('ghost');$('.close-overlay').removeClass('ghost');$('body').addClass('overlay-lock');$('.buttons').fadeIn(300);var marTop=$stage.css('margin-top');_centerModule();},300);}}
function _closeModule(viewport){if(viewport==='mobile'){$('.white-overlay').removeClass('ghost');$stage.attr('data-stop',0);setTimeout(function(){$('.slide').addClass('ghost');$('body').removeClass('overlay-lock');$('.no-scroll').removeClass('ghost');_resetAll('mobile');$('.close-overlay').addClass('ghost');$mobileStage.removeClass('opened');$contbg.removeClass('opened');$cont.removeClass('opened');$('.mobile-buttons').addClass('ghost');$('.slide-intro').removeClass('ghost');setTimeout(function(){$('.white-overlay').addClass('ghost');},300);},300);}else{$('.white-overlay').removeClass('ghost');$stage.attr('data-stop',0);_unloadZoom();$('.copy').addClass('ghost');setTimeout(function(){$('body').removeClass('overlay-lock');$('.close-overlay').addClass('ghost');$cont.removeClass('opened');$contbg.removeClass('opened');$('.buttons').hide();$('.copy-intro, .no-scroll').removeClass('ghost');$cont.css('margin-top',0);_resetAll(40);setTimeout(function(){$('.white-overlay').addClass('ghost');},150);},300);}}
function _loadZoom(z){var zoomSlug='zoom-'+zooms[z].slug;$('#'+zoomSlug).removeClass('ghost').addClass('opened');$('.copy-'+zooms[z].copyClass).removeClass('ghost');$('.buttons, .close-overlay').addClass('ghost');$('.close-zoom').removeClass('ghost');_invokeZoomReel(z,zoomSlug);}
function _unloadZoom(){$('.zoom-reel').each(function(){if($(this).hasClass('opened')){$(this).addClass('ghost').removeClass('opened').unreel();}});$('.buttons, .close-overlay').removeClass('ghost');$('.close-zoom').addClass('ghost');var stop=$stage.attr('data-stop');_showCopy(stop);}
function _resetAll(viewport){if(viewport==='mobile'){$slides.removeClass('show-copy').css('height',_getHeight()).each(function(){translate='translate3d(0, 0, 0)';_applyTransform(this,translate);});$('.slide-copy').each(function(){translate='translate3d(0, '+_getHeight()+'px, 0)';_applyTransform(this,translate);});mobileIndex=0;_centerModule('mobile');_makeSelected('0');}else{_makeSelected('0');_jumpFrame(1);_gotoFrame(40,'#image',0.1);_centerModule();}}
function _applyTransform(elem,translate){elem.style.transform=translate;elem.style.mozTransform=translate;elem.style.webkitTransform=translate;}
function _centerModule(viewport){if(viewport==='mobile'){var elementOffsetTop=$mobileStage.offset().top,truMid=(elementOffsetTop);}else{var winHeight=window.innerHeight,winHalf=(winHeight/2),contHeight=$cont.height(),contMiddle=contHeight/2,elementOffsetTop=$cont.offset().top,truMid=(elementOffsetTop+contMiddle-winHalf);}
$('html, body').scrollTop(truMid);}
function _alignStage(){var contW=$cont.width(),contH=(contW)*(905/1920);$cont.css('height',contH*.80);$stage.css('margin-top',-(contH*.10));}
function _alignMobile(){if(_getOrientation()==='portrait'){$cont.css('height',_getWidth());}
$mobileStage.css('height',_getHeight());$slides.css('height',_getHeight());show(mobileIndex);}
function _throttle(fn,threshhold,scope){threshhold||(threshhold=250);var last,deferTimer;return function(){var context=scope||this;var now=+new Date,args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args);},threshhold);}else{last=now;fn.apply(context,args);}};}
function _debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)
func.apply(context,args);};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)
func.apply(context,args);};};this.container=$mobileStage[0];this.direction=Hammer.DIRECTION_VERTICAL;this.panes=$('.mobile-stage .slide:not(.slide-intro)');this.containerSize=_getHeight();var show=function(showIndex,direction,percent,animate,copy){showIndex=Math.max(0,Math.min(showIndex,this.panes.length-1));percent=(percent*1.25)||0;var pos,translate,$targetPane,target=0;if(direction===8){target=showIndex;pos=(this.containerSize/100)*percent;}else if(direction===16){target=showIndex-1;pos=((this.containerSize/100)*percent)-this.containerSize;}
$targetPane=$('.slide-'+target);if(copy){$targetPane=$targetPane.find('.slide-copy');pos=pos+this.containerSize;}else{mobileIndex=showIndex;}
translate='translate3d(0, '+pos+'px, 0)';$targetPane.css('transform',translate);};var go=function(showIndex,direction,copy){showIndex=Math.max(0,Math.min(showIndex,this.panes.length-1));if(_isOpened($cont)){var finalFrame=false;var copyTarget=document.querySelector('div.slide-'+showIndex);if(this.panes.length-1===showIndex){finalFrame=true;}
if(copy){if(direction===8){copyTarget.classList.add('show-copy');}else if(direction===16){if(finalFrame&&copyTarget.classList.contains('high-copy')){copyTarget.classList.remove('high-copy');}else{copyTarget.classList.remove('show-copy');}}}else{if(direction===8&&finalFrame&&copyTarget.classList.contains('show-copy')){copyTarget.classList.add('high-copy');_waterfall(showIndex,'mobile')}else if(direction===16&&finalFrame&&copyTarget.classList.contains('high-copy')){copyTarget.classList.remove('high-copy');}
var slideTargets=document.querySelectorAll('div.slide:not(.slide-intro)');for(i=0;i<slideTargets.length;i++){if(i<showIndex){slideTargets[i].style.transform='translate3d(0, -'+(this.containerSize*1.25)+'px, 0)';slideTargets[i].classList.add('show-copy');}else if(i>showIndex){slideTargets[i].style.transform='translate3d(0, '+(this.containerSize*.20)+'px, 0)';}else{slideTargets[i].style.transform='translate3d(0, 0, 0)';}}}
$('.mobile-buttons a').removeClass('selected');$('.mobile-buttons a.marker-'+showIndex).addClass('selected');}
mobileIndex=showIndex;};var onPan=function(ev){var delta=ev.deltaY;var direction=ev.direction;var percent=(100/this.containerSize)*delta;var animate=false;var copy=true;var target=document.querySelector('div.slide-'+mobileIndex);if((direction==8&&target.classList.contains('show-copy'))||(direction==16&&!target.classList.contains('show-copy'))){copy=false;}
if(ev.type=='panend'||ev.type=='pancancel'){if(Math.abs(percent)>10&&ev.type=='panend'&&!copy){mobileIndex+=(percent<0)?1:-1;}else if(Math.abs(percent)>10&&ev.type=='panend'&&!copy){mobileIndex+=(percent<0)?1:-1;}
go(mobileIndex,direction,copy);}};if(this.container){this.hammer=new Hammer.Manager(this.container);this.hammer.add(new Hammer.Pan({direction:this.direction,threshold:10}));this.hammer.on("panstart panmove panend pancancel",Hammer.bindFn(onPan,this));}
return{init:init,reInit:reInit,buttonClick:buttonClick}})();$(function(){function initScreen(){if(isMobileDevice()){fnf.init('mobile');}else{if(window.innerWidth<800){fnf.init('mobile');}else{fnf.init('desktop');}}}
function resize(){if(!isMobileDevice()){if(window.innerWidth<800){fnf.reInit('mobile');}else{fnf.reInit('desktop');}}}
function isMobileDevice(){return((/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))?true:false);}
if(fnf){$(window).on('resize',function(){setTimeout(function(){resize();},100);});initScreen();}});});(function($,window){'use strict';VerticalNav.__defaults={};$(function($){var $verticalNavElement=$('.molecule-835 nav, .molecule-hpi-835 nav'),verticalNav;if($verticalNavElement.length){verticalNav=VerticalNav($verticalNavElement);}});function VerticalNav(element,options){var self,opts,isNavigatingByClick;opts=mergeWithDefaults(options);self=NavigationPanel(element,options);self.links=self.container.find(self.options.linksSelector);self.sections=getSections();attachListeners();isNavigatingByClick=false;function mergeWithDefaults(options){return $.extend(VerticalNav.__defaults,options);}
function attachListeners(){self.container.on('click',self.options.linksSelector,function verticalNavClick(e){var clicked,href;if(e.target.nodeName==='A'){clicked=$(e.target);}else{clicked=$(e.target).parents('a');}
href=clicked.attr('href');if(href.indexOf('http')===-1){href=href.replace('#','');navigateTo(href);}else{window.location.href=href;}});$(window).on('scroll',onScroll);}
function navigateTo(anchor){var $element,top;if(anchor==='to-top'){$element=$('body');}else{$element=$('[data-anchor="'+anchor+'"]');}
if(!$element.length){return;}
top=Math.floor($element.offset().top-self.element.height()+1);isNavigatingByClick=true;$("html, body").stop().clearQueue().animate({scrollTop:top+'px'},1000,function(){isNavigatingByClick=false;});}
function getSections(){var sections=[];$('[data-anchor]').each(function(){sections.push({name:$(this).data('anchor'),el:$(this)});});return sections;}
function activateItem(anchor){var item=self.links.filter('[href="#'+anchor+'"]');self.links.removeClass('active');if(item.length){item.addClass('active');if(!isNavigatingByClick){self._scrollLinkIntoView(item);}}}
function onScroll(){var i,$window,panelHeight;$window=$(window);panelHeight=self.element.hasClass('stuck')?self.element.height():0;for(i=self.sections.length-1;i>=0;i--){if($window.scrollTop()+panelHeight+1>self.sections[i].el.offset().top){activateItem(self.sections[i].name);return;}}
self.links.removeClass('active');}}}(jQuery,self));(function($,global){'use strict';var wechatTooltip,wechatTooltipClass='molecule-hpi-621-wechat-tooltip';var wechatTooltipMarkup=''+'<div class="'+wechatTooltipClass+'">'+'<img class="image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6AgMAAAD1grKuAAAACVBMVEVwAP4AAAA7t/B5hquDAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAABENJREFUaN7t2ztyszAQAOCFGRqqv+ESnEJ/kd4Fuo+PQslwysA+pJUE2IgQpxCTITjmww56rR6A9dsADR0YwG35A0Cn/4BHlSIPKP42373lHwDu9NUvu+Wkhs407Cuk4vlyy1Hxf8A3lJKY3HQli1ddMkS3UvcWJjl6OSr+Rt+tb53ynPTLW6ByRafKb/H3ejqyUXVpVJ1Z/F/zUf2JFC9SSSMHcfof1b/Fn/LDRR/GL4YpHun61791GP8Uf9Inm5S/jmNJ9CqIfLUV//ueegoq/vDFDTOBHVSF6voEPv2L/6RvwkoyLJOd6trRmYOqTov/aV9tervraYfXd+2fpP/gLuiu6utf49q/4q95SRMdbjRS9HyHrLMqPhnc7oU3xd/tH2qki+N/H6n49k96dRUFkRL/F/9ZP6TVpYGtcIWjmvijH9s+jXYib449XPOPi95c9HDNS6LU8zzGvknvv6S6tV+q/w3t6mdKdJcr6PsN9E0S/9/imCV/OLSLn/DFm96sKce+Jz8/1xf/3vRrFMZ++eT+tPfxW7vcOvRznu+dfx77JH4hPzs/RkEKB5S02/OY9MgxBU771vs5xy9f/Vmzf2b4WfnxvMecK37K8tNbPpl/Id+uqtX+i3JHAPDG+iBGxT+99ssNbNJJHHp95Pt8z9mup/2Y69vLfi087Wlfc7GraT8de4kvG1f1ew/eq/Lrxh93fEvZd/lN1WCORzld8AvmnxwvuF/z0RU/vvB81OnQA2ufHvGSDv0ctF9Gx5pHfmQ/z0H7ecKvONszXquxDP+86mvMQdQKZ3iHj70OEjf9dOyBun4gvQbaraR1OXieffkl6trPI+9yYI6fOPth9s3zLgfm+PGSr8PsO+16P4gRxC9rvUkem+JJ9Q9c06X6b2n8wxlXBaFnfS2+zfVce/c5nptOboKf9/ou9S0HDr0EcDtetkaFnhL/uAhygiD9jRtJedzmgf/v3sVvJz2H7j5+POlb5SHD4w2gCHTK8eD9eOBlpUEYXxq+Ab4DFF4/mv/c9D4ChSwP4sdM37N/Zvqasv8E5z2VjJaq7mwPI7j+85Z3nW8ZkNQnbfTfqZAnRbf4C16NXw2qkLmVcMHSm8YtItDzz2/4qvibPJ4bvbQupbEm6ML1bzqSLP7TXo1/Db78qkWoNlp/IHMFBor/AS9lSnpidJJpZOmoH+aw4fgjHHn6OKumO4u/x0sScScumSTzXXM9HR2NPxb/MR9sTTh/BlJ/cmipljYOav1B8ff65sjHw/FqEkDHjyo0rWT+pvif8EO4iE21WdIIulgySL/ORst9uj3fFX+r188/dOpMvfTNT83IZuL5t+I/7qP+d6XOfahiKpe2m89fbPmq+EseovnpHQ9pIxcsnYPgS2w/v1T8WR/Vny5c1M9ipkMfBnbq3+J/1SfxR+jhlQ/jHx16qiddIOjaS/9hI34q/pz/Bsu8bFJ18nT0AAAAAElFTkSuQmCC" />'+'<p class="text-content">!</p>'+'<div class="arrow"></div>'+'<a href="javascript:void(0);" class="close-button" title="close button" tabindex="890">'+'<span class="screenReading">Close</span>'+'</a>'+'</div>';var wechatOverlayMarkup='<div class="'+wechatTooltipClass+'-overlay"></div>';$(function($){var molecules621=$('.molecule-hpi-621'),wechatLinks=molecules621.find('.icon-wechat');if(wechatLinks.length){wechatTooltip=new WeChatTooltip();wechatLinks.each(function(){var link=$(this);new WeChatLink(link);});}});WeChatLink.__defaults={};WeChatLink.__mergeOptionsWithDefaults=function(options){return $.extend({},WeChatLink.__defaults,options);};function WeChatLink(element,options){var self={},opts=WeChatLink.__mergeOptionsWithDefaults(options);self.element=$(element);init();return self;function init(){attachEventListeners();}
function attachEventListeners(){$('body').on('click',function(){wechatTooltip.hide();});$(window).on('resize',function(){wechatTooltip.hide();});self.element.on('click',function(event){event.preventDefault();event.stopPropagation();if(wechatTooltip.isShown()){wechatTooltip.hide();}else{wechatTooltip.showAt(self.element);}});}};WeChatTooltip.__defaults={template:wechatTooltipMarkup,overlayTemplate:wechatOverlayMarkup,arrowSelector:'.arrow'};WeChatTooltip.__mergeOptionsWithDefaults=function(options){return $.extend({},WeChatTooltip.__defaults,options);};function WeChatTooltip(options){var self={},opts=WeChatTooltip.__mergeOptionsWithDefaults(options);self.element=$(opts.template);self.overlay=$(opts.overlayTemplate);self.arrowElement=self.element.find(opts.arrowSelector);self.shown=false;self.showAt=showAt;self.hide=hideTooltipElement;self.getWidth=getWidth;self.getHeight=getHeight;self.isShown=isShown;init();return self;function init(){$('body').append(self.element).append(self.overlay);self.element.on('click',function(e){e.stopPropagation();});self.element.on('click','.close-button',function(e){self.hide();e.stopPropagation();});}
function showAt(link){var BP_XLARGE=1000,POSITION_CLASS='at-bottom';var linkLeftPosition,linkTopPosition,linkHeight,linkWidth,leftPosition;if(window.innerWidth>=BP_XLARGE){linkLeftPosition=retrieveLinkLeftPosition(link);linkTopPosition=retrieveLinkTopPosition(link);linkHeight=retrieveLinkHeight(link);linkWidth=retrieveLinkWidth(link);leftPosition=calculateLeftOffset(linkLeftPosition,$(window).width());if(self.element.outerHeight()>linkTopPosition){self.element.addClass(POSITION_CLASS);}else{self.element.removeClass(POSITION_CLASS);}
setPosition({right:'auto',left:leftPosition,top:calculateTopOffset(linkTopPosition,linkHeight)});setArrowPosition({left:calculateArrowLeftOffset(linkLeftPosition,linkWidth,leftPosition)});showTooltipElement();}else{setPosition({left:0,right:0,top:calculateTopOffsetForPopup(window.scrollY,$(window).height())});showTooltipElement();}}
function retrieveLinkLeftPosition(link){return link.offset().left;}
function retrieveLinkTopPosition(link){return link.offset().top;}
function retrieveLinkHeight(link){return link.outerHeight();}
function retrieveLinkWidth(link){return link.outerWidth();}
function calculateTopOffset(linkTopPosition,linkHeight){var height=self.element.outerHeight(),arrowOffset=20;if(height<linkTopPosition){return linkTopPosition-height-arrowOffset;}else{return linkTopPosition+linkHeight+arrowOffset;}}
function calculateTopOffsetForPopup(topScrollPosition,windowHeight){var height=self.element.outerHeight();if(height<windowHeight){return topScrollPosition+((windowHeight-height)/2);}else{return 0;}}
function calculateLeftOffset(linkLeftPosition,windowWidth){var width=self.getWidth(),leftBorderPosition=linkLeftPosition-width/2,rightBorderPosition=linkLeftPosition+width/2,pageBorderOffset=10;var insideWindowBoundaries=(0<=leftBorderPosition&&rightBorderPosition<=windowWidth),outOfRightWindowBoundary=(windowWidth<rightBorderPosition);if(insideWindowBoundaries){return leftBorderPosition;}else if(outOfRightWindowBoundary){return windowWidth-width-pageBorderOffset;}else{return pageBorderOffset;}}
function calculateArrowLeftOffset(linkLeftPosition,linkWidth,tooltipLeftPosition){var arrowWidth=self.arrowElement.width();return(linkLeftPosition-tooltipLeftPosition)+linkWidth/2-arrowWidth/2;}
function setPosition(params){for(var name in params){if(isPositionProperty(name)){self.element.css(name,params[name]);}}}
function setArrowPosition(params){for(var name in params){if(isPositionProperty(name)){self.arrowElement.css(name,params[name]);}}}
function isPositionProperty(param){return $.inArray(param,['top','bottom','left','right'])>-1;}
function showTooltipElement(){self.shown=true;self.element.show();self.overlay.addClass('shown');}
function hideTooltipElement(){self.shown=false;self.element.hide();self.overlay.removeClass('shown');}
function getWidth(){return self.element.outerWidth();}
function getHeight(){return self.element.outerHeight();}
function isShown(){return self.shown;}}}(this.jQuery,this));(function(){"use strict";function navigationMenu(){var $items=$('.nav-activation-molecule-830'),navigate,checkArrow=function($menu){var $navigation=$menu.parents('.navigation'),menuWidth=0;$navigation.find('> ul > li').each(function(){menuWidth+=$(this).outerWidth();});if(menuWidth<$navigation.width()){$menu.parents('.navigation').find('.arrow').hide();}else if($menu.scrollLeft()===0){$menu.parents('.navigation').find('.arrow-left').hide();$menu.parents('.navigation').find('.arrow-right').show();}else if($menu.scrollLeft()>=$menu[0].scrollWidth-$menu[0].clientWidth){$menu.parents('.navigation').find('.arrow-left').show();$menu.parents('.navigation').find('.arrow-right').hide();}else{$menu.parents('.navigation').find('.arrow').show();}};if(!$items.length){return false;}
$items.each(function(){$(this).find('ul[class*="menu"]').each(function(){var $t=$(this),$navigation;$navigation=$t.wrap('<div class="navigation"></div>').parent();$navigation.append('<div class="arrow arrow-left"></div><div class="arrow arrow-right"></div>');if($t.hasClass('level2')){$navigation.attr('data-level',1);}else if($t.parents().hasClass('level3')){$navigation.attr({'data-level':2,'data-id':$t.parents('[id*=ID-]').attr('id')});}else if($t.parents().hasClass('level4')){$navigation.attr({'data-level':3,'data-id':$t.parents('[id*=ID-]').attr('id')});}
$items.append($navigation);});});$items.find('ul[class*="menu"] > li > a').each(function(){var $t=$(this),rel=$t.attr('rel');$t.after($('#'+rel).removeAttr('style'));});$(document).on('click','.nav-activation-molecule-830 .arrow',function(e){e.preventDefault();var $t=$(this),$menu=$t.parent().children('ul');if($(this).hasClass('arrow-left')){$menu.animate({scrollLeft:$menu.scrollLeft()-100<0?$menu.scrollLeft()-100:0});}else{$menu.animate({scrollLeft:$menu.scrollLeft()+100>($menu.width()-$menu.scrollLeft())?$menu.scrollLeft()+100:$menu.width()-$menu.scrollLeft()});}});$(document).on('click','.js-menu.menu li a',function(e){var $link=$(this),rel=$link.attr('rel'),$target=$(document).find('[data-id="'+rel+'"]'),level;$link.parents('ul').children('li').children('a').removeClass('current');$link.addClass('current');if($target.length){e.preventDefault();level=$target.attr('data-level');$link.parents('.nav-activation-molecule-830').find('[data-level]').filter(function(){return $(this).attr('data-level')*1>=level;}).removeClass('current').find('a').removeClass('current');$target.addClass('current').css({top:(level-1)*$target.outerHeight()});checkArrow($target.find('ul'))}});$('.navigation ul').on('scroll',function(e){checkArrow($(this));}).trigger('scroll');$(document).on('click',function(e){if(!$(e.target).parents('.nav-activation-molecule-830').length){$('.nav-activation-molecule-830 .current').removeClass('current')}});$(window).on('resize',function(){$('.nav-activation-molecule-830 .navigation').each(function(){var $t=$(this);$t.css({top:($t.attr('data-level')-1)*$t.outerHeight()});$t.find('ul').each(function(){checkArrow($(this));});});});}
$.fn.sticky=function(o){var data={$item:$(this)},createParent=function(data){data.$parent=data.$item.wrap('<div class="stickyParent"></div>').parent();},switchPosition=function(data){data.topPosition=data.$parent.offset().top;},setMinHeight=function(data){data.$parent.css({'min-height':data.$item.outerHeight(true)});},calculate=function(data){if($(window).scrollTop()>data.topPosition){data.$item.addClass('sticky');}else{data.$item.removeClass('sticky');}};if(data.$item.length){createParent(data);switchPosition(data);setMinHeight(data);calculate(data);$(window).on('resize',function(){setMinHeight(data);switchPosition(data);calculate(data);});$(window).on('scroll',function(){calculate(data);});console.log('data',data);}};$(function(){navigationMenu();$('.nav-activation-molecule-830').sticky();})})();
function CrossDomainCommunication(options){this.child=false;this.isParentPage=true;this.init=function(options){this.isParentPage=options.isParentPage;this.child=options.child||false;var self=this;this.checkingInterval=window.setInterval(function(){self.checkForMessages();},100);};this.checkForMessages=function(){var hash=window.location.hash;var startIndex=hash.indexOf("{")+1;var endIndex=hash.indexOf("}")+1;if(startIndex&&endIndex&&startIndex<endIndex){var CDCDataMap=hash.substring(startIndex,endIndex-1).split("&/");if(typeof console!="undefined"){console.log("CDC: Message recieved - "+hash.substring(startIndex,endIndex-1));}
var func=CDCDataMap[0];CDCDataMap.splice(0,1);for(var i=0;i<CDCDataMap.length;i++){CDCDataMap[i]=decodeURIComponent(CDCDataMap[i]);}
try{window[func].apply(window,CDCDataMap);window.location.hash="#!";}catch(e){if(typeof console!="undefined"){console.log("CDC ERROR: Invalid hash parameters",this.isParentPage);window.location.hash="#!";}}}};this.sendMessage=function(where,func,data){if(func.length>0){var where=where||"parent";var adaptedData="&/";if(typeof data!="undefined"){var dataMap=data.split("&/");for(var i=0;i<dataMap.length;i++){adaptedData+=encodeURIComponent(dataMap[i])+"&/";}}
if(where=="parent"){var parentUrl="";try{parentUrl=document.id("parentUrl").value.split("#")[0];}catch(e){if(typeof console!="undefined"){console.log("CDC ERROR: parentUrl is not defined",e.message);}}
window.parent.location=parentUrl+"#!"+"{"+func+adaptedData+"}";if(typeof console!="undefined"){console.log("CDC: Message sent child -> parent - "+func+adaptedData);}}else{this.child.src+="#!"+"{"+func+adaptedData+"}";if(typeof console!="undefined"){console.log("CDC: Message sent parent -> child - "+func+adaptedData);}}}};this.sendChildMsg=function(func,data){this.sendMessage("child",func,data);};this.sendParentMsg=function(){if(top.location!=self.location){var funcName=arguments[0];var data="";for(var i=1;i<arguments.length;i++){data=data+arguments[i]+"&/";}
this.sendMessage("parent",funcName,data);}};this.addFunctionExecuterHandler=function(){};this.init(options);}
function getUrlParams(url){var url=url||window.location.href;var vars={};var parts=url.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value;});return vars;}
function readCookie(name){cookie_name=name+"=";cookie_length=document.cookie.length;cookie_begin=0;while(cookie_begin<cookie_length){value_begin=cookie_begin+cookie_name.length;if(document.cookie.substring(cookie_begin,value_begin)==cookie_name){var value_end=document.cookie.indexOf(";",value_begin);if(value_end==-1){value_end=cookie_length;}
return unescape(document.cookie.substring(value_begin,value_end));}
cookie_begin=document.cookie.indexOf(" ",cookie_begin)+1;if(cookie_begin==0){break;}}
return null;}
function writeCookie(name,value,expires,path,domain,secure){document.cookie=name+"="+escape(value)+
((expires)?"; expires="+expires:"")+
((path)?"; path="+path:"")+
((domain)?"; domain="+domain:"")+
((secure)?"; secure":"");}
function getMetricKeysFromParams(params){var metricsKeys=params;var metricsValues=false;var meta=document.getElementsByTagName("meta"),assetValue="EB";for(var q=0;q<meta.length;q++){if(meta[q].getAttribute("name")==="metrics_asset_value"){assetValue=meta[q].getAttribute("content");}}
if(metricsKeys!=null){try{metricsValues={assetType:metricsKeys.split('||')[0]||"",assetId:metricsKeys.split('||')[1]||"",assetPageType:assetValue,publicationId:metricsKeys.split('||')[2]||"",subbu:leadgenMetricSubbu,simpletitle:leadgenMetricSimpletitle,trackType:metricsKeys.split('||')[5]||"",isAutoSubmit:metricsKeys.split('||')[6]||"",pageId:leadgenMetricCountry+"/"+leadgenMetricSubbu+"/"+leadgenMetricName+"/"+leadgenMetricSimpletitle};if(metricsValues.assetType=="gel"){metricsValues.assetType="exit link";}
metricsValues.asset=metricsValues.assetPageType+':'+leadgenMetricCountry+':'+leadgenMetricSubbu+':'+metricsValues.assetType+':'+metricsValues.assetId+':'+metricsValues.publicationId;if(metricsValues.publicationId=="noName"){metricsValues.asset=metricsValues.assetPageType+':'+leadgenMetricCountry+':'+leadgenMetricSubbu+':'+metricsValues.assetType+':'+metricsValues.assetId;}
if(metricsValues.isAutoSubmit){metricsValues.asset=metricsValues.asset+":Tb";}}catch(e){console.log("LEADGEN METRICS ERROR: Can not get metrics data. Error message: "+e.message);}}
return metricsValues;}
function getMetricKeys(){var metricsKeys=readCookie('metricsKeys');var metricsValues=false;var meta=document.getElementsByTagName("meta"),assetValue="EB";for(var q=0;q<meta.length;q++){if(meta[q].getAttribute("name")==="metrics_asset_value"){assetValue=meta[q].getAttribute("content");}}
if(metricsKeys!=null){try{metricsValues={assetType:metricsKeys.split('||')[0]||"",assetId:metricsKeys.split('||')[1]||"",assetPageType:assetValue,publicationId:metricsKeys.split('||')[2]||"",subbu:leadgenMetricSubbu,simpletitle:leadgenMetricSimpletitle,trackType:metricsKeys.split('||')[5]||"",pageId:leadgenMetricCountry+"/"+leadgenMetricSubbu+"/"+leadgenMetricName+"/"+leadgenMetricSimpletitle};if(metricsValues.assetType=="gel"){metricsValues.assetType="exit link";}
metricsValues.asset=metricsValues.assetPageType+':'+leadgenMetricCountry+':'+leadgenMetricSubbu+':'+metricsValues.assetType+':'+metricsValues.assetId+':'+metricsValues.publicationId;if(metricsValues.publicationId=="noName"){metricsValues.asset=metricsValues.assetPageType+':'+leadgenMetricCountry+':'+leadgenMetricSubbu+':'+metricsValues.assetType+':'+metricsValues.assetId;}}catch(e){console.log("LEADGEN METRICS ERROR: Can not get metrics data. Error message: "+e.message);}}
return metricsValues;}
function trackFormCompleted(keys){var metricsValues=getMetricKeysFromParams(keys);if(!metricsValues){return false;}
try{trackMetrics('new.page',{name:(leadgenMetricAnalyticsTemplateName||leadgenMetricSubbu)+'/'+metricsValues.assetType+'/'+metricsValues.trackType,assets:[metricsValues.asset],events:['Unqualified Lead Value'],parent_page:metricsValues.pageId});}catch(e){if(typeof console!="undefined"){console.log("LEADGEN METRICS ERROR: trackFormCompleted could not be executed. Error message: "+e.message);}}}
function trackFormRendered(keys){var metricsValues=getMetricKeysFromParams(keys);if(!metricsValues){return false;}
try{trackMetrics('new.page',{name:(leadgenMetricAnalyticsTemplateName||leadgenMetricSubbu)+'/'+metricsValues.assetType+'/'+metricsValues.trackType,assets:[metricsValues.asset],events:['Unqualified Lead Value Start'],parent_page:metricsValues.pageId});if(typeof console!="undefined"){console.log(metricsValues);}}catch(e){if(typeof console!="undefined"){console.log("LEADGEN METRICS ERROR: trackFormRendered could not be executed. Error message: "+e.message);}}}
function trackSD(keys){var metricsValues=getMetricKeysFromParams(keys);if(!metricsValues){return false;}
try{trackMetrics("new.page",{name:(leadgenMetricAnalyticsTemplateName||leadgenMetricSubbu)+'/'+metricsValues.assetType+'/gatedDownload'});}catch(e){if(typeof console!="undefined"){console.log("LEADGEN METRICS ERROR: trackSD could not be executed. Error message: "+e.message);}}}
function trackGatedLink(keys){var metricsValues=getMetricKeysFromParams(keys);if(!metricsValues){return false;}
try{var name=(leadgenMetricAnalyticsTemplateName||leadgenMetricSubbu)+'/'+metricsValues.assetType+'/gatedDownload';if(pageName=="dlc_download"||pageName=="leadgen_download"){name+="/flatdownload/"+metricsValues.publicationId;}
var touchId="";if(getUrlParams().ti!=null){touchId=":"+getUrlParams().ti;}
trackMetrics("new.page",{name:name,assets:[metricsValues.asset+touchId],events:['Mktg Download Click'],parent_page:metricsValues.pageId})}catch(e){if(typeof console!="undefined"){console.log("LEADGEN METRICS ERROR: trackGatedLink could not be executed. Error message: "+e.message);}}}
function trackRecommendationsRendering(linkNames,type,keys){var metricsValues=getMetricKeysFromParams(keys);if(!metricsValues){return false;}
var recommendedAssets=linkNames.split(",");for(var i=0;i<recommendedAssets.length;i++){var asset=recommendedAssets[i];recommendedAssets[i]=metricsValues.assetPageType+':'+leadgenMetricCountry+':'+leadgenMetricSubbu.toLowerCase()+":"+asset;}
try{var name=(leadgenMetricAnalyticsTemplateName||leadgenMetricSubbu)+'/recommend/'+type;if(pageName=="dlc_download"||pageName=="leadgen_download"){name+="/flat/"+metricsValues.publicationId;}else if(pageName=="thank_you"){name+="/flat/"+metricsValues.assetId;}
trackMetrics("recommendation.impressions",{name:name,baseAsset:[metricsValues.asset],recommendedAssets:recommendedAssets,parent_page:metricsValues.pageId})}catch(e){if(typeof console!="undefined"){console.log("LEADGEN METRICS ERROR: trackRecommendationsRendering could not be executed. Error message: "+e.message);}}}
function trackRecommendationsClick(linkName,recommendationType,type,keys){var metricsValues=getMetricKeysFromParams(keys);if(!metricsValues){return false;}
try{var name=(leadgenMetricAnalyticsTemplateName||leadgenMetricSubbu)+'/recommendation/'+type;if(pageName=="dlc_download"||pageName=="leadgen_download"){name+="/flat/"+metricsValues.publicationId;}else if(pageName=="thank_you"){name+="/flat/"+metricsValues.assetId;}
var recommendedAsset=metricsValues.assetPageType+':'+leadgenMetricCountry+':'+leadgenMetricSubbu.toLowerCase()+':'+recommendationType;if(linkName!=""){recommendedAsset+=":"+linkName;}
trackMetrics("recommendation.click",{name:name,assets:[metricsValues.asset],recommendedAsset:recommendedAsset,parent_page:metricsValues.pageId})}catch(e){if(typeof console!="undefined"){console.log("LEADGEN METRICS ERROR: trackRecommendationsClick could not be executed. Error message: "+e.message);}}}
var leadgenCDC;var leadgenPopup;var leadgenMetricCountry="";var leadgenMetricName="";var leadgenMetricBu="";var leadgenMetricSubbu="";var leadgenMetricSimpletitle="";var leadgenMetricAnalyticsTemplateName="";var leadgenMetricAssetValue="EB";var ldFlexVersion="2.0";if(typeof pageName=="undefined"){var pageName="swPage";}
var LeadgenPopup=function(){function parseParams(query){var result={};if(query.indexOf('?')===0){query=query.slice(1);}
query=query.split('&');for(var i=0,count=query.length;i<count;i++){var param=query[i].split('=');if(param[0]){result[param[0]]=param[1]||'';}}
return result;}
this.initialize=function(){this.createIframe();this.initProtectedLinks();if($('.molecule-945').length>0&&(window.location.href.indexOf('disableActivityTracker=1')<0&&window.location.href.indexOf('disableActivityTracker=true')<0)){this.initStorageIframe();}
$(window).on("hashchange",$.proxy(this.initProtectedLinks,this));};this.initStorageIframe=function(){var origin='https://ssl-www8-itg.houston.hp.com';if(window.location.host==='www8.hp.com'||window.location.host==='ssl.www8.hp.com'){origin='https://ssl.www8.hp.com';}
var storageIframe=$("<iframe>").css({"width":"0","height":"0","border":"0px","background":"transparent","display":"none"}).attr({"frameborder":"0","id":'storage-iframe',"scrolling":'no',"allowTransparency":"true","title":"Storage iframe","name":"storage-iframe","src":origin+"/us/en/ssl/leadgen/aa-assets-storage.html"});$(window).on('LG:StorageDataReceived',function(e,activityData){console.log('Storage data received on AA side');});$(window).on('SW:STORAGE:UPDATED',$.proxy(function(){},this));$(window).on('SW:GET:STORAGE',$.proxy(function(){window.frames['storage-iframe'].postMessage('LG:GetStorage',origin);},this));$(window).on('message',function(e){if(e.originalEvent.origin===origin){console.log('AA received data',JSON.parse(e.originalEvent.data));$(window).trigger('LG:StorageDataReceived',e.originalEvent.data);}});$(window).on('SW:STORAGE:CLEAN',function(e){window.frames['storage-iframe'].postMessage('LG:CleanStorage',origin);});$(document.body).append(storageIframe);};this.createIframe=function(){this.leadgenIframe=$("<iframe>").css({"width":840,"height":850,"border":'0px solid #ccc',"background":"transparent"}).attr({"frameborder":"0","id":'form_iframe',"scrolling":'no',"allowTransparency":"true","title":"Leadgen Iframe"});if(isIE){this.leadgenIframe.allowTransparency="true";}
this.iframeHolder=$("<div>").css({"width":'auto',"height":'auto',"background":"transparent","margin-left":"0px","position":"absolute","display":"none","z-index":"201"}).attr({"id":"leadgen_popup"});$(document.body).append(this.iframeHolder);this.iframeHolder.append(this.leadgenIframe);this.overlay=$("#leadgen-overlay");this.iframeHolder=$(this.iframeHolder);this.leadgenIframe=$(this.leadgenIframe);};this.initProtectedLinks=function(linksSelector){var linksSelector=linksSelector||'.js_leadgen_preview';var self=this;var compURI=$("#compURI").attr("value");$(linksSelector).each(function(i,link){var link=$(link);if(!link.hasClass("js_leadgen_ready")){link.removeAttr("target");link.attr("href",self.updateLinkUrl(link,compURI));link.addClass("js_leadgen_ready");}
link.on("click",function(e){if($(this).hasClass("js_leadgen_compaign_link")){e.preventDefault();self.linkClickHandler(this);}});});};this.updateLinkUrl=function(link,compURI){link=$(link);if(link.length&&link.attr('href')){var linkUrl=link.attr("href");var updatedUrl=linkUrl;var parentPageParams=parseParams(window.location.search);linkUrl=linkUrl.replace("ssl/leadgen/leadgen_aboutyourself","ssl/leadgen/leadgen_check");linkUrl=linkUrl.replace("ssl/dlc/dlc_aboutyourself","ssl/dlc/dlc_agreement");if(!link.hasClass("js_leadgen_compaign_link")){linkUrl=linkUrl.replace("/ssl/leadgen/leadgen_check","/leadgen/leadgen_preview");linkUrl=linkUrl.replace("/ssl/leadgen/document_register","/leadgen/leadgen_preview");linkUrl=linkUrl.replace("/ssl/dlc/dlc_aboutyourself","/leadgen/dlc_preview");linkUrl=linkUrl.replace("/ssl/dlc/dlc_agreement","/leadgen/dlc_preview");linkUrl=linkUrl.replace("/ssl/dlc/software_register","/leadgen/dlc_preview");}
var params=linkUrl.split("?")[1];var paramsToRename=[["objid","ai"],["siebelid","siebel"],["sectionid","sct"],["simpletitle","ttl"],["subbu","sbu"],["parentUrl","pu"],["prodNumber","ai"],["lang","lc"],["resouce_type","rt"],["cpt_resource_type","crt"],["parentPage","pu"],["doctitle","dt"]];for(var i=0;i<paramsToRename.length;i++){}
var paramsToRemove=["wsi","as","metrics_asset_value","simpletitle","subbu","parentPageName","analytics_page_name","fv","parentUrl","bu","st","np","cu","uri"];if(typeof params!="undefined"){var paramsMap=params.split("&");for(var i=0;i<paramsMap.length;i++){for(var j=0;j<paramsToRemove.length;j++){if(paramsMap[i].indexOf(paramsToRemove[j]+"=")+1){paramsMap[i]="";}}}
try{ldFlexVersion=HP.meta.pageType;}catch(e){ldFlexVersion="1.0";}
params=paramsMap.join("&")+"&simpletitle="+encodeURIComponent(leadgenMetricSimpletitle)+"&subbu="+encodeURIComponent(leadgenMetricSubbu)+"&parentPageName="+encodeURIComponent(leadgenMetricName)+"&analytics_page_name="+encodeURIComponent(leadgenMetricName)+"&parentUrl="+(getUrlParams().parentUrl||encodeURIComponent(window.location.href))+"&compURI="+encodeURIComponent(compURI)+"&fv="+encodeURIComponent(ldFlexVersion)+"&metrics_asset_value="+encodeURIComponent(leadgenMetricAssetValue)+"&bu="+encodeURIComponent(leadgenMetricBu)+"&st="+encodeURIComponent(hpmmd.page.sectiontaxonomy);if(linkUrl.indexOf("document_register")>0||linkUrl.indexOf("software_register")>0){params+="&np=1";}
var analyticsSectionMetatag=$("meta[name='analytics_section']");if(analyticsSectionMetatag.length>0){params+="&as="+encodeURIComponent(analyticsSectionMetatag.eq(0).attr("content").toLowerCase());}
var webSectionIdMetatag=$("meta[name='web_section_id']");if(webSectionIdMetatag.length>0){params+="&wsi="+encodeURIComponent(webSectionIdMetatag.eq(0).attr("content").toLowerCase());}
if(link.hasClass("js_leadgen_compaign_link")){params+="&cu=true";}else{params+="&cu=false";}
updatedUrl=linkUrl.split("?")[0]+"?"+params;if(parentPageParams.jumpid&&parentPageParams.originid){updatedUrl+='&jumpid='+parentPageParams.jumpid+'&origin_id='+parentPageParams.originid;if(parentPageParams.pp==="false"){updatedUrl+='&pp=false';}}}
link.data("leadgenready","true");return updatedUrl.replace(/&+/g,'&');}};this.linkClickHandler=function(link){this.overlay.css({height:$(document.body).height(),display:"block"});this.leadgenIframe.attr("src",$(link).attr("href"));this.iframeHolder.show();var documentWidth=$(document.body).width();var leftMargin=(documentWidth-840)/2;this.iframeHolder.css({left:leftMargin,"margin-top":"50px",top:$(document).scrollTop()});};this.closePopup=function(){this.iframeHolder.hide();this.overlay.css({display:"none"});this.leadgenIframe.attr("src","");};this.initialize();};var RequestCallWidget=function(requestCallTriggerClass,requestCallTargetClass){var triggers=$(requestCallTriggerClass||'.js_request_call_trigger');var target=$(requestCallTargetClass||'.js_request_call_popup')[0];target=$(target);triggers.each(function(i,trigger){$(trigger).click(function(e){e.stopPropagation();$("#leadgen-overlay").css({height:$(document.body).height(),display:"block"});var src=$('#sales_contact_expert_url').attr("value");if(src.indexOf("secure.europe.hp.com")==-1){target.find(".close_button").addClass("close_icon");}
var iframe=target.find('iframe');iframe.attr('title',"Contact Us");iframe.attr('src',src);iframe.load(function(){target.css({'visibility':'visible','left':'0px'});});target.find(".request_call_popup").css("top",$(document).scrollTop());var pageId=leadgenMetricCountry+"/"+leadgenMetricSubbu+"/"+leadgenMetricName+"/"+leadgenMetricSimpletitle;try{trackMetrics("new.page",{name:leadgenMetricAnalyticsTemplateName+"/Request_Sales_Agent",assets:[leadgenMetricAssetValue+':'+leadgenMetricCountry+':'+leadgenMetricSubbu+':Request_Sales_Agent'],events:["Unqualified Lead Value Start"],parent_page:pageId});}catch(e){}});target.find('a').click(function(){target.css({'visibility':'hidden','left':'-10000px'});$("#leadgen-overlay").css({display:"none"});});$(document.body).append(target);});};function createLeadgenOverlay(){var leadgenOverlay=$("<div>").css({background:"#000",left:0,position:"absolute",top:0,width:"100%","z-index":"200",opacity:"0.8",display:"none"}).attr({id:"leadgen-overlay"});$(document.body).append(leadgenOverlay);}
function initCASELink(linkSelector){var caseLinks=$(linkSelector);var compURI=$("#compURI").attr("value").split("-")[1];var articleCompURI=false;if($("#articleCompURI")!=null){try{articleCompURI=$("#articleCompURI").attr("value").split("-")[1];}catch(e){}}
caseLinks.each(function(i,link){link=$(link);var linkUrl=link.attr("href");if(linkUrl.indexOf("contact_sales.html")>0&&linkUrl.indexOf("{pageid}">0)){link.attr("href",link.attr("href").replace(/{pageid}/i,compURI));if(articleCompURI!==false){link.attr("href",link.attr("href")+'&article='+articleCompURI);}}});}
function initRequestCallWidget(requestCallTriggerClass,requestCallTargetClass){new RequestCallWidget(requestCallTriggerClass,requestCallTargetClass);}
function closeMainPopup(){leadgenPopup.closePopup();}
function addCompaignLink(){var returnValue=false;var leadgenUrlInput=$("#leadgenURL");if(leadgenUrlInput.length>0&&$.trim(leadgenUrlInput.attr("value"))!=""){var campaignLink=$("<a>").attr({"href":leadgenUrlInput.attr("value").replace(/\+/g,"%20"),"class":"js_leadgen_preview protected_link js_leadgen_compaign_link","rel":"text_popup"}).css({"position":"absolute","left":"-10000px"});$(document.body).append(campaignLink);returnValue=campaignLink;}
return returnValue;}
function checkForCompaignLink(link){if(link){$(link)[0].click();}}
function GSLeadgenHandler(){leadgenPopup.initProtectedLinks();}
$(document).ready(function(){leadgenMetricCountry=$("meta[name='target_country']").eq(0).attr("content").toLowerCase();leadgenMetricName=$("meta[name='analytics_template_name']").eq(0).attr("content").toLowerCase();leadgenMetricSubbu=$("meta[name='sub_bu']").eq(0).attr("content").toLowerCase();leadgenMetricBu=$("meta[name='bu']").eq(0).attr("content").toLowerCase();leadgenMetricSimpletitle=$("meta[name='simple_title']").eq(0).attr("content").toLowerCase();try{leadgenMetricAssetValue=$("meta[name='metrics_asset_value']").eq(0).attr("content").toLowerCase();switch(HP.meta.pageType){case"FLEX2":leadgenMetricAnalyticsTemplateName=leadgenMetricSubbu;break;case"FLEX2 SW3":leadgenMetricAnalyticsTemplateName=leadgenMetricName;break;default:leadgenMetricAnalyticsTemplateName=leadgenMetricName;}}catch(e){}
createLeadgenOverlay();var campaignLink=addCompaignLink();leadgenPopup=new LeadgenPopup();leadgenCDC=new CrossDomainCommunication({child:leadgenPopup.leadgenIframe,isParentPage:true});var _gsc=_gsc||[];_gsc.push(['_addEventListener','complete','GSLeadgenHandler']);window.setTimeout(GSLeadgenHandler,5000);initRequestCallWidget(".js_request_call_trigger");try{initCASELink(".contact_sales_link");}catch(e){console.log("Cannot init CASE link: ",e);}
if(campaignLink!==false){campaignLink.attr("href",leadgenPopup.updateLinkUrl(campaignLink,false));}
checkForCompaignLink(campaignLink);});
(function($){$.fn.viewportChecker=function(useroptions){var options={classToAdd:'visible',offset:100,callbackFunction:function(elem){}};$.extend(options,useroptions);var $elem=this,windowHeight=$(window).height();this.checkElements=function(){var scrollElem=((navigator.userAgent.toLowerCase().indexOf('webkit')!=-1)?'body':'html'),viewportTop=$(scrollElem).scrollTop(),viewportBottom=(viewportTop+windowHeight);$elem.each(function(){var $obj=$(this);if($obj.hasClass(options.classToAdd)){return;}
var elemTop=Math.round($obj.offset().top)+options.offset,elemBottom=elemTop+($obj.height());if((elemTop<viewportBottom)&&(elemBottom>viewportTop)){$obj.addClass(options.classToAdd);options.callbackFunction($obj);}});};$(window).scroll(this.checkElements);this.checkElements();$(window).resize(function(e){windowHeight=e.currentTarget.innerHeight;});};})(jQuery);;(function($){$.fn.videoBG=function(options){if(typeof options==="object"){options=$.extend({},$.fn.videoBG.defaults,options);}
var container=$(this);if(!container.length){return;}
var video=$.fn.videoBG.video(options);container.append(video);return video[0];};$.fn.videoBG.video=function(options){var $video=$('<video poster="'+options.poster+'"/>');if(options.autoplay){$video.attr('autoplay',options.autoplay);}
var v=$video[0];if(options.loop){loops_left=options.loop;$video.bind('ended',function(){if(loops_left){v.play();}
if(loops_left!==true){loops_left--;}});}0
$video.bind('canplay',function(){if(options.autoplay){v.play();}});if($.fn.videoBG.supportsVideo()){if($.fn.videoBG.supportType('webm')){$video.attr('src',options.webm);}else if($.fn.videoBG.supportType('mp4')){$video.attr('src',options.mp4);}else{$video.attr('src',options.ogv);}}
var $img=$('<img src="'+options.poster+'"/>');if($.fn.videoBG.supportsVideo()){v.play();return $video;}
return $img;};$.fn.videoBG.supportsVideo=function(){return(document.createElement('video').canPlayType);};$.fn.videoBG.supportType=function(str){if(!$.fn.videoBG.supportsVideo()){return false;}
var v=document.createElement('video');switch(str){case'webm':return(v.canPlayType('video/webm; codecs="vp8, vorbis"'));case'mp4':return(v.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'));case'ogv':return(v.canPlayType('video/ogg; codecs="theora, vorbis"'));}
return false;};$.fn.videoBG.defaults={mp4:'',ogv:'',webm:'',poster:'',autoplay:true,loop:true,textReplacement:false};})(jQuery);;(function(){function adjustTimingImage(){var context=$('.year-animation'),shader=$('.shader img, .shader',context),timeSpan=$('span.time',context),spansWidth,parent=context.parents('.molecule-803,.molecule-hpi-803'),resizeTimeout;$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){adjustWidth();},200)});function adjustWidth(){var padding=70,windowWidth=$(window).width();spansWidth=0;timeSpan.each(function(){spansWidth+=$(this).outerWidth();});padding=windowWidth<670?25:windowWidth<1000?35:padding;if(windowWidth<(960+padding*2)){var neWidth=windowWidth-padding*2-20-spansWidth;shader.css('width',neWidth+'px');}else{shader.css('width','800px');}}
adjustWidth();}
$.fn.stickyItem=function(){var $item=$(this),$staticItem=$item.parent();$(window).on('scroll',function(){if($staticItem.length){var itemTop=$staticItem.offset().top;if($(window).scrollTop()+1>itemTop){$item.addClass('sticky');}else{$item.removeClass('sticky');}}});};$.fn.dropDown=function(){return $(this).each(function(){var ddWrapper=$(this),tiedNavigation=ddWrapper.parent().parent().find('.molecule-835, .molecule-hpi-835'),socialNavigation=ddWrapper.parent().parent().find('.molecule-621'),$trigger=ddWrapper.find('.trigger'),$dd=ddWrapper.find('.drop'),justClicked=false,clickedTimeout,resizeTimeout;$trigger.html('<span>'+$trigger.html()+'</span><span class="icon-caret_resource-dwn"></span>');$trigger.on('click',function(e){if(!justClicked){justClicked=true;clearTimeout(clickedTimeout);clickedTimeout=setTimeout(function(){justClicked=false;},200);if($trigger.hasClass('expanded')){collapse($trigger,$dd);}else{expand($trigger,$dd);e.stopImmediatePropagation();$('body').one('click touchend',function(e){if($(e.target).parents('.molecule-405').length==0){collapse($dd);}})}}});function expand($trigger,$dd){if(!ddWrapper.parent().parent().hasClass('full-width')){var ddWidth='100%';if(tiedNavigation.length){ddWidth='350px';}
$trigger.stop().clearQueue().animate({width:ddWidth},100);}
$trigger.addClass('expanded');if(tiedNavigation.length){tiedNavigation.addClass('cta-expanded');}
if(socialNavigation.length){socialNavigation.addClass('cta-expanded');}
$dd.stop().clearQueue().animate({opacity:'show',height:'show'},150,function(){$dd.addClass('expanded');});}
function collapse($el){if(!ddWrapper.parent().parent().hasClass('full-width')){var ddWidth='100%';if(tiedNavigation.length){ddWidth='183px';}
$trigger.stop().clearQueue().animate({width:ddWidth},100,function(){$trigger.removeClass('expanded');});}else{$trigger.removeClass('expanded');}
if(tiedNavigation.length){tiedNavigation.removeClass('cta-expanded');}
if(socialNavigation.length){socialNavigation.removeClass('cta-expanded');}
$dd.removeClass('expanded').stop().clearQueue().animate({opacity:'hide',height:'hide'},150);}
function updateDropWidth(){ddWrapper.parent().parent()[$(window).width()<497?'addClass':'removeClass']('full-width');}
$(window).on('resize',function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(function(){updateDropWidth();},200);});updateDropWidth();})};$.fn.filterDD=function(){return $(this).each(function(){var list=$(this).find('.modules-list'),molecule=$(this),wrapper=list.parent(),filterDD=$(this).find('.filter-dropdown'),slider,margin=14,swiperContainer,minItemsForTwoRows=10,filterIsClicked=false,hideNavButtonsWidth=715,dropdownWrapper;init();function init(){updateFilterDD();replicateFilterButton();createFilteredContainer();wrapSliderItems();updateItemsWidth();initSlider();initListeners();recalculateOnResize();updateNavButtons();updateDDVisibility();}
function updateFilterDD(){var ddInner='',categories={},listOfCategories=[];$('>*',list).each(function(){var category=$(this).data('category'),label=$(this).data('label');if(category&&!categories[category]){listOfCategories.push({category:category,caption:label});categories[category]=true;}});listOfCategories.sort(alphabetSort);for(var i=0;i<listOfCategories.length;i++){ddInner+='<li><a href="'+listOfCategories[i].category+'">'+listOfCategories[i].caption+'</a></li>';}
$('.drop>p',filterDD).html('<span>'+$('.drop>p',filterDD).html()+'</span><span class="icon-caret_resource-up"></span>')
$('div.drop ul',filterDD).append(ddInner);filterDD.wrap('<div class="dropdown-wrapper"></div>');filterDD.find('.trigger>span').append('<span class="icon-caret_resource-dwn"></span>');}
function replicateFilterButton(){molecule.find('.dropdown-wrapper').clone(true).insertAfter(molecule.find('.module-content')).css({"margin-top":'32px'}).addClass('duplicate');molecule.css({"padding-bottom":'0px'});dropdownWrapper=molecule.find('.dropdown-wrapper');$(window).on('resize',alignDuplicatedFilterButton);}
function alphabetSort(a,b){if(a.caption<b.caption)
return-1;if(a.caption>b.caption)
return 1;return 0;}
function createFilteredContainer(){var sliderContainer=$('<div class="swiper-wrapper"></div>'),itemsOriginal=$('>*',list);itemsOriginal.each(function(){$(this).attr('data-index',$(this).index());});sliderContainer.append($('.filter-item',list)).find('.filter-item');wrapper.append(sliderContainer);sliderContainer.wrap('<div class="swiper-container"></div>');wrapper.append($('<div class="btn-prev"><span class="icon-caret_resource-l"></span></div><div class="btn-next"><span class="icon-caret_resource-r"></span></div>'));swiperContainer=wrapper.find('.swiper-container');}
function wrapSliderItems(){var width=getWidth(),itemsPerSlide=width[0]/width[1],itemsTotalLength=swiperContainer.find('.swiper-wrapper .filter-item:visible').length,screenWidth=$(window).width();if(itemsTotalLength>minItemsForTwoRows&&screenWidth>hideNavButtonsWidth){while(itemsTotalLength>0){swiperContainer.find('.swiper-wrapper>.filter-item:visible:lt('+itemsPerSlide*2+')').wrapAll('<div class="swiper-slide full-width-slide"></div>');itemsTotalLength-=itemsPerSlide*2;}
return;}
if(screenWidth>hideNavButtonsWidth){while(itemsTotalLength>0){swiperContainer.find('.swiper-wrapper>.filter-item:visible:lt('+itemsPerSlide+')').wrapAll('<div class="swiper-slide full-width-slide"></div>');itemsTotalLength-=itemsPerSlide;}
return;}
swiperContainer.find('.swiper-wrapper>.filter-item:visible').wrap('<div class="swiper-slide"></div>');}
function unwrapSliderItems(){swiperContainer.find('.swiper-slide').each(function(){$(this).after($(this).find('>.filter-item'));$(this).remove();});}
function updateItemsWidth(){var width=getWidth(),height=(width[1]-2*margin)>216?330:282,swiperSlides=$('.swiper-slide',swiperContainer),items=$('.filter-item',swiperContainer),visibleItemsLength=$('.filter-item:visible',swiperContainer).length,screenWidth=$(window).width();if(swiperContainer.width()!=width[0]&&typeof slider!='undefined'){slider.swipeTo(0,1);}
if(screenWidth>hideNavButtonsWidth){swiperContainer.removeClass('full-visible').css('width',width[0]);swiperSlides.css('width',width[0]);items.css({'width':width[1]-2*margin,'height':height});}else{swiperContainer.addClass('full-visible').css('width',width[0]);swiperSlides.css({'width':width[1],'height':height});items.css({'width':'auto','height':'100%'});}
swiperContainer.find('>div').css('max-width',visibleItemsLength*width[1]<width[0]?visibleItemsLength*width[1]:'none');swiperContainer.parent().removeClass('big');if(width[1]-2*margin>216){swiperContainer.parent().addClass('big');}}
function updateSwipeAbility(){var items=$('.swiper-slide',swiperContainer);items.removeClass('swiper-no-swiping');if(swiperContainer.width()>=$('.swiper-wrapper',swiperContainer).width()){slider.swipeTo(0,1);items.addClass('swiper-no-swiping');}}
function initSlider(){var sliderHtml=$('.swiper-container',wrapper).get(0);slider=new HP.external.Swiper(sliderHtml,{pagination:'.pagination',paginationClickable:true,slidesPerView:'auto',createPagination:false,calculateHeight:true,autoResize:false,noSwiping:true,onSlideChangeEnd:function(){setTimeout(function(){updateNavButtons();},100);}})}
function initListeners(){dropdownWrapper.each(function(){var filterDropdown=$(this).find('.filter-dropdown');var drop=$('.drop',filterDropdown),trigger=$('.trigger',filterDropdown);trigger.on('click',function(e){filterDropdown.addClass('expanded');e.stopImmediatePropagation();$('body').one('click touchend',function(e){if($(e.target).parents('.filter-dropdown').length==0){filterDropdown.removeClass('expanded');}})});$('p',drop).on('click',function(){filterDropdown.removeClass('expanded');});$('li a',drop).on('click',function(e){e.preventDefault();trigger.find('>span span:not(.icon-caret_resource-dwn)').html($(this).html());filterDropdown.removeClass('expanded');filterIsClicked=true;updateFilteredItems($(this).attr('href'));filterContentSame(filterDropdown,$(this).html());return false;});});$('.btn-prev',wrapper).on('click',function(){slider.swipePrev();});$('.btn-next',wrapper).on('click',function(){slider.swipeNext();})}
function filterContentSame(data,selectedValue){if(data.parent().hasClass('duplicate')==true){molecule.find('.dropdown-wrapper').eq(0).find('.trigger').find('>span span:not(.icon-caret_resource-dwn)').html(selectedValue);}
else{molecule.find('.dropdown-wrapper').eq(1).find('.trigger').find('>span span:not(.icon-caret_resource-dwn)').html(selectedValue);}}
function updateFilteredItems(category){var filteredItemsContainer=$('.swiper-wrapper',swiperContainer);unwrapSliderItems();if(category!='all'){filteredItemsContainer.find('.filter-item').hide();filteredItemsContainer.find('div[data-category="'+category+'"]').show();}else{list.append(filteredItemsContainer.find('.filter-item').show());for(var i=list.find('.filter-item').length-1;i>=0;i--){filteredItemsContainer.prepend(list.find('.filter-item[data-index="'+i+'"]'));}
filterIsClicked=false;}
wrapSliderItems();updateItemsWidth();slider.swipeTo(0,1);slider.reInit();updateNavButtons();}
function updateNavButtons(){var buttons=$('.btn-prev, .btn-next',wrapper);buttons.removeClass('disabled');if($(window).width()<=hideNavButtonsWidth){buttons.addClass('disabled');}
if(slider.getWrapperTranslate()==0){$('.btn-prev',wrapper).addClass('disabled');}
if(Math.round(Math.abs(slider.getWrapperTranslate())+slider.width)>=Math.round(slider.slides.length*$(slider.getLastSlide()).width())){$('.btn-next',wrapper).addClass('disabled');}
updateSwipeAbility();}
function recalculateOnResize(){var recalcTimeout,screenWidth;$(window).on('resize',function(){clearTimeout(recalcTimeout);if($(window).width()!=screenWidth){recalcTimeout=setTimeout(function(){screenWidth=$(window).width();unwrapSliderItems();wrapSliderItems();updateItemsWidth();slider.reInit();updateNavButtons();updateDDVisibility();},200);}})}
function getWidth(){var screenWidth=$(window).width(),itemWidth=295+2*margin,carouselWidth=itemWidth*5;itemWidth=216+2*margin;if(screenWidth<497){carouselWidth=itemWidth;return[carouselWidth,itemWidth];}
itemWidth=295+2*margin;if(screenWidth<671){carouselWidth=itemWidth;return[carouselWidth,itemWidth];}
if(screenWidth<969){carouselWidth=itemWidth*2;return[carouselWidth,itemWidth];}
if(screenWidth<1292){carouselWidth=itemWidth*3;return[carouselWidth,itemWidth];}
if(screenWidth<1615){carouselWidth=itemWidth*4;return[carouselWidth,itemWidth];}
return[carouselWidth,itemWidth];}
function alignDuplicatedFilterButton(){var width=$(window).width();if(width<732){molecule.find('.dropdown-wrapper').eq(1).css({"margin-top":'62px'});}}
function updateDDVisibility(){if(!filterIsClicked){var buttons=$('.btn-prev, .btn-next',wrapper);var allItemsVisible=false;if($(buttons[0]).hasClass('disabled')&&$(buttons[1]).hasClass('disabled')){allItemsVisible=true;}
if($(window).width()<=hideNavButtonsWidth){allItemsVisible=false;}
var filteredItemsContainer=$('.swiper-wrapper',swiperContainer);var filteredItemsArr=filteredItemsContainer.find('.filter-item',wrapper);var category=filteredItemsContainer.find('.filter-item:first-child',wrapper).attr("data-category");var oneCategory=true;for(var i=1;i<filteredItemsArr.length;i++){if($(filteredItemsArr[i]).attr('data-category')!=category){oneCategory=false;break;}}
if(allItemsVisible){$('.dropdown-wrapper',molecule).hide();}else{if(oneCategory){$('.dropdown-wrapper',molecule).hide();}else{$('.dropdown-wrapper',molecule).show();}}}}});};$.fn.updateModule=function(){return $(this).each(function(){var innerWrapper=$(this).find('.modules-list'),itemsLength=$('>*:not(.divider)',innerWrapper).length,testItem=$('>*:first',innerWrapper),dividerItems=[];if(testItem.hasClass('molecule-508')||testItem.hasClass('molecule-503')||testItem.hasClass('molecule-hpi-508')){innerWrapper.addClass('static-items').addClass('col_'+itemsLength);}
if(testItem.hasClass('molecule-503')){dividerItems=$('>*:not(:first):not(.divider)',innerWrapper);for(var i=0;i<dividerItems.length;i++){$("<div class='divider'></div>").insertBefore(dividerItems[i]);}}});};$.fn.portfolioSlider=function(){return $(this).each(function(){var wrapper=$(this),items=$('.molecule-508, .molecule-hpi-508',wrapper),swiperContainer,slidesWrappers,margin=10,slider;init();function init(){prepareHtml();updateWidth();createSlider();updateNavButtons();addButtonListeners();recalculateOnResize();}
function prepareHtml(){items.wrap('<div class="swiper-slide"></div>');$('.modules-list',wrapper).addClass('swiper-wrapper').wrap('<div class="swiper-container"></div>');slidesWrappers=$('.swiper-slide',wrapper);swiperContainer=$('.swiper-container',wrapper);$('<div class="btn-prev"><span class="icon-caret_resource-l"></span></div><div class="btn-next"><span class="icon-caret_resource-r"></span></div>').insertAfter(swiperContainer);}
function updateWidth(){var width=getWidth();if(swiperContainer.width()!=width[0]){swiperContainer.css('width',width[0]);if(typeof slider!='undefined'){slider.swipeTo(0,1);}}
items.css('width',width[1]-2*margin);slidesWrappers.css('width',width[1]);swiperContainer.parent().removeClass('middle big');if((width[1]-2*margin)>294){swiperContainer.parent().addClass('big');return;}
if((width[1]-2*margin)>234){swiperContainer.parent().addClass('middle');}}
function updateSwipeAbility(){var swiperContainer=$('.swiper-container',wrapper),items=$('.swiper-slide',swiperContainer);items.removeClass('swiper-no-swiping');if(swiperContainer.width()>=$('.swiper-wrapper',swiperContainer).width()){slider.swipeTo(0,1);items.addClass('swiper-no-swiping');}}
function createSlider(){var sliderHtml=$('.swiper-container',wrapper).get(0);slider=new HP.external.Swiper(sliderHtml,{pagination:'.pagination',paginationClickable:true,slidesPerView:'auto',createPagination:false,calculateHeight:true,autoResize:false,noSwiping:true,onSlideChangeEnd:function(){setTimeout(function(){updateNavButtons();},100);}});}
function addButtonListeners(){$('.btn-prev',wrapper).on('click',function(){slider.swipePrev();});$('.btn-next',wrapper).on('click',function(){slider.swipeNext();});}
function updateNavButtons(){$('.btn-prev, .btn-next',wrapper).removeClass('disabled');if(slider.getWrapperTranslate()==0){$('.btn-prev',wrapper).addClass('disabled');}
if(Math.round(Math.abs(slider.getWrapperTranslate())+slider.width)>=Math.round(slider.slides.length*$(slider.getLastSlide()).width())){$('.btn-next',wrapper).addClass('disabled');}
updateSwipeAbility();}
function recalculateOnResize(){var timeout,screenWidth;$(window).on('resize',function(){clearTimeout(timeout);if($(window).width()!=screenWidth){timeout=setTimeout(function(){screenWidth=$(window).width();updateWidth();slider.reInit();updateNavButtons();},200);}})}
function getWidth(){var screenWidth=$(window).width(),itemWidth=295+2*margin,rowPadding=20,rowWidth=swiperContainer.parent('.row').width(),isFull=(1920-rowPadding)<rowWidth,carouselWidth=isFull?1920:rowWidth;itemWidth=210+2*margin;if(screenWidth<497){carouselWidth=itemWidth;return[carouselWidth,itemWidth];}
if(screenWidth<671){carouselWidth=itemWidth*2;return[carouselWidth,itemWidth];}
itemWidth=215+2*margin;if(screenWidth<720){carouselWidth=itemWidth*2;return[carouselWidth,itemWidth];}
if(screenWidth<1000){carouselWidth=itemWidth*3;return[carouselWidth,itemWidth];}
if(screenWidth<1175){carouselWidth=itemWidth*4;return[carouselWidth,itemWidth];}
if(screenWidth<1280){carouselWidth=itemWidth*5;return[carouselWidth,itemWidth];}
if(isFull){itemWidth=295+2*margin;if(screenWidth<1580){carouselWidth=itemWidth*4;return[carouselWidth,itemWidth];}
if(screenWidth<1890){carouselWidth=itemWidth*5;return[carouselWidth,itemWidth];}}
return[carouselWidth,itemWidth];}})};function animateTiming(){var context=$('.year-animation'),animatedBlock=$('.animated',context);animatedBlock.animate({width:'100%',opacity:1},1000)}
function initAnimation(){adjustTimingImage();$('.year-animation').viewportChecker({offset:200,callbackFunction:animateTiming});}
function initBreakPoints(){var breakPointChangeTimeout,body=$('body'),breakpoints=[496,670,800,1000,1280],breakpointsLength=breakpoints.length,screenWidth;$(window).on('resize',function(){clearTimeout(breakPointChangeTimeout);if($(window).width()!=screenWidth){breakPointChangeTimeout=setTimeout(function(){manageClass();screenWidth=$(window).width();},80);}});function manageClass(){body.removeClass('max-width-'+breakpoints.join(' max-width-')+' min-width-'+breakpoints.join(' min-width-'));for(var i=0;i<breakpointsLength;i++){if($(window).width()<=breakpoints[i]){body.addClass('max-width-'+breakpoints[i]);}}
for(var j=breakpointsLength-1;j>=0;j--){if($(window).width()>breakpoints[j]){body.addClass('min-width-'+breakpoints[j]);}}}
manageClass();}
$.fn.initBGVideo=function(){return $(this).each(function(){var $el=$(this);$el.videoBG({mp4:$el.data('mp4'),ogv:$el.data('ogv'),webm:$el.data('webm'),poster:$el.data('poster'),scale:true,zIndex:0});});};$.fn.disclosureBehaviour=function(){return $(this).each(function(){var module=$(this),ddTrigger=$('.dropdown-trigger .trigger',module),dd=$('.drop',module),canUserSeeIt,labelCollapsed=module.data('collapsed-text')||'More options',labelExpanded=module.data('expanded-text')||'Less options',isExpandedByDefaul=module.hasClass('expanded-drop'),animated=false;ddTrigger.find('>span').append('<span class="icon-caret_resource-dwn"></span>');if(isExpandedByDefaul){ddTrigger.addClass('expanded').find('span span:not(.icon-caret_resource-dwn)').html(labelExpanded);}else{ddTrigger.find('span span:not(.icon-caret_resource-dwn)').html(labelCollapsed);}
if($('.molecule-403',dd).length<=3){dd.addClass('centered-items');}
ddTrigger.on('click',function(){if(animated){return false;}
animated=true;if(dd.height()){dd.height(dd.outerHeight());dd.removeClass('opened');setTimeout(function(){dd.height(0);},1);setTimeout(function(){animated=false;},501);ddTrigger.removeClass('expanded').find('span span:not(.icon-caret_resource-dwn)').html(labelCollapsed);}else{dd.css('height','auto');var temp=dd.outerHeight();dd.css({height:0});dd.addClass('opened');setTimeout(function(){dd.height(temp);},1);setTimeout(function(){animated=false;dd.css('height','auto');canUserSeeIt=inViewport(dd);if(!canUserSeeIt){makeItVisible(module,dd);}},501);ddTrigger.addClass('expanded').find('span span:not(.icon-caret_resource-dwn)').html(labelExpanded);if(!$(this).attr('data-metrics-link-type')){$(this).attr('data-metrics-link-type','link');}
$(this).trigger({type:'sendMetric',$link:$(this)});}})});function inViewport(elm){var win=$(window),viewport={top:win.scrollTop()},secondLink=$(elm).find('.molecule-403:first-child ul li:nth-child(2)'),bounds=secondLink.offset();bounds=(bounds&&bounds.top)?bounds.top:0;viewport.bottom=viewport.top+win.height();return(!(viewport.bottom<(bounds.top-15)));}
function makeItVisible(module,el){var molecule={height:$(module).outerHeight(true),top:$(module).offset().top},drop={height:$(el).outerHeight(),top:$(el).offset().top},fixedMenu=$('.molecule-800.sticky-content'),fixedMenuHeight=0,maxScrollTop,positionTop;if(fixedMenu.length){fixedMenuHeight=fixedMenu.height();}
drop.bottom=drop.top+drop.height;positionTop=drop.bottom-$(window).height();if(molecule.height>window.innerHeight){maxScrollTop=molecule.top-fixedMenuHeight;}else{maxScrollTop=positionTop;}
window.scrollTo(0,maxScrollTop);}};$.fn.initTechSpec=function(){$(this).each(function(){var wrapper=$(this),button=$('.button',wrapper),innerModules=$('.molecule-208',wrapper);if(innerModules.length<=3){$('.module-content',wrapper).addClass('centered-items');}
if(button.length){button.html('<span>'+button.html()+'</span><span class="icon-downlord-full-spec"></span>');}})}
function initMolecule621in800(){var molecule=$('.molecule-800 .molecule-621');if(molecule.length){$('.molecule-800').addClass('share-social');$('.molecule-800 .molecule-405').addClass('share-social-dropdown');}}
$.fn.initRowBackgroundModules=function(){$(this).each(function(){var moduleSection=$(this),sectionHeight=moduleSection.height(),contentHeight=-1;moduleSection.find('[class*="span"]').each(function(i,span){var spanHeight=$(span).height();contentHeight=Math.max(spanHeight,contentHeight);});moduleSection.css({'height':(contentHeight>sectionHeight)?'auto':sectionHeight+'px','background-color':'transparent'});});};function breadcrumbPosition(){var $molecules304=$(".molecule-304, .molecule-hpi-304");if($molecules304.hasClass("molecule-304-top")){$(".header").addClass("breadcrumb-header");$(".breadcrumbs-contactus-section").addClass("breadcrumb-top");if($molecules304.hasClass("font-color-theme1"))
{$(".breadcrumbs").addClass("breadcrumb-white");}}}
function fixParagraphNested(){$('.molecule-300, .molecule-hpi-300').each(function(i,item){var firstSelector=$(item).find('.text-block');var secondSelector=$(item).find('p:empty:not(.text-block)');var wrapperChilds=$('<div class="text-block">');wrapperChilds.insertBefore(firstSelector);wrapperChilds.append($(firstSelector).nextAll().not(secondSelector).not($(secondSelector).nextAll()));wrapperChilds.prepend(firstSelector);$(item).find('.text-block:empty,p:empty').remove();})}
function centerAlignModule(){$('.molecule-300, .molecule-hpi-300').each(function(){if($(this).hasClass("content-vertical-middle")){var width=$(window).width();if(width>783){var backgroundHeight=$(this).closest(".row").parent().height();var contentheight=$(this).height();var difference=(backgroundHeight-contentheight)/2;$(this).css({"margin-top":difference});}
else{$(this).css({"margin-top":'20px'});}}});}
function hideFilterButton(){$(".molecule-409").each(function(){$(this).find(".filter-dropdown .trigger > span > span:first-child").each(function(){if(($(this).text().length==0)){$(this).parents(".molecule-409").addClass("hide-filterbutton");}})})}
function largeSocialIcons(){if($(".molecule-621").hasClass("large-social-icons"))
{$(".large-social-icons").parent().addClass("auto-width");$(".large-social-icons ul li:not(:first)").each(function(){var el=$(this).find("a");var className=el.attr("class");var lrgIcon=className.replace('_sm','_lg');el.removeClass(className).addClass(lrgIcon);})
setInterval(function(){if($(".share-social-dropdown > a.trigger").hasClass("expanded")){$(".molecule-800.share-social").addClass("contact-expanded")}
else{$(".molecule-800.share-social").removeClass("contact-expanded")}},'500')}}
function initSliderWithArrowsDots(){var sliders=$('.slider.js-slider');sliders.each(function(i,item){var slider=$(item),slides=slider.find('.slider-carousel-arrows-and-dots');if(slider.parents().hasClass('flex2-molecule')&&slider.attr('data-nav-type')=='both'||slider.attr('data-nav-type')=='both'&&slider.find('.tooltipBox').length>0){slider.addClass('arrows-dots nested');}
if(slider.find('.tooltipBox').length>0&&slider.find('.ruler-hor').length>0&&(slider.attr('data-nav-type')=='both'||slider.attr('data-nav-type')=='dotted')){slider.find('.ruler-hor').remove();var navdots=slider.find('.navigation.dotted');navdots.after('<div class="ruler-hor"></div>');}
if(slides.length&&slides.hasClass('slider-content-above')){slides.each(function(){var $el=$(this),frame=$el.parent('.frame'),bckgHelper=frame.find('.section.full.bkg-helper');contentAbove=frame.find('.slider-content-above');$el.after(bckgHelper);$el.parents('.js-slider').addClass('content-above');});}});}
function addHasShiftedElementClass(){var $shiftedElement=$('.section.shift-to-top');if(!$shiftedElement.siblings().length){$shiftedElement.parent().prev().addClass('js-has-shifted-element')}else{$shiftedElement.prev().addClass('js-has-shifted-element');}}
function calculateSliderNavigation(){var sliders=$('.slider.js-slider'),imageChangedPromise=function($target){var dfd=jQuery.Deferred(),loop=setInterval(function(){if($target.outerHeight()){dfd.resolve($target);}},250);return dfd.promise();},setInfoBoxPosition=function(slider){var slider=$(slider),$nav=slider.find('.navigation.dotted'),infoBox=slider.next('.section.shift-to-top'),navBelowImage=slider.find('.section.slider-navigation-below-image').length,arrows=slider.find('.navigation.arrow');infoBox.find('.molecule-100, .molecule-hpi-100').css({marginTop:0,marginBottom:0});navBelowImage&&slider.addClass('slider-navigation-below-image');if(window.innerWidth<=800){$.when(imageChangedPromise(slider.find('img').eq(0))).then(function($target){if(infoBox.length){infoBox.css({marginTop:0});}
if(slider.hasClass('content-above')){$nav.css({top:'auto'});}else if(slider.hasClass('nested')){$nav.css({top:'auto',bottom:'auto'});}else{navBelowImage&&arrows.css({bottom:'auto',top:$target.outerHeight()+18});$nav.css({bottom:'auto',top:$target.outerHeight()+15});}});}else{if(infoBox.length){infoBox.css({marginTop:(slider.css('marginBottom').slice(0,-2)*1+infoBox.outerHeight())*-1});}
$nav.css({top:'auto',bottom:30+infoBox.outerHeight()});}},setCarouselContentVerticalMiddle=function(slider){var slider=$(slider),sliderHeight=slider.find('.section:visible').eq(0).outerHeight(),infoBox=slider.next('.section.shift-to-top'),infoBoxHeight=infoBox.length?infoBox.outerHeight():0,$rows=slider.find('.frame .section.align-cell-middle:visible .row');$rows.each(function(i,item){var $item=$(item),calculateTop=function(){if(window.innerWidth<=800){return 0;}else{return Math.floor((sliderHeight-infoBoxHeight)/2)-Math.floor($item.outerHeight()/2);}};$item.css({position:'relative',top:calculateTop()});});};$.each(sliders,function(i,slider){setInfoBoxPosition(slider);setCarouselContentVerticalMiddle(slider);});$(window).resize(function(){setTimeout(function(){$.each(sliders,function(i,slider){setInfoBoxPosition(slider);setCarouselContentVerticalMiddle(slider);});},250);});}
function setFullSectionContentVerticalMiddle(){var $fullSection=$('.section.full.align-cell-middle'),verticallyCenterFullSectionContent=function(section){var $section=$(section),$rows=$section.find('>.row'),isMobile=window.innerWidth<=800,isNoWrap=$section.hasClass('prevent-mobile-wrap'),additionalHeight=0;if($section.parents('.js-has-shifted-element').length){additionalHeight=$section.parents('.js-has-shifted-element').next().find('[class*="molecule"]').outerHeight();}
var calculateTop=function($item){if(isMobile){return 0;}else{return Math.floor($section.outerHeight()/2)-Math.floor($item.outerHeight()/2)-additionalHeight/2;}};$rows.each(function(i,item){var $item=$(item);$item.css('top',calculateTop($item));if(!(isMobile&&isNoWrap)){$item.css({position:'relative'});}});};$.each($fullSection,function(i,fullSection){verticallyCenterFullSectionContent(fullSection);});$(window).resize(function(){setTimeout(function(){$.each($fullSection,function(i,fullSection){verticallyCenterFullSectionContent(fullSection);});},250);});}
function setCarouselDotColor(){var $sliders=$('.slider.js-slider'),setDot=function($slider,$slide){if($slide.find('.section:not(.bkg-helper)').eq(0).hasClass('light-color-transition')){$slider.addClass('light-color-transition');}else{$slider.removeClass('light-color-transition');}};$sliders.each(function(i,item){setDot($(item),$(item));});$(window).on('slideChange',function(e){setDot(e.item,e.next);});}
function customTooltip(){if(!$('.tooltipBox').length){return;}
var app={util:{}};app.util.$body=$('body');app.util.$document=$(document);app.util.$window=$(window);var tooltipContent=[],generateTooltips=function(){$('.tooltipBox').each(function(i,item){var tooltipContentItem=$('<div class="tooltipContent" data-index="'+i+'"></div>').appendTo(app.util.$body),$t=$(item);$t.attr('data-index',i);tooltipContent.push(tooltipContentItem);});var slider=$('.tooltipBox').parents('.slider.arrows-dots');if(slider.length){slider.addClass('tooltipsInside');}},updateTooltips=function(){$('.tooltipBox').each(function(i,item){var $t=$(item),originalImgSize=getImageWidth($t.find('.item')),$container=$t.find('.tooltipFrame'),widthPercent=$container.width()/originalImgSize.width,heightPercent=$container.height()/originalImgSize.height;$t.find('[data-tooltip-position]').each(function(j,link){$(link).attr('data-tooltip-target',i+''+j);$(link).css({left:($(link).attr('data-tooltip-position').split(',')[0]*widthPercent)+'px',top:($(link).attr('data-tooltip-position').split(',')[1]*heightPercent)+'px'});$t.find('.tooltipContent').eq(j).attr('data-tooltip-container',i+''+j);});});},getImageWidth=function(img){var screenImage=img,theImage=new Image();theImage.src=screenImage.attr("src");return{width:theImage.width,height:theImage.height};},getPosition=function(o){var temp=o.$item.offset();return{x:Number(temp.left),y:Number(temp.top)};},createLines=function(o){var radian=function(deg){return deg*(Math.PI/180);},c=o.lineLength,x=Math.floor(Math.cos(radian(o.angle))*c),y=Math.floor(Math.sqrt(Math.pow(c,2)-Math.pow(x,2))),points=[{x:c,y:c},{x:o.angle<180?(c+x):(c+x),y:o.angle<180?(c-y):(c+y)}],svg=function(points){var line=function(){var temp='';$.each(points,function(i,v){temp+=points[i].x+','+points[i].y+' ';});return'<polyline class="line" points="'+temp.slice(0,-1)+'" style="fill:none;stroke:#9b8e55;stroke-width:2" />';};return'<svg class="line" data-index="'+o.tooltipContentIndex+'" style="position:absolute;left:'+(-1*c+15)+'px;top:'+(-1*c+15)+'px;" width="'+(c*2)+'" height="'+(c*2)+'">'+line()+'</svg>';};o.$t.append(svg(points));app.util.toolTipOffset={x:x,y:o.angle>180?y:(y*-1)};},getContent=function($t){return app.util.$body.find('[data-tooltip-container= '+$t.attr('data-tooltip-target')+']');};generateTooltips();updateTooltips();app.util.$window.on('resize',function(){window.setTimeout(function(){updateTooltips();},500);});app.util.$body.on('click','[data-tooltip-target]',function(e){e.preventDefault();if(window.innerWidth>800){var $t=$(this),tooltipContentIndex=Number($t.parents('.tooltipBox').attr('data-index')),angle=Number($t.attr('data-tooltip-angle')),lineLength=Number($t.attr('data-tooltip-line-length')),position=getPosition({$item:$t}),$content=getContent($t),setPosition=function(){if(angle===0||angle===180){return{display:'block','left':(angle?(position.x+app.util.toolTipOffset.x-tooltipContent[tooltipContentIndex].outerWidth()+15):(app.util.toolTipOffset.x+position.x)),'top':app.util.toolTipOffset.y+position.y+tooltipContent[tooltipContentIndex].outerHeight()/2*-1+15};}else{return{display:'block','left':app.util.toolTipOffset.x+position.x-(tooltipContent[tooltipContentIndex].outerWidth()-$t.outerWidth())/2,'top':app.util.toolTipOffset.y+position.y+(angle>180?(tooltipContent[tooltipContentIndex].outerHeight()-30):(tooltipContent[tooltipContentIndex].outerHeight()*-1+15))};}};if(!$t.hasClass('active')){$t.parents('.tooltipBox').find('[data-tooltip-target]').removeClass('active');$t.addClass('active');app.util.$window.trigger({type:'hidetooltip',tooltipContentIndex:tooltipContentIndex});createLines({angle:angle,lineLength:lineLength,position:position,tooltipContentIndex:tooltipContentIndex,$t:$t});tooltipContent[tooltipContentIndex].html($content.html()).css(setPosition());}else{$t.removeClass('active');app.util.$window.trigger({type:'hidetooltip',tooltipContentIndex:tooltipContentIndex});}}});app.util.$window.on('hidetooltip',function(e){var collection;if(typeof e.tooltipContentIndex!=='undefined'){collection=$.grep(tooltipContent,function(n,i){return i===e.tooltipContentIndex;});}else{collection=tooltipContent;$('[data-tooltip-target]').removeClass('active');}
$.each(collection,function(){var index=$(this).attr('data-index');tooltipContent[index].css({display:'none'});$('svg.line[data-index="'+index+'"]').remove();});});app.util.$window.resize(function(){if(window.innerWidth<=800){$('svg.line').remove();$('[data-tooltip-target]').removeClass('active');$.each(tooltipContent,function(){$(this).css({display:'none'});});}else{setTimeout(function(){$('[data-tooltip-target].active').click().click();},0);}});app.util.$window.on('slideChange',function(e){var index=e.current.find('.tooltipBox').attr('data-index');if(typeof index!=='undefined'){app.util.$window.trigger({type:'hidetooltip',tooltipContentIndex:Number(index)});e.current.find('.tooltipBox [data-tooltip-target]').removeClass('active');}});}
function accordion(){$('body').on('click','.accordionTitle',function(e){var $title=$(this),$base=$(this).parents('.accordion').eq(0),$content=$base.find('.accordionContent').eq(0);if($base.hasClass('open')){$content.height($content.children('div').eq(0).height());$content.height(0);$base.removeClass('open');setTimeout(function(){$content.removeAttr('style');$(window).trigger({type:'accordionClose','$accordion':$base});},300);}else{$content.removeAttr('style');$content.height($content.children('div').eq(0).height());$base.addClass('open');setTimeout(function(){$content.removeAttr('style');$(window).trigger({type:'accordionOpen','$accordion':$base});},300);}});}
function ie8Fix(){var ie8=$('html.ie-8');if(ie8.length){var above800=$('.section.hide-lower-than-800');var below800=$('.section.show-lower-than-800');function correctIE8(){if(window.innerWidth>=800){above800.show();below800.hide();}else{above800.hide();below800.show();}}
correctIE8();$(window).on('resize',function(){correctIE8();});}}
function moreThenOneLightBox(){var triggers=$('.js_overlay_trigger'),triggerEl,overlayId,relatedOverlay;if(triggers.length>1){for(var i=0;i<triggers.length;i++){triggerEl=triggers.eq(i);if(triggerEl.attr('rel').indexOf('image-overview')>-1){relatedOverlay=triggerEl.parents('.molecule-825').find('.overlay-popup');var order='image-overview-'+(i+1);triggerEl.attr('rel',order);relatedOverlay.attr('id',order);}}
var videoTemplate=$('.overlay-popup:not(".video-overlay-gallery") .youtube-video-template');if(videoTemplate.length){for(var j=0;j<videoTemplate.length;j++){var videoTemplateEl=videoTemplate.eq(j),idAttr=videoTemplateEl.attr('data-id'),sameVideos=$('.overlay-popup:not(".video-overlay-gallery") div[data-id="'+idAttr+'"]'),relations;if(sameVideos.length>1){relations=$.map(sameVideos,function(v,i){return $(v).parents('.overlay-popup').attr('id');});var videoOverlay=videoTemplateEl.parents('.overlay-popup');overlayId=videoOverlay.attr('id');var linksToSameVideos=$.grep(triggers,function(v,i){return $.inArray($(v).attr('rel'),relations)!==-1;});$(linksToSameVideos).attr('rel',overlayId);for(var k=0;k<sameVideos.length;k++){if(k>0){$(sameVideos[k]).parents('.overlay-popup').remove();}}}}}}
HP.Control.init(HP.LightBoxWithVideo,'.js_overlay_trigger',{});}
function alignCellCenter(){if($('html').hasClass('ie-8')){var rtl=$('html').attr('dir')==='rtl';$('.align-cell-center > .row').children().filter('[class*="span"]').each(function(){var $t=$(this);if(rtl){$t.css({marginRight:Math.floor($t.width()/2)*-1});}else{$t.css({marginLeft:Math.floor($t.width()/2)*-1});}});}}
function onResize(){$(window).on('resize',function(){setTimeout(function(){$(window).trigger({type:'delayedResize'});},500);});$(window).on('load',function(){$(window).trigger('resize');});}
function responsiveImage(){var module=$('.molecule-302:not(.noResponsiveImage), .molecule-hpi-302:not(.noResponsiveImage), .molecule-303:not(.noResponsiveImage), .molecule-hpi-303:not(.noResponsiveImage)');var $items=module.find('.image-holder[style*="width"]'),original=$items.map(function(index,item){var $t=$(item).find('img[width][height]').eq(0),isAnyTextContent=$(item).parent().find('.content-wrapper > *').length;if(isAnyTextContent){return{$t:$t,width:$t.attr('width'),height:$t.attr('height')}}}),resizeImages=function(){var ratio=(window.innerWidth>800&&window.innerWidth<=1280)?((window.innerWidth/1280).toFixed(2)):1;original.each(function(i,v){var width=Math.floor(original[i].width*ratio),molecule=original[i].$t.parents('[class*=molecule-]').eq(0);original[i].$t.css({width:(function(){return width;})(),height:'auto'});var moleculeWidth;if(molecule.is(':hidden')){if(molecule.parents('.section').hasClass('hidden')){molecule.parents('.section').removeClass('hidden');moleculeWidth=molecule.width();molecule.parents('.section').addClass('hidden');}
else{console.log('if you have any issues with resize images, check this case first');}}
else{moleculeWidth=molecule.width();}
if(width>moleculeWidth){original[i].$t.css({width:moleculeWidth});}});};if($items.length){$items.addClass('responsiveImage');resizeImages();$(window).on('resize',function(){resizeImages();});$items.parents('.js_tab_content').on('show',function(){resizeImages();});}}
function initSlidersWithLayout(){$('.js-slider').each(function(index,element){var $slider=$(element),itemWithLayout=$(element).find('[class*="layout"]'),layoutClass,layoutSize;if(itemWithLayout.length){layoutClass=$.grep(itemWithLayout.get(0).className.split(' '),function(name,i){return name.indexOf('layout-')===0;});layoutSize=layoutClass[0].split('-')[1];$slider.css({'max-width':layoutSize+'px','margin-left':'auto','margin-right':'auto'});}});}
function initLayoutWidth(){$('.section[class*="layout"]').each(function(index,element){var $item=$(element),layoutClass,layoutSize;layoutClass=$.grep($item.get(0).className.split(' '),function(name,i){return name.indexOf('layout-')===0;});layoutSize=layoutClass[0].split('-')[1];$item.find('.row').css({'max-width':layoutSize+'px'});});}
function tiles(tileContainerClassName,tileClassName){tileContainerClassName=tileContainerClassName||'.molecule-hpi-tile';tileClassName=tileClassName||'.tile';var $tileContainer=$(tileContainerClassName);var parentHasPairSlider=$tileContainer.parents('.pair-510-slider').length;if(!$tileContainer.length){return false;}
var $tiles=$tileContainer.find(tileClassName),redirect=function($link){$(document).trigger({type:'sendMetric',$link:$link});if($link.hasClass('js_overlay_trigger')){$link.trigger('click');}else{window.open($link.attr('href'),$link.attr('target')||'_self');}},removeTileHover=function(link){$tiles.not(link).removeClass('hover');},removeTridionVariable=function($item){$item.html($item.html().replace(/\$\$.*?\$\$/gm,''));},setHtml=function(){$tileContainer.parents('[class*=molecule-]').addClass('tiles');$tileContainer.each(function(){var $t=$(this),$tile=$t.find('.tile'),$parent=$t.parent(),tileWidth=null;$tile[0].style.backgroundImage='url('+$tile.find('img').attr('src')+')';removeTridionVariable($tile);if($parent.length){tileWidth=$.grep(this.className.split(/\s+/),function(v,i){return/span\d{1,2}-width/.test(v);});tileWidth=tileWidth.length?tileWidth[0]:'span24-width';$parent.addClass(tileWidth);}});},addEvents=function($tile){$tile.on('click',function(e){if(window.innerWidth>670){var $t=$(this),link=$t.find('a');if((window.innerWidth>670||tileContainerClassName!=='.molecule-hpi-tile'||tileContainerClassName!=='.molecule-hpi-510')&&window.innerWidth<801){removeTileHover(this);if($t.hasClass('hover')&&link.length){redirect(link);}else{$t.addClass('hover');}}else if(window.innerWidth>=801&&link.length){redirect(link);}
return false;}});$tile.find('a').on('click',function(e){if(window.innerWidth>=801){e.preventDefault();}});};if(tileContainerClassName==='.molecule-hpi-tile'||tileContainerClassName==='.molecule-hpi-510'){setHtml();}
$tileContainer.each(function(ind,container){var $container=$(container),tile=$container.find(tileClassName);if($container.hasClass('molecule-hpi-510')&&$container.find('.tagline').length){$container.find('.content > div').addClass('change-position');}
if(!$container.parents('.pair-510-slider').length){addEvents(tile);}});$(window).on('resize scroll',function(){removeTileHover();});}
function customHotspots(){if(!$('.hotspotsBox').length){return false;}
var initHotspots=function(){prepareHtml();var $container=$('.hotspotsBox:not(.mobile)');$container.find('[data-hotspots-position]').each(function(j,link){$(link).css({left:($(link).attr('data-hotspots-position').split(',')[0])+'px',top:($(link).attr('data-hotspots-position').split(',')[1])+'px'});});updateHotspotsMobile();initListeners();allowButtonClick();},prepareHtml=function(){$('.hotspotsBox').parents('.section').addClass('hotspotsSection');$('.hotspotsSection').prev('.section.bkg-helper').append($('.hotspotsBox.mobile')).addClass('hotspotsSection mobile');$('.hotspotsSection.mobile').find('img').addClass('hotspotsMobile');var contentSections=$('.section:has(.hotspotsHelper)').addClass('hidden');contentSections.each(function(i){if($(this).hasClass('wrappable')){$(this).prev('.section.bkg-helper').addClass('hidden');}
$(this).find('.hotspotsHelper').attr('data-hotspots-container',i+1+'');});var popup=$('.hotspots-popup');$(body).append(popup);$(body).append('<div class="bkg-light"></div>');},getImageWidth=function(img){var screenImage=img,theImage=new Image();theImage.src=screenImage.attr("src");return{width:theImage.width,height:theImage.height};},updateHotspotsMobile=function(){var $container=$('.hotspotsBox.mobile'),originalImgSize=getImageWidth($('.hotspotsSection.mobile').find('img.hotspotsMobile')),widthPercent=$container.width()/originalImgSize.width,heightPercent=$container.height()/originalImgSize.height;$container.find('[data-hotspots-position]').each(function(j,link){$(link).css({left:($(link).attr('data-hotspots-position').split(',')[0]*widthPercent)+'px',top:($(link).attr('data-hotspots-position').split(',')[1]*heightPercent)+'px'});});},initListeners=function(){var popup=$('.hotspots-popup'),container=popup.find('.container'),bkg=$('.bkg-light'),hotspotsItems=$('.hotspotsBox .hotspots'),insideSlider=$('.hotspotsBox').parents('.slider').length?true:false,popupPosition=function(){var topPopup=87,docScroll=$(document).scrollTop();if(docScroll>0){topPopup=docScroll+75;}
popup.css("top",topPopup+'px');};restartSliderRotating=function(){if(insideSlider){$(window).trigger({type:'restartRotation'});}};popup.on('click','.popup-close, a',function(){restartSliderRotating();popup.hide();bkg.hide();});bkg.on('click',function(){restartSliderRotating();popup.hide();$(this).hide();});hotspotsItems.on('click',function(){var bkgHelper='',containerNumber,sectionForOverlay;container.html("");containerNumber=$(this).attr('data-hotspots-target');sectionForOverlay=$('.hotspotsHelper[data-hotspots-container="'+containerNumber+'"]').parents('.section').clone(true);if(sectionForOverlay.hasClass('wrappable-section')){var bkgImage=sectionForOverlay.attr('data-secondary-background');bkgHelper=$('img[src="'+bkgImage+'"]').parents('.section.bkg-helper').first();}
container.append(bkgHelper,sectionForOverlay);debugger;container.find('.section').removeClass('hidden');popupPosition();popup.show();bkg.show();if(insideSlider){$(window).trigger({type:'stopRotation'});}});},allowButtonClick=function(){var button=$('.hotspotsSection:not(.mobile)').find('.flex2-molecule a.button');if(button.length){button.css({'position':'relative','z-index':4});}};initHotspots();$(window).on('resize',function(){window.setTimeout(function(){updateHotspotsMobile();},500);});}
function equalHeight($collection){$collection.height('auto').css({height:(function(){var maxHeight=Math.max.apply(null,$.makeArray($collection.map(function(i,v){return $(v).height();})));return maxHeight>0?maxHeight:'auto';})()});}
function groupEqualHeight(options){var setHeight=function($collection,selectors){var desktop=window.innerWidth>800;$.each(selectors,function(i,v){desktop?equalHeight($collection.find(v)):$collection.find(v).height('auto');});},calculate=function($collection){setHeight($collection,options.selectors);if(typeof options.cb==='function'){options.cb();}};$(options.parent).each(function(i,v){var $collection=$(this).find(options.child);if($collection.length){$(window).resize(function(){calculate($collection);});(function(){var $slider=$(v).parents('.js_tab_content');if($slider.length){$slider.on('show',function(){calculate($collection);});}})();window.onload=function(){calculate($collection);}
calculate($collection);}});}
function verticalAligment(){groupEqualHeight({parent:'[class*=molecule][class*=80].fixed-middle-description',child:'[class*=molecule][class*=501], [class*=molecule][class*=929], [class*=molecule][class*=508]',selectors:['> .clf','h3','.font-h4','[class*=description]','.link-lists','> p'],cb:function(){console.log('recalculate height');}});}
function supportOld825(){$('.js_pop_close.popup-close.link_icn.icl_cls').removeClass('link_icn').removeClass('icl_cls');$('.cl_box').filter(function(){return!$(this).parent().hasClass('lightbox-popup-close-wrapper');}).wrap($('<div/>',{"class":'lightbox-popup-close-wrapper'}));$('.molecule-825 .js-gallery-slider .js_tab_trigger').wrapInner($('<div/>',{"class":'lightbox-bullets-image-holder'}));}
function initMolecule406(){$('.molecule-406').each(function(){$(this).find('.dropdown-toggle').addClass('primary');});}
$(function(){initBreakPoints();$('.molecule-405').dropDown();$('.molecule-803:not(.enterprise-slider)').updateModule();$('.molecule-hpi-803:not(.enterprise-slider)').updateModule();$('.molecule-409').filterDD();$('.enterprise-slider').portfolioSlider();$('.bg-video').initBGVideo();$('.molecule-804,.molecule-hpi-804').disclosureBehaviour();$('.technical-specification').initTechSpec();$('[class*="background-to-row"]').initRowBackgroundModules();initAnimation();initMolecule621in800();breadcrumbPosition();centerAlignModule();$(window).on('resize',centerAlignModule);fixParagraphNested();hideFilterButton();largeSocialIcons();initSlidersWithLayout();initLayoutWidth();initSliderWithArrowsDots();addHasShiftedElementClass();calculateSliderNavigation();setCarouselDotColor();accordion();customTooltip();ie8Fix();moreThenOneLightBox();alignCellCenter();verticalAligment();setFullSectionContentVerticalMiddle();tiles();$('.molecule-hpi-511').filter(function(){return!$(this).find('.hpi-tile').length;}).wrapInner('<div class="hpi-tile"></div>');tiles('.molecule-hpi-511','.hpi-tile');tiles('.molecule-hpi-510');responsiveImage();onResize();customHotspots();initMolecule406();supportOld825();});})();
